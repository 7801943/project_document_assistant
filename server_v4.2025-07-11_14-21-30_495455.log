2025-07-11 14:21:30.494 | WARNING  | core.routing:verify_active_session:53 - verify_active_session: 用户 'zhouxiang'在SessionStateManager中未找到。可能是会话已过期被清理。
2025-07-11 14:21:30.518 | DEBUG    | core.routing:verify_active_session:46 - verify_active_session: HTTP session中缺少用户名或session_id。
2025-07-11 14:21:37.531 | WARNING  | core.routing:login:98 - 登录尝试失败: 用户名或密码错误 for 'zhouxiang,Zhangying139 user_db_entry:{'password': '123456'}' (来自 IP: 240e:479:668:3c1c:2981:28e:d181:4a3f)
2025-07-11 14:21:41.606 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 876e737d-1f17-4df2-8ad0-e30f267570bc, IP: 240e:479:668:3c1c:2981:28e:d181:4a3f) 登录/状态更新成功。
2025-07-11 14:21:41.606 | INFO     | core.routing:login:109 - 用户 'zhouxiang' (IP: 240e:479:668:3c1c:2981:28e:d181:4a3f, Session: 876e737d-1f17-4df2-8ad0-e30f267570bc) 登录成功。
2025-07-11 14:21:41.665 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 876e737d-1f17-4df2-8ad0-e30f267570bc) 的 WebSocket 已连接并关联。
2025-07-11 14:22:30.779 | ERROR    | core.routing:get_upload_form:298 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 14:28:03.670 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:44 - Session Secret Key: ********d6f0
2025-07-11 14:28:03.671 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:54c9:fc2b:a289:87d0]:8888
2025-07-11 14:28:03.672 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-11 14:28:03.672 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-11 14:28:03.675 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-11 14:28:03.691 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1157861 - 服务器启动中...
2025-07-11 14:28:03.727 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-11 14:28:03.728 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-11 14:28:03.736 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-11 14:28:03.736 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-11 14:28:03.736 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-11 14:28:03.736 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 14:28:03.737 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-11 14:28:03.737 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-11 14:28:03)
2025-07-11 14:28:03.742 | INFO     | database.filebase:scan_existing:317 - 处理 772 个文件...
2025-07-11 14:28:07.039 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-11 14:28:07, 总耗时: 3.30 秒)
2025-07-11 14:28:07.049 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 14:28:07.050 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-11 14:28:07.050 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-11 14:28:07.050 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-11 14:28:07.052 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-11 14:28:07.052 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-11 14:28:07.052 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-11 14:28:07.052 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-11 14:28:07.052 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 5 个符合条件的文件需要处理。
2025-07-11 14:28:07.066 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-11 14:28:07.067 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-11 14:28:07.067 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-11 14:28:07.069 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-11 14:28:07.070 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-11 14:28:07.070 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-11 14:28:07.070 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-11 14:28:07.071 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-11 14:28:12.169 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: c0b6b4f0-fcdd-4f24-977a-152877cd5626, IP: 240e:479:668:3c1c:2981:28e:d181:4a3f) 登录/状态更新成功。
2025-07-11 14:28:12.170 | INFO     | core.routing:login:109 - 用户 'admin' (IP: 240e:479:668:3c1c:2981:28e:d181:4a3f, Session: c0b6b4f0-fcdd-4f24-977a-152877cd5626) 登录成功。
2025-07-11 14:28:12.311 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: c0b6b4f0-fcdd-4f24-977a-152877cd5626) 的 WebSocket 已连接并关联。
2025-07-11 14:28:38.037 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 14:32:00.514 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:01:59.555 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 c0b6b4f0-fcdd-4f24-977a-152877cd5626 用户 admin 断开连接
2025-07-11 15:01:59.556 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 15:01:59.556 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-11 15:01:59.656 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1157861 - 服务器关闭中...
2025-07-11 15:01:59.657 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-11 15:01:59.657 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-11 15:02:04.226 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-11 15:02:04.226 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 15:02:04.226 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 15:02:04.226 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-11 15:02:04.227 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-11 15:02:04.227 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-11 15:02:04.227 | INFO     | __main__:<module>:44 - Session Secret Key: ********5502
2025-07-11 15:02:04.227 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:54c9:fc2b:a289:87d0]:8888
2025-07-11 15:02:04.227 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-11 15:02:04.227 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-11 15:02:04.230 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-11 15:02:04.245 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1188314 - 服务器启动中...
2025-07-11 15:02:04.280 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-11 15:02:04.281 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-11 15:02:04.288 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-11 15:02:04.289 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-11 15:02:04.289 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-11 15:02:04.289 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 15:02:04.289 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-11 15:02:04.289 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-11 15:02:04)
2025-07-11 15:02:04.296 | INFO     | database.filebase:scan_existing:317 - 处理 772 个文件...
2025-07-11 15:02:07.581 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-11 15:02:07, 总耗时: 3.29 秒)
2025-07-11 15:02:07.589 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 15:02:07.590 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-11 15:02:07.590 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-11 15:02:07.590 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-11 15:02:07.592 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-11 15:02:07.592 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-11 15:02:07.592 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-11 15:02:07.592 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-11 15:02:07.592 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 5 个符合条件的文件需要处理。
2025-07-11 15:02:07.606 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-11 15:02:07.608 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-11 15:02:07.608 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-11 15:02:07.611 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-11 15:02:07.611 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-11 15:02:07.612 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-11 15:02:07.612 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-11 15:02:07.612 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-11 15:02:16.469 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: f9400911-5d58-4cf2-be0d-7bed3bb27eea, IP: 240e:479:668:3c1c:2981:28e:d181:4a3f) 登录/状态更新成功。
2025-07-11 15:02:16.469 | INFO     | core.routing:login:109 - 用户 'admin' (IP: 240e:479:668:3c1c:2981:28e:d181:4a3f, Session: f9400911-5d58-4cf2-be0d-7bed3bb27eea) 登录成功。
2025-07-11 15:02:17.501 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: f9400911-5d58-4cf2-be0d-7bed3bb27eea) 的 WebSocket 已连接并关联。
2025-07-11 15:02:43.095 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:03:35.233 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:05:33.514 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:09:39.084 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:10:00.000 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: f9400911-5d58-4cf2-be0d-7bed3bb27eea) 已从状态管理器登出。
2025-07-11 15:10:00.001 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 15:10:00.017 | INFO     | core.routing:logout:120 - HTTP会话已清除 (用户: admin)。
2025-07-11 15:10:00.017 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 f9400911-5d58-4cf2-be0d-7bed3bb27eea 用户 admin 断开连接
2025-07-11 15:10:00.017 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 15:10:10.705 | WARNING  | core.routing:login:98 - 登录尝试失败: 用户名或密码错误 for 'zhouxiang,123456 user_db_entry:{'password': 'Zhangying139'}' (来自 IP: 127.0.0.1)
2025-07-11 15:10:16.426 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 866a60b3-6f7f-490c-88ea-96360a873fb6, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 15:10:16.426 | INFO     | core.routing:login:109 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: 866a60b3-6f7f-490c-88ea-96360a873fb6) 登录成功。
2025-07-11 15:10:21.252 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 866a60b3-6f7f-490c-88ea-96360a873fb6) 的 WebSocket 已连接并关联。
2025-07-11 15:14:02.312 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:15:58.989 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:16:15.999 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:21:45.507 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 866a60b3-6f7f-490c-88ea-96360a873fb6) 已从状态管理器登出。
2025-07-11 15:21:45.507 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 15:21:45.507 | INFO     | core.routing:logout:120 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-11 15:21:45.508 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 866a60b3-6f7f-490c-88ea-96360a873fb6 用户 zhouxiang 断开连接
2025-07-11 15:21:45.508 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 15:21:47.820 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: c0c20d21-e1d0-4f7b-8a32-54c309dc8d44, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 15:21:47.820 | INFO     | core.routing:login:109 - 用户 'admin' (IP: 127.0.0.1, Session: c0c20d21-e1d0-4f7b-8a32-54c309dc8d44) 登录成功。
2025-07-11 15:21:47.864 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: c0c20d21-e1d0-4f7b-8a32-54c309dc8d44) 的 WebSocket 已连接并关联。
2025-07-11 15:24:57.316 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:26:05.309 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:26:36.938 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:26:55.561 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: c0c20d21-e1d0-4f7b-8a32-54c309dc8d44) 已从状态管理器登出。
2025-07-11 15:26:55.561 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 15:26:55.561 | INFO     | core.routing:logout:120 - HTTP会话已清除 (用户: admin)。
2025-07-11 15:26:55.562 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 c0c20d21-e1d0-4f7b-8a32-54c309dc8d44 用户 admin 断开连接
2025-07-11 15:26:55.562 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 15:26:58.736 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 3ac64492-9624-4c6a-a6bc-811168b58247, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 15:26:58.736 | INFO     | core.routing:login:109 - 用户 'admin' (IP: 127.0.0.1, Session: 3ac64492-9624-4c6a-a6bc-811168b58247) 登录成功。
2025-07-11 15:26:58.775 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 3ac64492-9624-4c6a-a6bc-811168b58247) 的 WebSocket 已连接并关联。
2025-07-11 15:28:13.110 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:28:31.027 | ERROR    | core.routing:get_upload_form:285 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:34:16.263 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 3ac64492-9624-4c6a-a6bc-811168b58247 用户 admin 断开连接
2025-07-11 15:34:16.263 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 15:34:16.263 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-11 15:34:16.364 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1188314 - 服务器关闭中...
2025-07-11 15:34:16.364 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-11 15:34:16.365 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-11 15:34:19.675 | INFO     | __main__:<module>:44 - Session Secret Key: ********3d55
2025-07-11 15:34:19.676 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:54c9:fc2b:a289:87d0]:8888
2025-07-11 15:34:19.676 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-11 15:34:19.676 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-11 15:34:19.678 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-11 15:34:19.693 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1217943 - 服务器启动中...
2025-07-11 15:34:19.726 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-11 15:34:19.727 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-11 15:34:19.734 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-11 15:34:19.734 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-11 15:34:19.734 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-11 15:34:19.735 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 15:34:19.735 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-11 15:34:19.735 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-11 15:34:19)
2025-07-11 15:34:19.741 | INFO     | database.filebase:scan_existing:317 - 处理 772 个文件...
2025-07-11 15:34:23.062 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-11 15:34:23, 总耗时: 3.33 秒)
2025-07-11 15:34:23.070 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 15:34:23.070 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-11 15:34:23.070 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-11 15:34:23.070 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-11 15:34:23.072 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-11 15:34:23.072 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-11 15:34:23.072 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-11 15:34:23.072 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-11 15:34:23.073 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 5 个符合条件的文件需要处理。
2025-07-11 15:34:23.086 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-11 15:34:23.087 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-11 15:34:23.087 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-11 15:34:23.089 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-11 15:34:23.090 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-11 15:34:23.090 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-11 15:34:23.090 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-11 15:34:23.090 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-11 15:34:32.848 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 18f376dd-5eea-4d1f-b8ba-3c8075ab1d96, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 15:34:32.848 | INFO     | core.routing:login:109 - 用户 'admin' (IP: 127.0.0.1, Session: 18f376dd-5eea-4d1f-b8ba-3c8075ab1d96) 登录成功。
2025-07-11 15:34:32.909 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 18f376dd-5eea-4d1f-b8ba-3c8075ab1d96) 的 WebSocket 已连接并关联。
2025-07-11 15:35:13.196 | DEBUG    | core.routing:get_upload_form:277 - 收到的 'files' 字段内容 (files_raw): [UploadFile(filename='QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', size=2337934, headers=Headers({'content-disposition': 'form-data; name="files"; filename="QGDW 10688-2024 å\x8f\x98ç\x94µç«\x99è¾\x85å\x8a©ç\x9b\x91æ\x8e§ç³»ç»\x9fè®¾è®¡è§\x84è\x8c\x83.pdf"', 'content-type': 'application/pdf'}))]
2025-07-11 15:35:13.196 | DEBUG    | core.routing:get_upload_form:279 -   - Item 0: Value='UploadFile(filename='QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', size=2337934, headers=Headers({'content-disposition': 'form-data; name="files"; filename="QGDW 10688-2024 å\x8f\x98ç\x94µç«\x99è¾\x85å\x8a©ç\x9b\x91æ\x8e§ç³»ç»\x9fè®¾è®¡è§\x84è\x8c\x83.pdf"', 'content-type': 'application/pdf'}))', Type=<class 'starlette.datastructures.UploadFile'>
2025-07-11 15:35:13.196 | ERROR    | core.routing:get_upload_form:283 - 检测到无效的文件上传数据类型。
2025-07-11 15:35:13.196 | ERROR    | core.routing:get_upload_form:293 - 解析通用上传字段时出错: 400: 无效的文件上传数据。
2025-07-11 15:37:49.978 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 18f376dd-5eea-4d1f-b8ba-3c8075ab1d96 用户 admin 断开连接
2025-07-11 15:37:49.978 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 15:37:49.978 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-11 15:37:50.079 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1217943 - 服务器关闭中...
2025-07-11 15:37:50.079 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-11 15:37:50.079 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-11 15:37:59.923 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-11 15:37:59.923 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 15:37:59.923 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 15:37:59.923 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-11 15:37:59.923 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-11 15:37:59.924 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-11 15:37:59.924 | INFO     | __main__:<module>:44 - Session Secret Key: ********94df
2025-07-11 15:37:59.924 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:54c9:fc2b:a289:87d0]:8888
2025-07-11 15:37:59.924 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-11 15:37:59.924 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-11 15:37:59.927 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-11 15:37:59.941 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1221430 - 服务器启动中...
2025-07-11 15:37:59.975 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-11 15:37:59.975 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-11 15:37:59.983 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-11 15:37:59.983 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-11 15:37:59.983 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-11 15:37:59.983 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 15:37:59.983 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-11 15:37:59.984 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-11 15:37:59)
2025-07-11 15:37:59.989 | INFO     | database.filebase:scan_existing:317 - 处理 772 个文件...
2025-07-11 15:38:03.243 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-11 15:38:03, 总耗时: 3.26 秒)
2025-07-11 15:38:03.251 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 15:38:03.251 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-11 15:38:03.251 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-11 15:38:03.251 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-11 15:38:03.253 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-11 15:38:03.253 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-11 15:38:03.253 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-11 15:38:03.253 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-11 15:38:03.254 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 5 个符合条件的文件需要处理。
2025-07-11 15:38:03.268 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-11 15:38:03.269 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-11 15:38:03.269 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-11 15:38:03.271 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-11 15:38:03.272 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-11 15:38:03.272 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-11 15:38:03.272 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-11 15:38:03.273 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-11 15:38:14.317 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 54af64c1-c34f-47f6-b1a3-93b761c557a1, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 15:38:14.317 | INFO     | core.routing:login:110 - 用户 'admin' (IP: 127.0.0.1, Session: 54af64c1-c34f-47f6-b1a3-93b761c557a1) 登录成功。
2025-07-11 15:38:14.399 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 54af64c1-c34f-47f6-b1a3-93b761c557a1) 的 WebSocket 已连接并关联。
2025-07-11 15:38:29.539 | INFO     | core.routing:handle_spec_upload:342 - 用户 'admin' 开始上传规程 '变电站辅助设备监控系统设计规范'。目标: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范' (覆盖: False)。
2025-07-11 15:38:29.557 | INFO     | core.routing:handle_spec_upload:362 - 规程文件已上传至 '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范'。开始索引...
2025-07-11 15:38:29.557 | INFO     | database.specbase:add_spec_directory:221 - 开始按需索引目录: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范
2025-07-11 15:38:29.558 | DEBUG    | database.specbase:add_spec_directory:233 - 开始按需索引目录: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范, 1 个文件。
2025-07-11 15:38:29.563 | INFO     | database.specbase:add_spec_directory:238 - 目录 /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范 的按需索引完成。
2025-07-11 15:40:30.150 | DEBUG    | core.routing:get_upload_form:296 - 上传字段year:2024 project_name:盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程 project_type:送审 upload_type:UploadType.DIRECTORY overwrite:False files:[UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-00-图纸目录.pdf', size=226401, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-00-å\x9b¾çº¸ç\x9b®å½\x95.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-01 通运220千伏变电站110千伏间隔保护改造工程 初步设计说明书.docx', size=4788610, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-01 é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-02 主要设备材料清册.docx', size=520474, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-02 ä¸»è¦\x81è®¾å¤\x87æ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=444320, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-03-2023å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=283721, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-04-2025å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-05-通运变110kV主接线.pdf', size=250185, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-05-é\x80\x9aè¿\x90å\x8f\x98110kVä¸»æ\x8e¥çº¿.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-06-二次设备室平面布置图.pdf', size=329382, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-06-äº\x8cæ¬¡è®¾å¤\x87å®¤å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-07-系统继电保护配置图.pdf', size=208339, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-07-ç³»ç»\x9fç»§ç\x94µä¿\x9dæ\x8a¤é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-08-光缆路径示意图.pdf', size=433480, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-08-å\x85\x89ç¼\x86è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-09-光缆熔接示意图.pdf', size=300703, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-09-å\x85\x89ç¼\x86ç\x86\x94æ\x8e¥ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-10-通运变进站光缆引入示意图.pdf', size=816862, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/é\x80\x9aè¿\x90220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.3C-A-10-é\x80\x9aè¿\x90å\x8f\x98è¿\x9bç«\x99å\x85\x89ç¼\x86å¼\x95å\x85¥ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-01 红卫110千伏变电站110千伏间隔扩建工程初步设计说明书.docx', size=2957358, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-01 çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8bå\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc', size=438784, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-02 çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8bä¸»è¦\x81è®¾å¤\x87æ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c.doc"', 'content-type': 'application/msword'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=285367, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-03-2023å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=291680, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-04-2025å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-05-红卫变110kV主接线.pdf', size=285757, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-05-çº¢å\x8d«å\x8f\x98110kVä¸»æ\x8e¥çº¿.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-06-红卫变110kV总平布置.pdf', size=262551, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-06-çº¢å\x8d«å\x8f\x98110kVæ\x80»å¹³å¸\x83ç½®.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-07-红卫变110kV正红出线间隔断面图.pdf', size=382252, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-07-çº¢å\x8d«å\x8f\x98110kVæ\xad£çº¢å\x87ºçº¿é\x97´é\x9a\x94æ\x96\xadé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-08-系统继电保护配置图.pdf', size=264462, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-08-ç³»ç»\x9fç»§ç\x94µä¿\x9dæ\x8a¤é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-09-二次设备室布置图.pdf', size=290270, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-09-äº\x8cæ¬¡è®¾å¤\x87å®¤å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-10-红卫110kV线路保护、监测TA配置图.pdf', size=239414, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-10-çº¢å\x8d«110kVçº¿è·¯ä¿\x9dæ\x8a¤ã\x80\x81ç\x9b\x91æµ\x8bTAé\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-11-基础平面布置图.pdf', size=261062, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-11-å\x9fºç¡\x80å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-12 -光缆路径示意图.pdf', size=437096, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-12 -å\x85\x89ç¼\x86è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-13 -红卫变进站光缆引入示意图-20240131144914417.pdf', size=909785, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/çº¢å\x8d«110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/HN-B2023-10.1C-A01-13 -çº¢å\x8d«å\x8f\x98è¿\x9bç«\x99å\x85\x89ç¼\x86å¼\x95å\x85¥ç¤ºæ\x84\x8få\x9b¾-20240131144914417.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-00-图纸目录.pdf', size=224222, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-00-å\x9b¾çº¸ç\x9b®å½\x95.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-01 正红110kV变电站110kV间隔保护改造工程 初步设计说明书.docx', size=4787477, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-01 æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-02 主要设备材料清册.docx', size=521258, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-02 ä¸»è¦\x81è®¾å¤\x87æ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=444105, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-03-2023å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=283186, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-04-2025å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-05-正红变110kV主接线.pdf', size=226927, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-05-æ\xad£çº¢å\x8f\x98110kVä¸»æ\x8e¥çº¿.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-06-二次设备室平面布置图.pdf', size=233554, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-06-äº\x8cæ¬¡è®¾å¤\x87å®¤å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-07-系统继电保护配置图.pdf', size=208243, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-07-ç³»ç»\x9fç»§ç\x94µä¿\x9dæ\x8a¤é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-08-光缆路径示意图.pdf', size=433241, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-08-å\x85\x89ç¼\x86è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-09-光缆熔接示意图.pdf', size=300460, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-09-å\x85\x89ç¼\x86ç\x86\x94æ\x8e¥ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-10-正红变进站光缆引入示意图.pdf', size=338152, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/æ\xad£çº¢110kVå\x8f\x98ç\x94µç«\x99110kVé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.2C-A-10-æ\xad£çº¢å\x8f\x98è¿\x9bç«\x99å\x85\x89ç¼\x86å¼\x95å\x85¥ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-00-图纸目录.pdf', size=230809, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-00-å\x9b¾çº¸ç\x9b®å½\x95.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-01 亿能220千伏变电站110千伏间隔保护改造工程 初步设计说明书.docx', size=4861155, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-01 äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-02 主要设备材料清册.docx', size=585333, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-02 ä¸»è¦\x81è®¾å¤\x87æ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=443874, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-03-2023å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', size=283258, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-04-2025å¹´ç\x9b\x90å\x9f\x8eå¸\x82æ»¨æµ·å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9c°ç\x90\x86æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-05-亿能变110kV主接线.pdf', size=257874, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-05-äº¿è\x83½å\x8f\x98110kVä¸»æ\x8e¥çº¿.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-06-亿能变110kV平面布置图.pdf', size=310094, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-06-äº¿è\x83½å\x8f\x98110kVå¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-07-亿能变110kV通亿线间隔断面图.pdf', size=527312, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-07-äº¿è\x83½å\x8f\x98110kVé\x80\x9aäº¿çº¿é\x97´é\x9a\x94æ\x96\xadé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-08-二次设备室平面布置图.pdf', size=374864, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-08-äº\x8cæ¬¡è®¾å¤\x87å®¤å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-09-系统继电保护配置图.pdf', size=208234, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-09-ç³»ç»\x9fç»§ç\x94µä¿\x9dæ\x8a¤é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-10-基础平面布置图.pdf', size=191451, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-10-å\x9fºç¡\x80å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-11-光缆路径示意图.pdf', size=433285, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-11-å\x85\x89ç¼\x86è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-12-光缆熔接示意图.pdf', size=300558, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-12-å\x85\x89ç¼\x86ç\x86\x94æ\x8e¥ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-13-亿能变进站光缆引入示意图.pdf', size=507625, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x9b\x90å\x9f\x8eæ»¨æµ·æ¶¦ç\x94µ200å\x85\x86ç\x93¦æ¸\x94æ\x9e\x97å\x85\x89äº\x92è¡¥å\x85\x89ä¼\x8få\x8f\x91ç\x94µé¡¹ç\x9b®110å\x8d\x83ä¼\x8fé\x80\x81å\x87ºå·¥ç¨\x8b/é\x80\x81å®¡/äº¿è\x83½220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94ä¿\x9dæ\x8a¤æ\x94¹é\x80\xa0å·¥ç¨\x8b/B2023-10.4C-A-13-äº¿è\x83½å\x8f\x98è¿\x9bç«\x99å\x85\x89ç¼\x86å¼\x95å\x85¥ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'}))] file_paths['盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-00-图纸目录.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-01 通运220千伏变电站110千伏间隔保护改造工程 初步设计说明书.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-02 主要设备材料清册.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-05-通运变110kV主接线.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-06-二次设备室平面布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-07-系统继电保护配置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-08-光缆路径示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-09-光缆熔接示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-10-通运变进站光缆引入示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-01 红卫110千伏变电站110千伏间隔扩建工程初步设计说明书.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-05-红卫变110kV主接线.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-06-红卫变110kV总平布置.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-07-红卫变110kV正红出线间隔断面图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-08-系统继电保护配置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-09-二次设备室布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-10-红卫110kV线路保护、监测TA配置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-11-基础平面布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-12 -光缆路径示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-13 -红卫变进站光缆引入示意图-20240131144914417.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-00-图纸目录.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-01 正红110kV变电站110kV间隔保护改造工程 初步设计说明书.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-02 主要设备材料清册.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-05-正红变110kV主接线.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-06-二次设备室平面布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-07-系统继电保护配置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-08-光缆路径示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-09-光缆熔接示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-10-正红变进站光缆引入示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-00-图纸目录.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-01 亿能220千伏变电站110千伏间隔保护改造工程 初步设计说明书.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-02 主要设备材料清册.docx', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-05-亿能变110kV主接线.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-06-亿能变110kV平面布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-07-亿能变110kV通亿线间隔断面图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-08-二次设备室平面布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-09-系统继电保护配置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-10-基础平面布置图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-11-光缆路径示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-12-光缆熔接示意图.pdf', '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-13-亿能变进站光缆引入示意图.pdf']
2025-07-11 15:40:30.152 | INFO     | core.routing:handle_project_upload:381 - 用户 'admin' 开始上传项目 '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程'。目标: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审' (覆盖: False)。
2025-07-11 15:40:30.236 | INFO     | core.routing:handle_project_upload:401 - 项目文件已上传至 '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审'。文件监视器将自动索引。
2025-07-11 15:40:30.245 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程
2025-07-11 15:40:30.246 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程 中找到 49 个文件需要处理。
2025-07-11 15:40:30.255 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程
2025-07-11 15:40:30.255 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审
2025-07-11 15:40:30.256 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审 中找到 49 个文件需要处理。
2025-07-11 15:40:30.264 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审
2025-07-11 15:40:30.264 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审
2025-07-11 15:40:30.265 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审 中找到 49 个文件需要处理。
2025-07-11 15:40:30.270 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审
2025-07-11 15:40:30.270 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.271 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:40:30.273 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.273 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审
2025-07-11 15:40:30.274 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审 中找到 49 个文件需要处理。
2025-07-11 15:40:30.282 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审
2025-07-11 15:40:30.282 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审
2025-07-11 15:40:30.283 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审 中找到 49 个文件需要处理。
2025-07-11 15:40:30.291 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审
2025-07-11 15:40:30.291 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.292 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:40:30.294 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.294 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审
2025-07-11 15:40:30.295 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审 中找到 49 个文件需要处理。
2025-07-11 15:40:30.301 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审
2025-07-11 15:40:30.301 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.301 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:40:30.302 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.303 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.303 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:40:30.304 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.305 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程
2025-07-11 15:40:30.305 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程 中找到 13 个文件需要处理。
2025-07-11 15:40:30.307 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程
2025-07-11 15:40:30.308 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程
2025-07-11 15:40:30.308 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:40:30.310 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程
2025-07-11 15:40:30.310 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:40:30.311 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程 中找到 14 个文件需要处理。
2025-07-11 15:40:30.312 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:43:12.876 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 54af64c1-c34f-47f6-b1a3-93b761c557a1, 用户: admin, 对话idNone
2025-07-11 15:43:12.876 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 15:43:22.976 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='/ALL', 年份='None'
2025-07-11 15:43:22.976 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 收到全部项目查询请求
2025-07-11 15:43:26.890 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 15:43:44.050 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 54af64c1-c34f-47f6-b1a3-93b761c557a1, 用户: admin, 对话id902c1d79-5a12-44a5-8c04-fd36acfd4867
2025-07-11 15:43:44.050 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 15:43:49.010 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='盐城润电', 年份='None'
2025-07-11 15:43:49.010 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '盐城润电', 年份: None
2025-07-11 15:43:49.011 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-11 15:43:49.011 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-11 15:43:49.011 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 15:43:49.305 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程', 0.6198937327166631), ('南京姚庄110千伏变电站改造工程', 0.4306479666179451), ('S30211C-江苏南通东洲～新丰500千伏线路工程', 0.3994735407963695)]
2025-07-11 15:43:52.341 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 15:43:56.276 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 54af64c1-c34f-47f6-b1a3-93b761c557a1, 用户: admin, 对话id902c1d79-5a12-44a5-8c04-fd36acfd4867
2025-07-11 15:43:56.276 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 15:43:58.807 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程', 年份='None'
2025-07-11 15:43:58.808 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程', 年份: None
2025-07-11 15:43:58.808 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程']
2025-07-11 15:43:58.808 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程'
2025-07-11 15:43:58.810 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程'，包含 49 个文件。
2025-07-11 15:43:58.810 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 15:44:02.288 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 15:44:08.174 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/d20451d2771b483ea4d21705176b7ce7/B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:44:08.343 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'd20451d2771b483ea4d21705176b7ce7', URL中的文件名: 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图_9961d3bd.pdf'
2025-07-11 15:44:08.344 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd20451d2771b483ea4d21705176b7ce7' (文件: B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 15:44:08.344 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图_9961d3bd.pdf' 与Token关联文件名 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 15:44:08.344 | DEBUG    | core.routing:download_file_via_token:237 - Token 'd20451d2771b483ea4d21705176b7ce7' 验证成功。准备下载文件: 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', URL文件名: 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图_9961d3bd.pdf')
2025-07-11 15:44:08.346 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'd20451d2771b483ea4d21705176b7ce7', URL中的文件名: 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图_9961d3bd.pdf'
2025-07-11 15:44:08.346 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd20451d2771b483ea4d21705176b7ce7' (文件: B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 15:44:08.346 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图_9961d3bd.pdf' 与Token关联文件名 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 15:44:08.346 | DEBUG    | core.routing:download_file_via_token:237 - Token 'd20451d2771b483ea4d21705176b7ce7' 验证成功。准备下载文件: 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf', URL文件名: 'B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图_9961d3bd.pdf')
2025-07-11 15:44:50.594 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/343e852e14bb4a43a824a3ad262ad1df/HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc
2025-07-11 15:44:50.601 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '343e852e14bb4a43a824a3ad262ad1df', URL中的文件名: 'HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册_5d947e96.doc'
2025-07-11 15:44:50.601 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '343e852e14bb4a43a824a3ad262ad1df' (文件: HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 15:44:50.602 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册_5d947e96.doc' 与Token关联文件名 'HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc' 不匹配。将使用Token关联文件名。
2025-07-11 15:44:50.602 | DEBUG    | core.routing:download_file_via_token:237 - Token '343e852e14bb4a43a824a3ad262ad1df' 验证成功。准备下载文件: 'HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc', URL文件名: 'HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册_5d947e96.doc')
2025-07-11 15:45:41.638 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 54af64c1-c34f-47f6-b1a3-93b761c557a1, 用户: admin, 对话id902c1d79-5a12-44a5-8c04-fd36acfd4867
2025-07-11 15:45:41.638 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 15:45:44.973 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 15:45:48.598 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 54af64c1-c34f-47f6-b1a3-93b761c557a1, 用户: admin, 对话id902c1d79-5a12-44a5-8c04-fd36acfd4867
2025-07-11 15:45:48.599 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 15:45:51.980 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '智辅系统的规范', 类别: '二次', 读取文件: True, Top N: 3
2025-07-11 15:45:51.980 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-11 15:45:51.981 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 3 条规程记录。
2025-07-11 15:45:51.981 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 15:45:52.078 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('变电站辅助设备监控系统设计规范', 0.5655841283019555), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.43894807744877856), ('45_DLT-559-2018《220kV～750kV电网继电保护装置运行整定规程》_md', 0.4229810237982241)]
2025-07-11 15:45:52.078 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:893 - 找到最匹配的文件: '二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (相似度: 0.5656)，准备读取内容。
2025-07-11 15:45:52.078 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (token: 2fcc9842e14e4e23aa43960601748809), 有效期至: Fri Jul 11 23:45:52 2025
2025-07-11 15:45:52.084 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/2fcc9842e14e4e23aa43960601748809/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf
2025-07-11 15:45:52.255 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '2fcc9842e14e4e23aa43960601748809', URL中的文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_21ab9543.pdf'
2025-07-11 15:45:52.255 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '2fcc9842e14e4e23aa43960601748809' (文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-11 15:45:52.255 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范_21ab9543.pdf' 与Token关联文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 15:45:52.255 | DEBUG    | core.routing:download_file_via_token:237 - Token '2fcc9842e14e4e23aa43960601748809' 验证成功。准备下载文件: 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', URL文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_21ab9543.pdf')
2025-07-11 15:45:52.257 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '2fcc9842e14e4e23aa43960601748809', URL中的文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_21ab9543.pdf'
2025-07-11 15:45:52.257 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '2fcc9842e14e4e23aa43960601748809' (文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-11 15:45:52.257 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范_21ab9543.pdf' 与Token关联文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 15:45:52.257 | DEBUG    | core.routing:download_file_via_token:237 - Token '2fcc9842e14e4e23aa43960601748809' 验证成功。准备下载文件: 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', URL文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_21ab9543.pdf')
2025-07-11 15:45:55.504 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 15:52:26.962 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程
2025-07-11 15:52:26.963 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程
2025-07-11 15:52:26.964 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程 中找到 13 个文件需要处理。
2025-07-11 15:52:26.966 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/红卫110千伏变电站110千伏间隔扩建工程
2025-07-11 15:52:26.968 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-01 红卫110千伏变电站110千伏间隔扩建工程初步设计说明书.docx
2025-07-11 15:52:26.969 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-02 红卫110千伏变电站110千伏间隔扩建工程主要设备材料清册.doc
2025-07-11 15:52:26.970 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:26.970 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:26.971 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-05-红卫变110kV主接线.pdf
2025-07-11 15:52:26.972 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-06-红卫变110kV总平布置.pdf
2025-07-11 15:52:26.973 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-07-红卫变110kV正红出线间隔断面图.pdf
2025-07-11 15:52:26.973 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-08-系统继电保护配置图.pdf
2025-07-11 15:52:26.974 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-09-二次设备室布置图.pdf
2025-07-11 15:52:26.975 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-10-红卫110kV线路保护、监测TA配置图.pdf
2025-07-11 15:52:26.976 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-11-基础平面布置图.pdf
2025-07-11 15:52:26.977 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-12 -光缆路径示意图.pdf
2025-07-11 15:52:26.977 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/红卫110千伏变电站110千伏间隔扩建工程/HN-B2023-10.1C-A01-13 -红卫变进站光缆引入示意图-20240131144914417.pdf
2025-07-11 15:52:26.978 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:52:26.978 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:52:26.978 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:52:26.979 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/通运220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:52:26.980 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-00-图纸目录.pdf
2025-07-11 15:52:26.981 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-01 通运220千伏变电站110千伏间隔保护改造工程 初步设计说明书.docx
2025-07-11 15:52:26.982 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-02 主要设备材料清册.docx
2025-07-11 15:52:26.983 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:26.983 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:26.984 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-05-通运变110kV主接线.pdf
2025-07-11 15:52:26.985 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-06-二次设备室平面布置图.pdf
2025-07-11 15:52:26.986 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-07-系统继电保护配置图.pdf
2025-07-11 15:52:26.987 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-08-光缆路径示意图.pdf
2025-07-11 15:52:26.988 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-09-光缆熔接示意图.pdf
2025-07-11 15:52:26.989 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/通运220千伏变电站110千伏间隔保护改造工程/B2023-10.3C-A-10-通运变进站光缆引入示意图.pdf
2025-07-11 15:52:26.989 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:52:26.989 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:52:26.989 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程 中找到 14 个文件需要处理。
2025-07-11 15:52:26.991 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/亿能220千伏变电站110千伏间隔保护改造工程
2025-07-11 15:52:26.992 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-00-图纸目录.pdf
2025-07-11 15:52:26.993 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-01 亿能220千伏变电站110千伏间隔保护改造工程 初步设计说明书.docx
2025-07-11 15:52:26.993 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-02 主要设备材料清册.docx
2025-07-11 15:52:26.994 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:26.995 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:26.995 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-05-亿能变110kV主接线.pdf
2025-07-11 15:52:26.996 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-06-亿能变110kV平面布置图.pdf
2025-07-11 15:52:26.997 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-07-亿能变110kV通亿线间隔断面图.pdf
2025-07-11 15:52:26.998 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-08-二次设备室平面布置图.pdf
2025-07-11 15:52:26.999 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-09-系统继电保护配置图.pdf
2025-07-11 15:52:26.999 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-10-基础平面布置图.pdf
2025-07-11 15:52:27.000 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-11-光缆路径示意图.pdf
2025-07-11 15:52:27.001 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-12-光缆熔接示意图.pdf
2025-07-11 15:52:27.001 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/亿能220千伏变电站110千伏间隔保护改造工程/B2023-10.4C-A-13-亿能变进站光缆引入示意图.pdf
2025-07-11 15:52:27.002 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程
2025-07-11 15:52:27.002 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程
2025-07-11 15:52:27.002 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程 中找到 11 个文件需要处理。
2025-07-11 15:52:27.003 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/正红110kV变电站110kV间隔保护改造工程
2025-07-11 15:52:27.004 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-00-图纸目录.pdf
2025-07-11 15:52:27.005 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-01 正红110kV变电站110kV间隔保护改造工程 初步设计说明书.docx
2025-07-11 15:52:27.006 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-02 主要设备材料清册.docx
2025-07-11 15:52:27.007 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-03-2023年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:27.007 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-04-2025年盐城市滨海县35千伏及以上电网地理接线图.pdf
2025-07-11 15:52:27.008 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-05-正红变110kV主接线.pdf
2025-07-11 15:52:27.009 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-06-二次设备室平面布置图.pdf
2025-07-11 15:52:27.009 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-07-系统继电保护配置图.pdf
2025-07-11 15:52:27.010 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-08-光缆路径示意图.pdf
2025-07-11 15:52:27.011 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-09-光缆熔接示意图.pdf
2025-07-11 15:52:27.012 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程/送审/送审/正红110kV变电站110kV间隔保护改造工程/B2023-10.2C-A-10-正红变进站光缆引入示意图.pdf
2025-07-11 15:52:44.168 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 54af64c1-c34f-47f6-b1a3-93b761c557a1) 已从状态管理器登出。
2025-07-11 15:52:44.168 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 15:52:44.169 | INFO     | core.routing:logout:121 - HTTP会话已清除 (用户: admin)。
2025-07-11 15:52:44.169 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 54af64c1-c34f-47f6-b1a3-93b761c557a1 用户 admin 断开连接
2025-07-11 15:52:44.169 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 17:12:41.206 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 53ed0655-6420-4445-bf31-b4487e06bb62, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 17:12:41.206 | INFO     | core.routing:login:110 - 用户 'admin' (IP: 127.0.0.1, Session: 53ed0655-6420-4445-bf31-b4487e06bb62) 登录成功。
2025-07-11 17:12:41.215 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 53ed0655-6420-4445-bf31-b4487e06bb62) 的 WebSocket 已连接并关联。
2025-07-11 17:14:32.198 | DEBUG    | core.routing:get_upload_form:296 - 上传字段year:2024 project_name:白衣河输变电工程初设收口版 project_type:送审 upload_type:UploadType.DIRECTORY overwrite:False files:[UploadFile(filename='白衣河输变电工程初设收口版/12月26土建审查意见回复.doc', size=12288, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/12æ\x9c\x8826å\x9c\x9få»ºå®¡æ\x9f¥æ\x84\x8fè§\x81å\x9b\x9eå¤\x8d.doc"', 'content-type': 'application/msword'})), UploadFile(filename='白衣河输变电工程初设收口版/会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx', size=45982, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/ä¼\x9aè®®çºªè¦\x81_å¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b - 2024.12.27.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='白衣河输变电工程初设收口版/工程评审意见_徐州白衣河110kV输变电工程 -2024.12.27.docx', size=229549, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/å·¥ç¨\x8bè¯\x84å®¡æ\x84\x8fè§\x81_å¾\x90å·\x9eç\x99½è¡£æ²³110kVè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b -2024.12.27.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf', size=738330, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-02]2023å¹´å¾\x90å·\x9eå¸\x82ä¸°å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-03]徐州市2025年丰县电网接线示意图.pdf', size=851537, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-03]å¾\x90å·\x9eå¸\x822025å¹´ä¸°å\x8e¿ç\x94µç½\x91æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-04]路径走向示意图.pdf', size=708484, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-04]è·¯å¾\x84èµ°å\x90\x91ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-05]线路路径示意图（现状）.pdf', size=3513981, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-05]çº¿è·¯è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾ï¼\x88ç\x8e°ç\x8a¶ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-06]线路路径方案示意图（改造后）.pdf', size=3527792, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-06]çº¿è·¯è·¯å¾\x84æ\x96¹æ¡\x88ç¤ºæ\x84\x8få\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x90\x8eï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-07]电气接线示意图.pdf', size=857346, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-07]ç\x94µæ°\x94æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-08]光缆接线示意图.pdf', size=455036, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-08]å\x85\x89ç¼\x86æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-09]常店变出线（现状）.pdf', size=562672, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-09]å¸¸åº\x97å\x8f\x98å\x87ºçº¿ï¼\x88ç\x8e°ç\x8a¶ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-10]常店变出线布置图和间隔调整表.pdf', size=592704, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-10]å¸¸åº\x97å\x8f\x98å\x87ºçº¿å¸\x83ç½®å\x9b¾å\x92\x8cé\x97´é\x9a\x94è°\x83æ\x95´è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-11]白衣河变出线布置图.pdf', size=978149, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-11]ç\x99½è¡£æ²³å\x8f\x98å\x87ºçº¿å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-12]杆塔坐标明细表.pdf', size=565592, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-12]æ\x9d\x86å¡\x94å\x9d\x90æ\xa0\x87æ\x98\x8eç»\x86è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-13]杆塔位置布置图（顺河线改造）.pdf', size=2180128, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-13]æ\x9d\x86å¡\x94ä½\x8dç½®å¸\x83ç½®å\x9b¾ï¼\x88é¡ºæ²³çº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-14]杆塔位置布置图（穿越点）.pdf', size=2604482, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-14]æ\x9d\x86å¡\x94ä½\x8dç½®å¸\x83ç½®å\x9b¾ï¼\x88ç©¿è¶\x8aç\x82¹ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-16]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf', size=1873614, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-16]JL3-G1A-400-35å¯¼çº¿åº\x94å\x8a\x9bæ\x9b²çº¿å\x9b¾(K=2.5).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-17]OPGW应力曲线图（K=3.0）.pdf', size=2038621, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-17]OPGWåº\x94å\x8a\x9bæ\x9b²çº¿å\x9b¾ï¼\x88K=3.0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-18]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf', size=481143, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-18]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8d\x95è\x81\x94Iå\x9e\x8bæ\x82¬å\x9e\x82ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-19]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf', size=1661620, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-19]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8f\x8cè\x81\x94å\x8f\x8cæ\x8c\x82ç\x82¹å\x8f\x8cçº¿å¤¹Iå\x9e\x8bæ\x82¬å\x9e\x82ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-20]门型构架单导线70kN盘形悬式（复合）绝缘子单联耐张串.pdf', size=717544, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-20]é\x97¨å\x9e\x8bæ\x9e\x84æ\x9e¶å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8d\x95è\x81\x94è\x80\x90å¼\xa0ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-21]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf', size=808260, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-21]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fç»\x9dç¼\x98å\xad\x90å\x8f\x8cè\x81\x94å\x8d\x95æ\x8c\x82ç\x82¹è\x80\x90å¼\xa0ä¸²ï¼\x881ND21Y-0040-07P(H)).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-22]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf', size=724074, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-22]å\x8d\x95å¯¼çº¿70kNå¤\x8då\x90\x88ç»\x9dç¼\x98å\xad\x90ç\x9b´è·³è·³çº¿ä¸²ï¼\x881TD-00-07H(P)Z).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-23]导线防震锤安装示意图.pdf', size=569592, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-23]å¯¼çº¿é\x98²é\x9c\x87é\x94¤å®\x89è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-24]OPGW光缆耐张金具串组装图.pdf', size=743374, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-24]OPGWå\x85\x89ç¼\x86è\x80\x90å¼\xa0é\x87\x91å\x85·ä¸²ç»\x84è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-25]OPGW光缆防震锤安装示意图.pdf', size=668679, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-25]OPGWå\x85\x89ç¼\x86é\x98²é\x9c\x87é\x94¤å®\x89è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-26]杆塔引下光缆固定线夹.pdf', size=483891, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-26]æ\x9d\x86å¡\x94å¼\x95ä¸\x8bå\x85\x89ç¼\x86å\x9bºå®\x9açº¿å¤¹.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-28]钢管杆用光缆接头盒.pdf', size=675717, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-28]é\x92¢ç®¡æ\x9d\x86ç\x94¨å\x85\x89ç¼\x86æ\x8e¥å¤´ç\x9b\x92.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-29]50≤ρ＜100接地装置图.pdf', size=1205376, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-29]50â\x89¤Ï\x81ï¼\x9c100æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-30]接地引下线施工图.pdf', size=822027, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-30]æ\x8e¥å\x9c°å¼\x95ä¸\x8bçº¿æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-31]平断面定位图（常顺线改造）.pdf', size=533751, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-31]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88å¸¸é¡ºçº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-32]平断面定位图（常金线挂线1-3）.pdf', size=630085, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-32]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88å¸¸é\x87\x91çº¿æ\x8c\x82çº¿1-3ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-33]平断面定位图（常金线挂线2-3）.pdf', size=584041, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-33]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88å¸¸é\x87\x91çº¿æ\x8c\x82çº¿2-3ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-34]平断面定位图（常金线挂线3-3）.pdf', size=506643, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-34]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88å¸¸é\x87\x91çº¿æ\x8c\x82çº¿3-3ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-35]平断面定位图（白衣河进线）.pdf', size=509578, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-35]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88ç\x99½è¡£æ²³è¿\x9bçº¿ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-36]杆塔明细表（常顺线改造）.pdf', size=909655, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-36]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88å¸¸é¡ºçº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-37]杆塔明细表（常金线挂线1-2）.pdf', size=1425902, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-37]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88å¸¸é\x87\x91çº¿æ\x8c\x82çº¿1-2ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-38]杆塔明细表（常金线挂线2-2）.pdf', size=1340457, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-38]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88å¸¸é\x87\x91çº¿æ\x8c\x82çº¿2-2ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-39]杆塔明细表（白衣河进线）.pdf', size=992135, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-39]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88ç\x99½è¡£æ²³è¿\x9bçº¿ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-41]常店变110kV屋外配电装置出线间隔断面图.pdf', size=2185894, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-41]å¸¸åº\x97å\x8f\x98110kVå±\x8bå¤\x96é\x85\x8dç\x94µè£\x85ç½®å\x87ºçº¿é\x97´é\x9a\x94æ\x96\xadé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-42]白衣河变电站电气平面布置图.pdf', size=1759637, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-42]ç\x99½è¡£æ²³å\x8f\x98ç\x94µç«\x99ç\x94µæ°\x94å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-43]白衣河变配电装置室断面图.pdf', size=1311275, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-43]ç\x99½è¡£æ²³å\x8f\x98é\x85\x8dç\x94µè£\x85ç½®å®¤æ\x96\xadé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-44]全线杆塔一览图.pdf', size=871935, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-44]å\x85¨çº¿æ\x9d\x86å¡\x94ä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-45]全线基础一览图.pdf', size=564890, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-45]å\x85¨çº¿å\x9fºç¡\x80ä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-46]110-ED21S-DJ-21m防坠落装置结构图.pdf', size=813272, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-46]110-ED21S-DJ-21mé\x98²å\x9d\xa0è\x90½è£\x85ç½®ç»\x93æ\x9e\x84å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-47]35-DD21GS-Z1-21m防坠落装置加工图.pdf', size=978127, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-47]35-DD21GS-Z1-21mé\x98²å\x9d\xa0è\x90½è£\x85ç½®å\x8a\xa0å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-48]基础配置表.pdf', size=1046695, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-48]å\x9fºç¡\x80é\x85\x8dç½®è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-49]110-EC21D-DJG1基础施工图.pdf', size=498610, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-49]110-EC21D-DJG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-50]110-ED21S-DJG1基础施工图.pdf', size=498673, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-50]110-ED21S-DJG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-51]110-ED21GS-DJG1基础施工图.pdf', size=500817, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-51]110-ED21GS-DJG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A]图纸目录___0.pdf', size=1177840, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A]å\x9b¾çº¸ç\x9b®å½\x95___0.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A]图纸目录___1.pdf', size=909481, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A]å\x9b¾çº¸ç\x9b®å½\x95___1.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-15]杆塔位置布置图（进白衣河变）.pdf', size=999782, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-15]æ\x9d\x86å¡\x94ä½\x8dç½®å¸\x83ç½®å\x9b¾ï¼\x88è¿\x9bç\x99½è¡£æ²³å\x8f\x98ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-27]铁塔用光缆接头盒.pdf', size=649748, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-27]é\x93\x81å¡\x94ç\x94¨å\x85\x89ç¼\x86æ\x8e¥å¤´ç\x9b\x92.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-40]220kV常店变电站电气总平面布置图.pdf', size=1796087, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å¸¸åº\x97-ç\x99½è¡£æ²³/[S23003704C-A-40]220kVå¸¸åº\x97å\x8f\x98ç\x94µç«\x99ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-13]110kV复合外套金属氧化物避雷器安装图.pdf', size=450252, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-13]110kVå¤\x8då\x90\x88å¤\x96å¥\x97é\x87\x91å±\x9eæ°§å\x8c\x96ç\x89©é\x81¿é\x9b·å\x99¨å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-01] 孙楼~白衣河110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', size=3059524, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-01] å\xad\x99æ¥¼~ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b-å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦å\x8f\x8aè®¾å¤\x87æ\x9d\x90æ\x96\x99æ±\x87æ\x80»è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-02]孙楼变电缆线路路径示意图.pdf', size=953942, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-02]å\xad\x99æ¥¼å\x8f\x98ç\x94µç¼\x86çº¿è·¯è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-03]白衣河变电缆线路路径示意图.pdf', size=981618, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-03]ç\x99½è¡£æ²³å\x8f\x98ç\x94µç¼\x86çº¿è·¯è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-04]电缆沟井坐标及明细表.pdf', size=545633, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-04]ç\x94µç¼\x86æ²\x9fäº\x95å\x9d\x90æ\xa0\x87å\x8f\x8aæ\x98\x8eç»\x86è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-05]110-EC21D-DJL-18m电缆终端塔附件安装图.pdf', size=1787299, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-05]110-EC21D-DJL-18mç\x94µç¼\x86ç»\x88ç«¯å¡\x94é\x99\x84ä»¶å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-06]110-ED21S-DJL-21m电缆终端塔附件安装图.pdf', size=1967123, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-06]110-ED21S-DJL-21mç\x94µç¼\x86ç»\x88ç«¯å¡\x94é\x99\x84ä»¶å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-07]电缆上户外终端杆电缆敷设图.pdf', size=568818, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-07]ç\x94µç¼\x86ä¸\x8aæ\x88·å¤\x96ç»\x88ç«¯æ\x9d\x86ç\x94µç¼\x86æ\x95·è®¾å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-08]G1号-G2号.pdf', size=478665, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-08]G1å\x8f·-G2å\x8f·.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-09]G13-孙楼变.pdf', size=470538, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-09]G13-å\xad\x99æ¥¼å\x8f\x98.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-10]护层绝缘过电压保护箱接线图.pdf', size=754253, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-10]æ\x8a¤å±\x82ç»\x9dç¼\x98è¿\x87ç\x94µå\x8e\x8bä¿\x9dæ\x8a¤ç®±æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-11]直接接地箱加工图.pdf', size=826440, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-11]ç\x9b´æ\x8e¥æ\x8e¥å\x9c°ç®±å\x8a\xa0å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-12]保护接地箱加工图.pdf', size=998814, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-12]ä¿\x9dæ\x8a¤æ\x8e¥å\x9c°ç®±å\x8a\xa0å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-14]避雷器监测器安装图.pdf', size=421052, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-14]é\x81¿é\x9b·å\x99¨ç\x9b\x91æµ\x8bå\x99¨å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-15]高压弹簧电缆固定夹具.pdf', size=914897, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-15]é«\x98å\x8e\x8bå¼¹ç°§ç\x94µç¼\x86å\x9bºå®\x9aå¤¹å\x85·.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-16]管内电缆布置示意图.pdf', size=675687, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-16]ç®¡å\x86\x85ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-17]电缆沟内电缆布置示意图.pdf', size=969354, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-17]ç\x94µç¼\x86æ²\x9få\x86\x85ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-18]电缆井内电缆布置示意图.pdf', size=888692, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-18]ç\x94µç¼\x86äº\x95å\x86\x85ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-19]终端井电缆布置示意图.pdf', size=907878, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-19]ç»\x88ç«¯äº\x95ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-20]直线井接地装置图.pdf', size=1247486, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-20]ç\x9b´çº¿äº\x95æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-21]终端井-分支箱井-余缆井接地装置图.pdf', size=1310986, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-21]ç»\x88ç«¯äº\x95-å\x88\x86æ\x94¯ç®±äº\x95-ä½\x99ç¼\x86äº\x95æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-22]电缆终端支撑杆接地装置图.pdf', size=1051045, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-22]ç\x94µç¼\x86ç»\x88ç«¯æ\x94¯æ\x92\x91æ\x9d\x86æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-23]电缆终端平台接地装置图.pdf', size=678129, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-23]ç\x94µç¼\x86ç»\x88ç«¯å¹³å\x8f°æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-24]电缆防火安装图.pdf', size=977634, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-24]ç\x94µç¼\x86é\x98²ç\x81«å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-25]电缆沟无机堵料示意图.pdf', size=479890, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-25]ç\x94µç¼\x86æ²\x9fæ\x97\xa0æ\x9cºå\xa0µæ\x96\x99ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-26]电缆土建一览图.pdf', size=1072045, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A-26]ç\x94µç¼\x86å\x9c\x9få»ºä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A]图纸目录___0.pdf', size=1105461, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A]å\x9b¾çº¸ç\x9b®å½\x95___0.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A]图纸目录___1.pdf', size=222818, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/ç\x94µç¼\x86/[S23003707C-A]å\x9b¾çº¸ç\x9b®å½\x95___1.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-01] 孙楼~白衣河110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', size=3060068, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-01] å\xad\x99æ¥¼~ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b-å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦å\x8f\x8aè®¾å¤\x87æ\x9d\x90æ\x96\x99æ±\x87æ\x80»è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf', size=740939, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-02]2023å¹´å¾\x90å·\x9eå¸\x82ä¸°å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-03]徐州市2025年丰县电网接线示意图.pdf', size=853983, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-03]å¾\x90å·\x9eå¸\x822025å¹´ä¸°å\x8e¿ç\x94µç½\x91æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-04]线路路径方案示意图.pdf', size=2925746, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-04]çº¿è·¯è·¯å¾\x84æ\x96¹æ¡\x88ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-05]路径走向示意图.pdf', size=859693, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-05]è·¯å¾\x84èµ°å\x90\x91ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-06]电气接线示意图.pdf', size=860313, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-06]ç\x94µæ°\x94æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-07]孙楼变出线布置图.pdf', size=501509, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-07]å\xad\x99æ¥¼å\x8f\x98å\x87ºçº¿å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-08]沙园T接孙楼-白衣河线路示意图.pdf', size=498251, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-08]æ²\x99å\x9b\xadTæ\x8e¥å\xad\x99æ¥¼-ç\x99½è¡£æ²³çº¿è·¯ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-09]白衣河变出线布置图.pdf', size=981554, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-09]ç\x99½è¡£æ²³å\x8f\x98å\x87ºçº¿å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-10]杆塔坐标明细表.pdf', size=782953, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-10]æ\x9d\x86å¡\x94å\x9d\x90æ\xa0\x87æ\x98\x8eç»\x86è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-11]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf', size=1055541, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-11]JL3-G1A-400-35å¯¼çº¿åº\x94å\x8a\x9bæ\x9b²çº¿å\x9b¾(K=2.5).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-12]OPGW应力曲线图（K=3.0）.pdf', size=1060752, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-12]OPGWåº\x94å\x8a\x9bæ\x9b²çº¿å\x9b¾ï¼\x88K=3.0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-14]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf', size=1663464, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-14]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8f\x8cè\x81\x94å\x8f\x8cæ\x8c\x82ç\x82¹å\x8f\x8cçº¿å¤¹Iå\x9e\x8bæ\x82¬å\x9e\x82ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-15]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf', size=810181, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-15]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fç»\x9dç¼\x98å\xad\x90å\x8f\x8cè\x81\x94å\x8d\x95æ\x8c\x82ç\x82¹è\x80\x90å¼\xa0ä¸²ï¼\x881ND21Y-0040-07P(H)).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-16]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf', size=725994, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-16]å\x8d\x95å¯¼çº¿70kNå¤\x8då\x90\x88ç»\x9dç¼\x98å\xad\x90ç\x9b´è·³è·³çº¿ä¸²ï¼\x881TD-00-07H(P)Z).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-17]导线防震锤安装示意图.pdf', size=571056, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-17]å¯¼çº¿é\x98²é\x9c\x87é\x94¤å®\x89è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-18]OPGW光缆耐张金具串组装图.pdf', size=745990, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-18]OPGWå\x85\x89ç¼\x86è\x80\x90å¼\xa0é\x87\x91å\x85·ä¸²ç»\x84è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-19]OPGW光缆防震锤安装示意图.pdf', size=671272, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-19]OPGWå\x85\x89ç¼\x86é\x98²é\x9c\x87é\x94¤å®\x89è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-20]杆塔引下光缆固定线夹.pdf', size=485756, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-20]æ\x9d\x86å¡\x94å¼\x95ä¸\x8bå\x85\x89ç¼\x86å\x9bºå®\x9açº¿å¤¹.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-21]杆塔用光缆接头盒.pdf', size=651010, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-21]æ\x9d\x86å¡\x94ç\x94¨å\x85\x89ç¼\x86æ\x8e¥å¤´ç\x9b\x92.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-22]杆塔用光缆余缆架.pdf', size=477240, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-22]æ\x9d\x86å¡\x94ç\x94¨å\x85\x89ç¼\x86ä½\x99ç¼\x86æ\x9e¶.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-23]接地装置图.pdf', size=997622, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-23]æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-24]接地引下线施工图.pdf', size=823178, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-24]æ\x8e¥å\x9c°å¼\x95ä¸\x8bçº¿æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-25]平断面定位图（白衣河出线段）.pdf', size=2261314, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-25]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88ç\x99½è¡£æ²³å\x87ºçº¿æ®µï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-27]平断面定位图（常孙线改造2-2）.pdf', size=2569515, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-27]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88å¸¸å\xad\x99çº¿æ\x94¹é\x80\xa02-2ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-28]平断面定位图（沙园T接孙白线）.pdf', size=1419177, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-28]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88æ²\x99å\x9b\xadTæ\x8e¥å\xad\x99ç\x99½çº¿ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-29]杆塔明细表（白衣河出线段）.pdf', size=963866, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-29]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88ç\x99½è¡£æ²³å\x87ºçº¿æ®µï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-30]杆塔明细表（常孙线改造）.pdf', size=1242688, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-30]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88å¸¸å\xad\x99çº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-31]杆塔明细表（沙园T接孙白线）.pdf', size=867098, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-31]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88æ²\x99å\x9b\xadTæ\x8e¥å\xad\x99ç\x99½çº¿ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-32]全线杆塔一览图.pdf', size=1446515, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-32]å\x85¨çº¿æ\x9d\x86å¡\x94ä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-33]全线基础一览图.pdf', size=658435, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-33]å\x85¨çº¿å\x9fºç¡\x80ä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-34]防坠落装置结构图.pdf', size=808153, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-34]é\x98²å\x9d\xa0è\x90½è£\x85ç½®ç»\x93æ\x9e\x84å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-35]基础配置表.pdf', size=1271447, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-35]å\x9fºç¡\x80é\x85\x8dç½®è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-36]110-ED21S-J4G1基础施工图.pdf', size=496607, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-36]110-ED21S-J4G1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-37]110-ED21S-DJG1基础施工图.pdf', size=497020, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-37]110-ED21S-DJG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-38]110-ED21S-DJLG1基础施工图.pdf', size=498947, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-38]110-ED21S-DJLG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-39]110-EC21D-DJLG1基础施工图.pdf', size=497344, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-39]110-EC21D-DJLG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-40]孙楼变电气主接线图（改造前）.pdf', size=3134222, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-40]å\xad\x99æ¥¼å\x8f\x98ç\x94µæ°\x94ä¸»æ\x8e¥çº¿å\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x89\x8dï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-41]孙楼变电气主接线图（改造后）.pdf', size=3670877, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-41]å\xad\x99æ¥¼å\x8f\x98ç\x94µæ°\x94ä¸»æ\x8e¥çº¿å\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x90\x8eï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-42]孙楼变电气总平面布置图（改造前）.pdf', size=1850384, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-42]å\xad\x99æ¥¼å\x8f\x98ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x89\x8dï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-43]孙楼变电气总平面布置图（改造后）.pdf', size=2641089, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-43]å\xad\x99æ¥¼å\x8f\x98ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x90\x8eï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A]图纸目录____0.pdf', size=1141866, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A]å\x9b¾çº¸ç\x9b®å½\x95____0.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A]图纸目录____1.pdf', size=708777, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A]å\x9b¾çº¸ç\x9b®å½\x95____1.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-13]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf', size=483420, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-13]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8d\x95è\x81\x94Iå\x9e\x8bæ\x82¬å\x9e\x82ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-26]平断面定位图（常孙线改造1-2）.pdf', size=2673128, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/å\xad\x99æ¥¼-ç\x99½è¡£æ²³/æ\x9e¶ç©º/[S23003706C-A-26]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88å¸¸å\xad\x99çº¿æ\x94¹é\x80\xa01-2ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-13]管内电缆布置示意图.pdf', size=672262, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-13]ç®¡å\x86\x85ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-01] 丰邦~孙楼110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', size=3008548, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-01] ä¸°é\x82¦~å\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b-å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦å\x8f\x8aè®¾å¤\x87æ\x9d\x90æ\x96\x99æ±\x87æ\x80»è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf', size=930458, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-02]å\xad\x99æ¥¼å\x8f\x98ç\x94µç¼\x86çº¿è·¯è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-03]电缆沟井坐标及明细表.pdf', size=510610, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-03]ç\x94µç¼\x86æ²\x9fäº\x95å\x9d\x90æ\xa0\x87å\x8f\x8aæ\x98\x8eç»\x86è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-04]110-ED21S-DJL-21m电缆终端塔附件安装图.pdf', size=1963607, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-04]110-ED21S-DJL-21mç\x94µç¼\x86ç»\x88ç«¯å¡\x94é\x99\x84ä»¶å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-05]电缆上户外终端杆电缆敷设图.pdf', size=688754, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-05]ç\x94µç¼\x86ä¸\x8aæ\x88·å¤\x96ç»\x88ç«¯æ\x9d\x86ç\x94µç¼\x86æ\x95·è®¾å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-06]G4号-孙楼变.pdf', size=491472, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-06]G4å\x8f·-å\xad\x99æ¥¼å\x8f\x98.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-07]护层绝缘过电压保护箱接线图.pdf', size=753635, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-07]æ\x8a¤å±\x82ç»\x9dç¼\x98è¿\x87ç\x94µå\x8e\x8bä¿\x9dæ\x8a¤ç®±æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-08]直接接地箱加工图.pdf', size=827535, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-08]ç\x9b´æ\x8e¥æ\x8e¥å\x9c°ç®±å\x8a\xa0å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-09]保护接地箱加工图.pdf', size=999253, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-09]ä¿\x9dæ\x8a¤æ\x8e¥å\x9c°ç®±å\x8a\xa0å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-10]110kV复合外套金属氧化物避雷器安装图.pdf', size=449892, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-10]110kVå¤\x8då\x90\x88å¤\x96å¥\x97é\x87\x91å±\x9eæ°§å\x8c\x96ç\x89©é\x81¿é\x9b·å\x99¨å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-11]避雷器监测器安装图.pdf', size=420730, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-11]é\x81¿é\x9b·å\x99¨ç\x9b\x91æµ\x8bå\x99¨å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-12]高压弹簧电缆固定夹具.pdf', size=914304, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-12]é«\x98å\x8e\x8bå¼¹ç°§ç\x94µç¼\x86å\x9bºå®\x9aå¤¹å\x85·.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-14]电缆沟内电缆布置示意图.pdf', size=968826, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-14]ç\x94µç¼\x86æ²\x9få\x86\x85ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-15]电缆井内电缆布置示意图.pdf', size=887588, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-15]ç\x94µç¼\x86äº\x95å\x86\x85ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-16]终端井电缆布置示意图.pdf', size=906999, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-16]ç»\x88ç«¯äº\x95ç\x94µç¼\x86å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-17]直线井接地装置图.pdf', size=1245851, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-17]ç\x9b´çº¿äº\x95æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-18]终端井-分支箱井-余缆井接地装置图.pdf', size=1311016, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-18]ç»\x88ç«¯äº\x95-å\x88\x86æ\x94¯ç®±äº\x95-ä½\x99ç¼\x86äº\x95æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-19]电缆终端支撑杆接地装置图.pdf', size=1061620, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-19]ç\x94µç¼\x86ç»\x88ç«¯æ\x94¯æ\x92\x91æ\x9d\x86æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-20]电缆终端平台接地装置图.pdf', size=677496, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-20]ç\x94µç¼\x86ç»\x88ç«¯å¹³å\x8f°æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-21]电缆防火安装图.pdf', size=977374, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-21]ç\x94µç¼\x86é\x98²ç\x81«å®\x89è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-22]电缆沟无机堵料示意图.pdf', size=502624, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-22]ç\x94µç¼\x86æ²\x9fæ\x97\xa0æ\x9cºå\xa0µæ\x96\x99ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-23]电缆土建一览图.pdf', size=1213652, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A-23]ç\x94µç¼\x86å\x9c\x9få»ºä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A]图纸目录__0.pdf', size=1059001, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/ç\x94µç¼\x86/[S23003709C-A]å\x9b¾çº¸ç\x9b®å½\x95__0.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-01] 丰邦~孙楼110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', size=3008449, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-01] ä¸°é\x82¦~å\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b-å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦å\x8f\x8aè®¾å¤\x87æ\x9d\x90æ\x96\x99æ±\x87æ\x80»è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf', size=739888, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-02]2023å¹´å¾\x90å·\x9eå¸\x82ä¸°å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-03]徐州市2025年丰县电网接线示意图.pdf', size=853014, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-03]å¾\x90å·\x9eå¸\x822025å¹´ä¸°å\x8e¿ç\x94µç½\x91æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-04]路径走向示意图.pdf', size=801227, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-04]è·¯å¾\x84èµ°å\x90\x91ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-05]线路路径方案示意图.pdf', size=2856862, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-05]çº¿è·¯è·¯å¾\x84æ\x96¹æ¡\x88ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-06]丰邦变出线布置图.pdf', size=1046248, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-06]ä¸°é\x82¦å\x8f\x98å\x87ºçº¿å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-07]电气方案示意图.pdf', size=857762, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-07]ç\x94µæ°\x94æ\x96¹æ¡\x88ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-08]孙楼变出线布置示意图.pdf', size=503599, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-08]å\xad\x99æ¥¼å\x8f\x98å\x87ºçº¿å¸\x83ç½®ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-09]杆塔坐标明细表.pdf', size=792357, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-09]æ\x9d\x86å¡\x94å\x9d\x90æ\xa0\x87æ\x98\x8eç»\x86è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-10]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf', size=1874443, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-10]JL3-G1A-400-35å¯¼çº¿åº\x94å\x8a\x9bæ\x9b²çº¿å\x9b¾(K=2.5).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-11]OPGW应力曲线图（K=3.0）.pdf', size=2039857, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-11]OPGWåº\x94å\x8a\x9bæ\x9b²çº¿å\x9b¾ï¼\x88K=3.0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-12]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf', size=482231, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-12]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8d\x95è\x81\x94Iå\x9e\x8bæ\x82¬å\x9e\x82ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-14]门型构架单导线70kN盘形悬式（复合）绝缘子单联耐张串.pdf', size=717935, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-14]é\x97¨å\x9e\x8bæ\x9e\x84æ\x9e¶å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8d\x95è\x81\x94è\x80\x90å¼\xa0ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-15]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf', size=809177, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-15]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fç»\x9dç¼\x98å\xad\x90å\x8f\x8cè\x81\x94å\x8d\x95æ\x8c\x82ç\x82¹è\x80\x90å¼\xa0ä¸²ï¼\x881ND21Y-0040-07P(H)).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-16]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf', size=725100, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-16]å\x8d\x95å¯¼çº¿70kNå¤\x8då\x90\x88ç»\x9dç¼\x98å\xad\x90ç\x9b´è·³è·³çº¿ä¸²ï¼\x881TD-00-07H(P)Z).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-17]导线防震锤安装示意图.pdf', size=570053, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-17]å¯¼çº¿é\x98²é\x9c\x87é\x94¤å®\x89è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-18]OPGW光缆耐张金具串组装图.pdf', size=744845, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-18]OPGWå\x85\x89ç¼\x86è\x80\x90å¼\xa0é\x87\x91å\x85·ä¸²ç»\x84è£\x85å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-19]OPGW光缆防震锤安装示意图.pdf', size=670255, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-19]OPGWå\x85\x89ç¼\x86é\x98²é\x9c\x87é\x94¤å®\x89è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-20]杆塔引下光缆固定线夹.pdf', size=484763, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-20]æ\x9d\x86å¡\x94å¼\x95ä¸\x8bå\x85\x89ç¼\x86å\x9bºå®\x9açº¿å¤¹.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-21]杆塔用光缆接头盒.pdf', size=650026, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-21]æ\x9d\x86å¡\x94ç\x94¨å\x85\x89ç¼\x86æ\x8e¥å¤´ç\x9b\x92.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-22]杆塔用光缆余缆架.pdf', size=476098, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-22]æ\x9d\x86å¡\x94ç\x94¨å\x85\x89ç¼\x86ä½\x99ç¼\x86æ\x9e¶.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-23]接地装置图.pdf', size=996487, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-23]æ\x8e¥å\x9c°è£\x85ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-24]接地引下线施工图.pdf', size=822020, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-24]æ\x8e¥å\x9c°å¼\x95ä¸\x8bçº¿æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-25]平断面定位图（邦孙线改造）.pdf', size=1390598, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-25]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88é\x82¦å\xad\x99çº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-27]平断面定位图（丰邦-孙楼2-4）.pdf', size=2881116, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-27]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88ä¸°é\x82¦-å\xad\x99æ¥¼2-4ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-28]平断面定位图（丰邦-孙楼3-4）.pdf', size=2831165, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-28]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88ä¸°é\x82¦-å\xad\x99æ¥¼3-4ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-29]平断面定位图（丰邦-孙楼4-4）.pdf', size=2573436, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-29]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88ä¸°é\x82¦-å\xad\x99æ¥¼4-4ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-30]平断面定位图（邦丰线改造）.pdf', size=1383912, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-30]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88é\x82¦ä¸°çº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-31]杆塔明细表（邦孙线改造）.pdf', size=897614, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-31]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88é\x82¦å\xad\x99çº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-32]杆塔明细表（丰邦-孙楼1-2）.pdf', size=1487861, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-32]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88ä¸°é\x82¦-å\xad\x99æ¥¼1-2ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-33]杆塔明细表（丰邦-孙楼2-2）.pdf', size=1198932, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-33]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88ä¸°é\x82¦-å\xad\x99æ¥¼2-2ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-34]杆塔明细表（邦丰线改造）.pdf', size=857551, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-34]æ\x9d\x86å¡\x94æ\x98\x8eç»\x86è¡¨ï¼\x88é\x82¦ä¸°çº¿æ\x94¹é\x80\xa0ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-35]全线杆塔一览图.pdf', size=1262301, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-35]å\x85¨çº¿æ\x9d\x86å¡\x94ä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-36]全线基础一览图.pdf', size=653806, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-36]å\x85¨çº¿å\x9fºç¡\x80ä¸\x80è§\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-37]防坠落装置结构图.pdf', size=807202, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-37]é\x98²å\x9d\xa0è\x90½è£\x85ç½®ç»\x93æ\x9e\x84å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-38]基础配置表.pdf', size=1285682, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-38]å\x9fºç¡\x80é\x85\x8dç½®è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-39]110-ED21S-J1G1基础施工图.pdf', size=496912, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-39]110-ED21S-J1G1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-13]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf', size=1662940, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-13]å\x8d\x95å¯¼çº¿70kNç\x9b\x98å½¢æ\x82¬å¼\x8fï¼\x88å¤\x8då\x90\x88ï¼\x89ç»\x9dç¼\x98å\xad\x90å\x8f\x8cè\x81\x94å\x8f\x8cæ\x8c\x82ç\x82¹å\x8f\x8cçº¿å¤¹Iå\x9e\x8bæ\x82¬å\x9e\x82ä¸².pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-26]平断面定位图（丰邦-孙楼1-4）.pdf', size=2696611, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-26]å¹³æ\x96\xadé\x9d¢å®\x9aä½\x8då\x9b¾ï¼\x88ä¸°é\x82¦-å\xad\x99æ¥¼1-4ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-40]110-ED21S-J2G1基础施工图.pdf', size=497198, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-40]110-ED21S-J2G1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-41]110-ED21S-J4G1基础施工图.pdf', size=496656, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-41]110-ED21S-J4G1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-42]110-ED21S-DJG1基础施工图.pdf', size=497806, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-42]110-ED21S-DJG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-43]110-ED21S-DJLG1基础施工图.pdf', size=498760, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-43]110-ED21S-DJLG1å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-44]220kV丰邦变电站电气主接线图.pdf', size=4554253, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-44]220kVä¸°é\x82¦å\x8f\x98ç\x94µç«\x99ç\x94µæ°\x94ä¸»æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf', size=4557458, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-45]220kVä¸°é\x82¦å\x8f\x98ç\x94µç«\x99ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf', size=3666495, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-46]å\xad\x99æ¥¼å\x8f\x98ç\x94µæ°\x94ä¸»æ\x8e¥çº¿å\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x90\x8eï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-47]孙楼变电气总平面布置图（改造后）.pdf', size=2634718, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A-47]å\xad\x99æ¥¼å\x8f\x98ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾ï¼\x88æ\x94¹é\x80\xa0å\x90\x8eï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A]图纸目录_____0.pdf', size=1157458, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A]å\x9b¾çº¸ç\x9b®å½\x95_____0.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A]图纸目录_____1.pdf', size=803205, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/çº¿è·¯/ä¸°é\x82¦-å\xad\x99æ¥¼/æ\x9e¶ç©º/[S23003708C-A]å\x9b¾çº¸ç\x9b®å½\x95_____1.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评/水保方案报告表-江苏徐州白衣河110千伏输变电工程.pdf', size=15311321, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/08 ç\x8e¯è¯\x84/æ°´ä¿\x9dæ\x96¹æ¡\x88æ\x8a¥å\x91\x8aè¡¨-æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评/江苏徐州白衣河110千伏输变电工程环评.pdf', size=854422, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/08 ç\x8e¯è¯\x84/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bç\x8e¯è¯\x84.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准/白衣河用地预审与选址意见书.pdf', size=398391, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/07 é\x80\x89å\x9d\x80æ\x84\x8fè§\x81ä¹¦å\x8f\x8aé¡¹ç\x9b®æ\xa0¸å\x87\x86/ç\x99½è¡£æ²³ç\x94¨å\x9c°é¢\x84å®¡ä¸\x8eé\x80\x89å\x9d\x80æ\x84\x8fè§\x81ä¹¦.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准/苏发改能源发〔2023〕1336号  苏州桑田220千伏输变电工程等电网项目的核准批复-白衣河.pdf', size=18123999, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/07 é\x80\x89å\x9d\x80æ\x84\x8fè§\x81ä¹¦å\x8f\x8aé¡¹ç\x9b®æ\xa0¸å\x87\x86/è\x8b\x8få\x8f\x91æ\x94¹è\x83½æº\x90å\x8f\x91ã\x80\x942023ã\x80\x951336å\x8f·  è\x8b\x8få·\x9eæ¡\x91ç\x94°220å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bç\xad\x89ç\x94µç½\x91é¡¹ç\x9b®ç\x9a\x84æ\xa0¸å\x87\x86æ\x89¹å¤\x8d-ç\x99½è¡£æ²³.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料/X2023061W-水文报告-江苏徐州白衣河110千伏输变电工程.pdf', size=999080, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/06 å\x9c°å\x8b\x98èµ\x84æ\x96\x99/X2023061W-æ°´æ\x96\x87æ\x8a¥å\x91\x8a-æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料/岩土工程勘察报告-白衣河.pdf', size=4233575, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/06 å\x9c°å\x8b\x98èµ\x84æ\x96\x99/å²©å\x9c\x9få·¥ç¨\x8bå\x8b\x98å¯\x9fæ\x8a¥å\x91\x8a-ç\x99½è¡£æ²³.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书/电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf', size=784978, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/05 ä¸\xadæ\xa0\x87é\x80\x9aç\x9f¥ä¹¦/ç\x94µç½\x91å·¥ç¨\x8bå\x8b\x98å¯\x9fè®¾è®¡-å\x8f¯ç\xa0\x94å\x92\x8cå\x8b\x98å¯\x9fè®¾è®¡ä¸\x80ä½\x93å\x8c\x96_å\x8c\x85141_å¾\x90å·\x9eå\x8d\x8eç\x94µç\x94µå\x8a\x9bå\x8b\x98å¯\x9fè®¾è®¡æ\x9c\x89é\x99\x90å\x85¬å\x8f¸.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-01]徐州丰县电力通信网网络拓扑图.pdf', size=722697, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/é\x80\x9aä¿¡/[B23003702C-U0101-01]å¾\x90å·\x9eä¸°å\x8e¿ç\x94µå\x8a\x9bé\x80\x9aä¿¡ç½\x91ç½\x91ç»\x9cæ\x8b\x93æ\x89\x91å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-02]徐州丰县电力通信网光缆图.pdf', size=963283, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/é\x80\x9aä¿¡/[B23003702C-U0101-02]å¾\x90å·\x9eä¸°å\x8e¿ç\x94µå\x8a\x9bé\x80\x9aä¿¡ç½\x91å\x85\x89ç¼\x86å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-03]徐州丰县电力通信网光缆图（本期）.pdf', size=1000147, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/é\x80\x9aä¿¡/[B23003702C-U0101-03]å¾\x90å·\x9eä¸°å\x8e¿ç\x94µå\x8a\x9bé\x80\x9aä¿¡ç½\x91å\x85\x89ç¼\x86å\x9b¾ï¼\x88æ\x9c¬æ\x9c\x9fï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-04]光缆建设详细方案图.pdf', size=1122734, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/é\x80\x9aä¿¡/[B23003702C-U0101-04]å\x85\x89ç¼\x86å»ºè®¾è¯¦ç»\x86æ\x96¹æ¡\x88å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-01]计算机监控系统结构示意图.pdf', size=798551, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/è¿\x9cå\x8a¨/[é\x99\x84å\x9b¾Y01-01]è®¡ç®\x97æ\x9cºç\x9b\x91æ\x8e§ç³»ç»\x9fç»\x93æ\x9e\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-02]过程层网络结构示意图.pdf', size=536377, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/è¿\x9cå\x8a¨/[é\x99\x84å\x9b¾Y01-02]è¿\x87ç¨\x8bå±\x82ç½\x91ç»\x9cç»\x93æ\x9e\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-03]时间同步系统结构示意图.pdf', size=534112, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/è¿\x9cå\x8a¨/[é\x99\x84å\x9b¾Y01-03]æ\x97¶é\x97´å\x90\x8cæ\xad¥ç³»ç»\x9fç»\x93æ\x9e\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-04]辅助设备智能监控系统结构示意图.pdf', size=1161537, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/è¿\x9cå\x8a¨/[é\x99\x84å\x9b¾Y01-04]è¾\x85å\x8a©è®¾å¤\x87æ\x99ºè\x83½ç\x9b\x91æ\x8e§ç³»ç»\x9fç»\x93æ\x9e\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-16]卫生间平面布置图.pdf', size=253235, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-16]å\x8d«ç\x94\x9fé\x97´å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-01]站址位置图(一).pdf', size=370931, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-01]ç«\x99å\x9d\x80ä½\x8dç½®å\x9b¾(ä¸\x80).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-02]站址位置图（二）.pdf', size=486120, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-02]ç«\x99å\x9d\x80ä½\x8dç½®å\x9b¾ï¼\x88äº\x8cï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-03]土建总平面布置图.pdf', size=448770, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-03]å\x9c\x9få»ºæ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-04]竖向布置图.pdf', size=394351, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-04]ç«\x96å\x90\x91å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-05]土方平衡图.pdf', size=370487, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-05]å\x9c\x9fæ\x96¹å¹³è¡¡å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-06]大门施工图（推拉门）.pdf', size=404307, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-06]å¤§é\x97¨æ\x96½å·¥å\x9b¾ï¼\x88æ\x8e¨æ\x8b\x89é\x97¨ï¼\x89.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-07]围墙及挡土墙图.pdf', size=412778, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-07]å\x9b´å¢\x99å\x8f\x8aæ\x8c¡å\x9c\x9få¢\x99å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-08]道路施工图.pdf', size=408745, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-08]é\x81\x93è·¯æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-09]电缆层平面布置图.pdf', size=444120, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-09]ç\x94µç¼\x86å±\x82å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-10]一层平面布置图.pdf', size=429403, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-10]ä¸\x80å±\x82å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-11]二层平面布置图.pdf', size=362150, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-11]äº\x8cå±\x82å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-12]10.200m标高平面图.pdf', size=318519, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-12]10.200mæ\xa0\x87é«\x98å¹³é\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-13]屋顶平面布置图.pdf', size=345755, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-13]å±\x8bé¡¶å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-14]1-9轴立面图 9-1轴立面图.pdf', size=584820, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-14]1-9è½´ç«\x8bé\x9d¢å\x9b¾ 9-1è½´ç«\x8bé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-15]F-A轴立面图 ,A-F轴立面图及剖面图.pdf', size=457408, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-15]F-Aè½´ç«\x8bé\x9d¢å\x9b¾ ,A-Fè½´ç«\x8bé\x9d¢å\x9b¾å\x8f\x8aå\x89\x96é\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-17]基础施工图.pdf', size=454176, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-17]å\x9fºç¡\x80æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-18]基础顶~-0.050m柱平面布置图.pdf', size=322123, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-18]å\x9fºç¡\x80é¡¶~-0.050mæ\x9f±å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-19]-0.050m~4.950m柱平面布置图.pdf', size=307118, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-19]-0.050m~4.950mæ\x9f±å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-20]4.950m~10.000m柱平面布置图.pdf', size=313866, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-20]4.950m~10.000mæ\x9f±å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-21]-0.050m梁施工图.pdf', size=477096, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-21]-0.050mæ¢\x81æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-22]4.950m梁施工图.pdf', size=422075, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-22]4.950mæ¢\x81æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-23]10.000m屋面梁施工图.pdf', size=425409, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-23]10.000må±\x8bé\x9d¢æ¢\x81æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-24]基础顶~-0.050m柱平面布置图.pdf', size=334242, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-24]å\x9fºç¡\x80é¡¶~-0.050mæ\x9f±å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-25]-0.050m~5.150m框架柱平法施工图.pdf', size=340705, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-25]-0.050m~5.150mæ¡\x86æ\x9e¶æ\x9f±å¹³æ³\x95æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-26]5.150m~10.150m框架柱平法施工图.pdf', size=321671, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-26]5.150m~10.150mæ¡\x86æ\x9e¶æ\x9f±å¹³æ³\x95æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-27]10.150m~屋顶柱平法施工图.pdf', size=337416, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-27]10.150m~å±\x8bé¡¶æ\x9f±å¹³æ³\x95æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-28]-0.050m层板平面布置图.pdf', size=332725, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-28]-0.050må±\x82æ\x9d¿å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-29]5.150m层板平面布置图.pdf', size=283038, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-29]5.150må±\x82æ\x9d¿å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-30]10.150m层板平面布置图.pdf', size=280731, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-30]10.150må±\x82æ\x9d¿å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-31]屋面层板配筋图.pdf', size=274278, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-31]å±\x8bé\x9d¢å±\x82æ\x9d¿é\x85\x8dç\xad\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-32]-0.050m层梁配筋图.pdf', size=411774, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-32]-0.050må±\x82æ¢\x81é\x85\x8dç\xad\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-33]5.150m层梁配筋图.pdf', size=405330, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-33]5.150må±\x82æ¢\x81é\x85\x8dç\xad\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-34]10.150m层梁配筋图.pdf', size=347179, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-34]10.150må±\x82æ¢\x81é\x85\x8dç\xad\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-35]屋面层梁配筋图.pdf', size=369290, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-35]å±\x8bé\x9d¢å±\x82æ¢\x81é\x85\x8dç\xad\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-36]站区室外给水管道施工图.pdf', size=462924, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-36]ç«\x99å\x8cºå®¤å¤\x96ç»\x99æ°´ç®¡é\x81\x93æ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-37]室外排水总平面图.pdf', size=511631, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-37]å®¤å¤\x96æ\x8e\x92æ°´æ\x80»å¹³é\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-38]事故油池土建施工图.pdf', size=609985, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/å\x9c\x9få»º/[å\x9c\x9få»ºé\x99\x84å\x9b¾T-38]äº\x8bæ\x95\x85æ²¹æ±\xa0å\x9c\x9få»ºæ\x96½å·¥å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-01]继电保护配置图.pdf', size=1619236, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-01]ç»§ç\x94µä¿\x9dæ\x8a¤é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-02]二次设备室布置图.pdf', size=1271188, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-02]äº\x8cæ¬¡è®¾å¤\x87å®¤å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-03]110kV GIS室二次设备室平面布置图.pdf', size=946783, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-03]110kV GISå®¤äº\x8cæ¬¡è®¾å¤\x87å®¤å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-04]主变间隔系统互感器配置图.pdf', size=719115, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-04]ä¸»å\x8f\x98é\x97´é\x9a\x94ç³»ç»\x9fäº\x92æ\x84\x9få\x99¨é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-05]110kV系统互感器配置图.pdf', size=885090, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-05]110kVç³»ç»\x9fäº\x92æ\x84\x9få\x99¨é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-06]10kV系统互感器配置图.pdf', size=465016, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-06]10kVç³»ç»\x9fäº\x92æ\x84\x9få\x99¨é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-07]一体化电源系统配置图.pdf', size=646149, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/äº\x8cæ¬¡/[é\x99\x84å\x9b¾D02-07]ä¸\x80ä½\x93å\x8c\x96ç\x94µæº\x90ç³»ç»\x9fé\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-01]设计说明.pdf', size=318430, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-01]è®¾è®¡è¯´æ\x98\x8e.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-02]线路路径示意图.pdf', size=1176506, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-02]çº¿è·¯è·¯å¾\x84ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-03]单回柱上断路器杆组装示意图.pdf', size=409535, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-03]å\x8d\x95å\x9b\x9eæ\x9f±ä¸\x8aæ\x96\xadè·¯å\x99¨æ\x9d\x86ç»\x84è£\x85ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-04]接地装置安装典型图.pdf', size=394287, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-04]æ\x8e¥å\x9c°è£\x85ç½®å®\x89è£\x85å\x85¸å\x9e\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-05]15米双杆柱上变压器正装杆型图.pdf', size=417557, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-05]15ç±³å\x8f\x8cæ\x9d\x86æ\x9f±ä¸\x8aå\x8f\x98å\x8e\x8bå\x99¨æ\xad£è£\x85æ\x9d\x86å\x9e\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-06]18米电杆杆型图.pdf', size=281277, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-06]18ç±³ç\x94µæ\x9d\x86æ\x9d\x86å\x9e\x8bå\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-07]φ230-18m水泥杆套筒式基础示意图.pdf', size=281259, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101-07]Ï\x86230-18mæ°´æ³¥æ\x9d\x86å¥\x97ç\xad\x92å¼\x8få\x9fºç¡\x80ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101]图纸目录_0.pdf', size=284594, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸´ç\x94µ/[B23003702C-P0101]å\x9b¾çº¸ç\x9b®å½\x95_0.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-01]2023年徐州市丰县35千伏及以上电网图.pdf', size=608896, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-01]2023å¹´å¾\x90å·\x9eå¸\x82ä¸°å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-02]投产年丰县电网接线示意图.pdf', size=637483, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-02]æ\x8a\x95äº§å¹´ä¸°å\x8e¿ç\x94µç½\x91æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-03]电气主接线图.pdf', size=3064362, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-03]ç\x94µæ°\x94ä¸»æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-04]电气总平面布置图.pdf', size=1981799, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-04]ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-05]生产综合楼一层电气平面图.pdf', size=1939959, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-05]ç\x94\x9fäº§ç»¼å\x90\x88æ¥¼ä¸\x80å±\x82ç\x94µæ°\x94å¹³é\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-06]生产综合楼二层电气平面布置图.pdf', size=1198307, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-06]ç\x94\x9fäº§ç»¼å\x90\x88æ¥¼äº\x8cå±\x82ç\x94µæ°\x94å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-07]生产综合楼电缆层平面布置图.pdf', size=2173192, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-07]ç\x94\x9fäº§ç»¼å\x90\x88æ¥¼ç\x94µç¼\x86å±\x82å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-08]生产综合楼10.200m标高平面图.pdf', size=686618, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-08]ç\x94\x9fäº§ç»¼å\x90\x88æ¥¼10.200mæ\xa0\x87é«\x98å¹³é\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-09]生产综合楼屋顶平面布置图.pdf', size=674657, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-09]ç\x94\x9fäº§ç»¼å\x90\x88æ¥¼å±\x8bé¡¶å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-10]配电装置室断面图.pdf', size=1100586, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-10]é\x85\x8dç\x94µè£\x85ç½®å®¤æ\x96\xadé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-11]110kV屋内配电装置平面布置图.pdf', size=920266, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-11]110kVå±\x8bå\x86\x85é\x85\x8dç\x94µè£\x85ç½®å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-12]10kV屋内配电装置平面布置图.pdf', size=1204927, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-12]10kVå±\x8bå\x86\x85é\x85\x8dç\x94µè£\x85ç½®å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-13]站区接地平面布置图.pdf', size=1868704, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-13]ç«\x99å\x8cºæ\x8e¥å\x9c°å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-14]配电装置室屋顶避雷带平面布置图.pdf', size=1261517, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-14]é\x85\x8dç\x94µè£\x85ç½®å®¤å±\x8bé¡¶é\x81¿é\x9b·å¸¦å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-15]站内一次电力电缆敷设路径图.pdf', size=1621988, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-15]ç«\x99å\x86\x85ä¸\x80æ¬¡ç\x94µå\x8a\x9bç\x94µç¼\x86æ\x95·è®¾è·¯å¾\x84å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-16]生产综合楼屋顶光伏布置图.pdf', size=1208551, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/04 é\x99\x84å\x9b¾/ä¸\x80æ¬¡/[é\x99\x84å\x9b¾D01-16]ç\x94\x9fäº§ç»¼å\x90\x88æ¥¼å±\x8bé¡¶å\x85\x89ä¼\x8få¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/Thumbs.db', size=72704, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/Thumbs.db"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.pdf', size=207911, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/å¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fæ\x96°å»ºå\x8f\x98ç\x94µç«\x99å·¥ç¨\x8bç§»å\x8a¨çº¿è·¯è¿\x81æ\x94¹å·¥ç¨\x8b.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.xls', size=76288, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/å¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fæ\x96°å»ºå\x8f\x98ç\x94µç«\x99å·¥ç¨\x8bç§»å\x8a¨çº¿è·¯è¿\x81æ\x94¹å·¥ç¨\x8b.xls"', 'content-type': 'application/vnd.ms-excel'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.pdf', size=1306470, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99å·¥ç¨\x8b2024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.xlsx', size=1454188, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99å·¥ç¨\x8b2024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.zwzj', size=3802507, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99å·¥ç¨\x8b2024.12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.BDD3', size=5301454, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99ä¸´æ\x97¶æ\x96½å·¥ç\x94µæº\x90å·¥ç¨\x8b2024.12.27.BDD3"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.pdf', size=598154, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99ä¸´æ\x97¶æ\x96½å·¥ç\x94µæº\x90å·¥ç¨\x8b2024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx', size=1181444, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/03 æ¦\x82ç®\x97ä¹¦/12.27æ\x94¶å\x8f£ç\x89\x88/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99ä¸´æ\x97¶æ\x96½å·¥ç\x94µæº\x90å·¥ç¨\x8b2024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册/B23003702C-A-01 白衣河110千伏变电站新建工程初步设计说明书-省公司审后修改 架空出线 12.27.docx', size=6612468, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/02 å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦å\x8f\x8aæ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c/B23003702C-A-01 ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8bå\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦-ç\x9c\x81å\x85¬å\x8f¸å®¡å\x90\x8eä¿®æ\x94¹ æ\x9e¶ç©ºå\x87ºçº¿ 12.27.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册/B23003702C-B-01 白衣河110千伏变电站新建工程设备材料清册-省公司审后修改 架空出线12.15.xlsx', size=59796, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/02 å\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦å\x8f\x8aæ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c/B23003702C-B-01 ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8bè®¾å¤\x87æ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c-ç\x9c\x81å\x85¬å\x8f¸å®¡å\x90\x8eä¿®æ\x94¹ æ\x9e¶ç©ºå\x87ºçº¿12.15.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/国网徐州供电公司经济技术研究所关于江苏徐州白衣河等110千伏输变电工程可行性研究报告的评审意见.pdf', size=1001869, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/01 å\x8f¯ç\xa0\x94æ\x89¹å¤\x8d/å\x9b½ç½\x91å¾\x90å·\x9eä¾\x9bç\x94µå\x85¬å\x8f¸ç»\x8fæµ\x8eæ\x8a\x80æ\x9c¯ç\xa0\x94ç©¶æ\x89\x80å\x85³äº\x8eæ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³ç\xad\x89110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x8f¯è¡\x8cæ\x80§ç\xa0\x94ç©¶æ\x8a¥å\x91\x8aç\x9a\x84è¯\x84å®¡æ\x84\x8fè§\x81.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/徐供电项目〔2023〕182号(盖章).pdf', size=2220860, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/01 å\x8f¯ç\xa0\x94æ\x89¹å¤\x8d/å¾\x90ä¾\x9bç\x94µé¡¹ç\x9b®ã\x80\x942023ã\x80\x95182å\x8f·(ç\x9b\x96ç«\xa0).pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/江苏徐州白衣河等110千伏输变电工程建设规模及投资汇总表.pdf', size=213195, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/01 å\x8f¯ç\xa0\x94æ\x89¹å¤\x8d/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³ç\xad\x89110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå»ºè®¾è§\x84æ¨¡å\x8f\x8aæ\x8a\x95èµ\x84æ±\x87æ\x80»è¡¨.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/江苏徐州白衣河等110千伏输变电工程系统接线示意图.pdf', size=420143, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99æ\x96°å»ºå·¥ç¨\x8b/01 å\x8f¯ç\xa0\x94æ\x89¹å¤\x8d/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³ç\xad\x89110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bç³»ç»\x9fæ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/Thumbs.db', size=72704, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/Thumbs.db"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.pdf', size=754736, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ä¸°é\x82¦ï½\x9eå\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b  (ç\x94µç¼\x86ï¼\x892024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.xlsx', size=1300802, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ä¸°é\x82¦ï½\x9eå\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b  (ç\x94µç¼\x86ï¼\x892024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.zwzj', size=2693990, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ä¸°é\x82¦ï½\x9eå\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b  (ç\x94µç¼\x86ï¼\x892024.12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.pdf', size=790782, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ä¸°é\x82¦ï½\x9eå\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x892024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.xlsx', size=1298395, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ä¸°é\x82¦ï½\x9eå\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x892024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.zwzj', size=2808556, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ä¸°é\x82¦ï½\x9eå\xad\x99æ¥¼110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x892024.12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.pdf', size=736555, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å\xad\x99æ¥¼ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b  (ç\x94µç¼\x86ï¼\x892024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.xlsx', size=1295498, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å\xad\x99æ¥¼ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b  (ç\x94µç¼\x86ï¼\x892024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.zwzj', size=2726489, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å\xad\x99æ¥¼ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8b  (ç\x94µç¼\x86ï¼\x892024.12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.pdf', size=777719, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å\xad\x99æ¥¼ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x892024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.xlsx', size=1294254, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å\xad\x99æ¥¼ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x892024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.zwzj', size=2822290, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å\xad\x99æ¥¼ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x892024.12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.pdf', size=534946, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b-12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.xlsx', size=401736, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b-12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.zwzj', size=2734728, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b-12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.pdf', size=514445, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¸¸åº\x97ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x89-12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.xlsx', size=405742, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¸¸åº\x97ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x89-12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.zwzj', size=2675730, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¸¸åº\x97ï½\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fçº¿è·¯å·¥ç¨\x8bï¼\x88æ\x9e¶ç©ºï¼\x89-12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.pdf', size=207911, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fæ\x96°å»ºå\x8f\x98ç\x94µç«\x99å·¥ç¨\x8bç§»å\x8a¨çº¿è·¯è¿\x81æ\x94¹å·¥ç¨\x8b.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.xls', size=76288, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/å¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fæ\x96°å»ºå\x8f\x98ç\x94µç«\x99å·¥ç¨\x8bç§»å\x8a¨çº¿è·¯è¿\x81æ\x94¹å·¥ç¨\x8b.xls"', 'content-type': 'application/vnd.ms-excel'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.pdf', size=1306470, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99å·¥ç¨\x8b2024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.xlsx', size=1454188, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99å·¥ç¨\x8b2024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.zwzj', size=3802507, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99å·¥ç¨\x8b2024.12.27.zwzj"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.BDD3', size=5301454, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99ä¸´æ\x97¶æ\x96½å·¥ç\x94µæº\x90å·¥ç¨\x8b2024.12.27.BDD3"', 'content-type': 'application/octet-stream'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.pdf', size=598154, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99ä¸´æ\x97¶æ\x96½å·¥ç\x94µæº\x90å·¥ç¨\x8b2024.12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx', size=1181444, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦æ\x94¶å\x8f£ç\x89\x88/ç\x99½è¡£æ²³110å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99ä¸´æ\x97¶æ\x96½å·¥ç\x94µæº\x90å·¥ç¨\x8b2024.12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/常店220千伏变电站110千伏间隔扩建工程 设备材料清册-省公司审后修改最终版11.5.xlsx', size=221279, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b è®¾å¤\x87æ\x9d\x90æ\x96\x99æ¸\x85å\x86\x8c-ç\x9c\x81å\x85¬å\x8f¸å®¡å\x90\x8eä¿®æ\x94¹æ\x9c\x80ç»\x88ç\x89\x8811.5.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/（变电工程）常店220千伏变电站110千伏间隔扩建工程初步设计说明书-省公司审后修改最终版11.5.docx', size=1612348, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/ï¼\x88å\x8f\x98ç\x94µå·¥ç¨\x8bï¼\x89å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8bå\x88\x9dæ\xad¥è®¾è®¡è¯´æ\x98\x8eä¹¦-ç\x9c\x81å\x85¬å\x8f¸å®¡å\x90\x8eä¿®æ\x94¹æ\x9c\x80ç»\x88ç\x89\x8811.5.docx"', 'content-type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图01]2023年徐州市丰县35千伏及以上电网图.pdf', size=601154, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾01]2023å¹´å¾\x90å·\x9eå¸\x82ä¸°å\x8e¿35å\x8d\x83ä¼\x8få\x8f\x8aä»¥ä¸\x8aç\x94µç½\x91å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图02]徐州市2025年丰县电网接线示意图.pdf', size=623258, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾02]å¾\x90å·\x9eå¸\x822025å¹´ä¸°å\x8e¿ç\x94µç½\x91æ\x8e¥çº¿ç¤ºæ\x84\x8få\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图03]220kV常店变电站电气主接线图.pdf', size=4048784, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾03]220kVå¸¸åº\x97å\x8f\x98ç\x94µç«\x99ç\x94µæ°\x94ä¸»æ\x8e¥çº¿å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图04]220kV常店变电站电气总平面布置图.pdf', size=1636278, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾04]220kVå¸¸åº\x97å\x8f\x98ç\x94µç«\x99ç\x94µæ°\x94æ\x80»å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图05]110kV屋外配电装置出线间隔断面图.pdf', size=2081311, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾05]110kVå±\x8bå¤\x96é\x85\x8dç\x94µè£\x85ç½®å\x87ºçº¿é\x97´é\x9a\x94æ\x96\xadé\x9d¢å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图06]接地平面布置图.pdf', size=4200537, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾06]æ\x8e¥å\x9c°å¹³é\x9d¢å¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图07]二次设备室屏位布置图.pdf', size=544427, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾07]äº\x8cæ¬¡è®¾å¤\x87å®¤å±\x8fä½\x8då¸\x83ç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图08]110kV系统继电保护配置图.pdf', size=727975, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/é\x99\x84å\x9b¾/PDFä¸\x8aä¼\xa0ç³»ç»\x9f/[é\x99\x84å\x9b¾08]110kVç³»ç»\x9fç»§ç\x94µä¿\x9dæ\x8a¤é\x85\x8dç½®å\x9b¾.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.pdf', size=534946, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b-12.27.pdf"', 'content-type': 'application/pdf'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.xlsx', size=401736, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b-12.27.xlsx"', 'content-type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'})), UploadFile(filename='白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.zwzj', size=2734728, headers=Headers({'content-disposition': 'form-data; name="files"; filename="ç\x99½è¡£æ²³è¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8bå\x88\x9dè®¾æ\x94¶å\x8f£ç\x89\x88/æ±\x9fè\x8b\x8få¾\x90å·\x9eç\x99½è¡£æ²³110å\x8d\x83ä¼\x8fè¾\x93å\x8f\x98ç\x94µå·¥ç¨\x8b/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b/æ¦\x82ç®\x97ä¹¦/å¸¸åº\x97220å\x8d\x83ä¼\x8få\x8f\x98ç\x94µç«\x99110å\x8d\x83ä¼\x8fé\x97´é\x9a\x94æ\x89©å»ºå·¥ç¨\x8b-12.27.zwzj"', 'content-type': 'application/octet-stream'}))] file_paths['白衣河输变电工程初设收口版/12月26土建审查意见回复.doc', '白衣河输变电工程初设收口版/会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx', '白衣河输变电工程初设收口版/工程评审意见_徐州白衣河110kV输变电工程 -2024.12.27.docx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-03]徐州市2025年丰县电网接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-04]路径走向示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-05]线路路径示意图（现状）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-06]线路路径方案示意图（改造后）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-07]电气接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-08]光缆接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-09]常店变出线（现状）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-10]常店变出线布置图和间隔调整表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-11]白衣河变出线布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-12]杆塔坐标明细表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-13]杆塔位置布置图（顺河线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-14]杆塔位置布置图（穿越点）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-16]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-17]OPGW应力曲线图（K=3.0）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-18]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-19]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-20]门型构架单导线70kN盘形悬式（复合）绝缘子单联耐张串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-21]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-22]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-23]导线防震锤安装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-24]OPGW光缆耐张金具串组装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-25]OPGW光缆防震锤安装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-26]杆塔引下光缆固定线夹.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-28]钢管杆用光缆接头盒.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-29]50≤ρ＜100接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-30]接地引下线施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-31]平断面定位图（常顺线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-32]平断面定位图（常金线挂线1-3）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-33]平断面定位图（常金线挂线2-3）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-34]平断面定位图（常金线挂线3-3）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-35]平断面定位图（白衣河进线）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-36]杆塔明细表（常顺线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-37]杆塔明细表（常金线挂线1-2）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-38]杆塔明细表（常金线挂线2-2）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-39]杆塔明细表（白衣河进线）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-41]常店变110kV屋外配电装置出线间隔断面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-42]白衣河变电站电气平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-43]白衣河变配电装置室断面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-44]全线杆塔一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-45]全线基础一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-46]110-ED21S-DJ-21m防坠落装置结构图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-47]35-DD21GS-Z1-21m防坠落装置加工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-48]基础配置表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-49]110-EC21D-DJG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-50]110-ED21S-DJG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-51]110-ED21GS-DJG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A]图纸目录___0.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A]图纸目录___1.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-15]杆塔位置布置图（进白衣河变）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-27]铁塔用光缆接头盒.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-40]220kV常店变电站电气总平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-13]110kV复合外套金属氧化物避雷器安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-01] 孙楼~白衣河110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-02]孙楼变电缆线路路径示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-03]白衣河变电缆线路路径示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-04]电缆沟井坐标及明细表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-05]110-EC21D-DJL-18m电缆终端塔附件安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-06]110-ED21S-DJL-21m电缆终端塔附件安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-07]电缆上户外终端杆电缆敷设图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-08]G1号-G2号.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-09]G13-孙楼变.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-10]护层绝缘过电压保护箱接线图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-11]直接接地箱加工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-12]保护接地箱加工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-14]避雷器监测器安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-15]高压弹簧电缆固定夹具.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-16]管内电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-17]电缆沟内电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-18]电缆井内电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-19]终端井电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-20]直线井接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-21]终端井-分支箱井-余缆井接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-22]电缆终端支撑杆接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-23]电缆终端平台接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-24]电缆防火安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-25]电缆沟无机堵料示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-26]电缆土建一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A]图纸目录___0.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A]图纸目录___1.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-01] 孙楼~白衣河110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-03]徐州市2025年丰县电网接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-04]线路路径方案示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-05]路径走向示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-06]电气接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-07]孙楼变出线布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-08]沙园T接孙楼-白衣河线路示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-09]白衣河变出线布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-10]杆塔坐标明细表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-11]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-12]OPGW应力曲线图（K=3.0）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-14]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-15]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-16]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-17]导线防震锤安装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-18]OPGW光缆耐张金具串组装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-19]OPGW光缆防震锤安装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-20]杆塔引下光缆固定线夹.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-21]杆塔用光缆接头盒.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-22]杆塔用光缆余缆架.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-23]接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-24]接地引下线施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-25]平断面定位图（白衣河出线段）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-27]平断面定位图（常孙线改造2-2）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-28]平断面定位图（沙园T接孙白线）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-29]杆塔明细表（白衣河出线段）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-30]杆塔明细表（常孙线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-31]杆塔明细表（沙园T接孙白线）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-32]全线杆塔一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-33]全线基础一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-34]防坠落装置结构图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-35]基础配置表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-36]110-ED21S-J4G1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-37]110-ED21S-DJG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-38]110-ED21S-DJLG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-39]110-EC21D-DJLG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-40]孙楼变电气主接线图（改造前）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-41]孙楼变电气主接线图（改造后）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-42]孙楼变电气总平面布置图（改造前）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-43]孙楼变电气总平面布置图（改造后）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A]图纸目录____0.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A]图纸目录____1.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-13]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-26]平断面定位图（常孙线改造1-2）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-13]管内电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-01] 丰邦~孙楼110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-03]电缆沟井坐标及明细表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-04]110-ED21S-DJL-21m电缆终端塔附件安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-05]电缆上户外终端杆电缆敷设图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-06]G4号-孙楼变.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-07]护层绝缘过电压保护箱接线图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-08]直接接地箱加工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-09]保护接地箱加工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-10]110kV复合外套金属氧化物避雷器安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-11]避雷器监测器安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-12]高压弹簧电缆固定夹具.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-14]电缆沟内电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-15]电缆井内电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-16]终端井电缆布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-17]直线井接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-18]终端井-分支箱井-余缆井接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-19]电缆终端支撑杆接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-20]电缆终端平台接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-21]电缆防火安装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-22]电缆沟无机堵料示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-23]电缆土建一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A]图纸目录__0.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-01] 丰邦~孙楼110千伏线路工程-初步设计说明书及设备材料汇总表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-03]徐州市2025年丰县电网接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-04]路径走向示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-05]线路路径方案示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-06]丰邦变出线布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-07]电气方案示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-08]孙楼变出线布置示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-09]杆塔坐标明细表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-10]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-11]OPGW应力曲线图（K=3.0）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-12]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-14]门型构架单导线70kN盘形悬式（复合）绝缘子单联耐张串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-15]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-16]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-17]导线防震锤安装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-18]OPGW光缆耐张金具串组装图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-19]OPGW光缆防震锤安装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-20]杆塔引下光缆固定线夹.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-21]杆塔用光缆接头盒.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-22]杆塔用光缆余缆架.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-23]接地装置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-24]接地引下线施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-25]平断面定位图（邦孙线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-27]平断面定位图（丰邦-孙楼2-4）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-28]平断面定位图（丰邦-孙楼3-4）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-29]平断面定位图（丰邦-孙楼4-4）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-30]平断面定位图（邦丰线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-31]杆塔明细表（邦孙线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-32]杆塔明细表（丰邦-孙楼1-2）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-33]杆塔明细表（丰邦-孙楼2-2）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-34]杆塔明细表（邦丰线改造）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-35]全线杆塔一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-36]全线基础一览图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-37]防坠落装置结构图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-38]基础配置表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-39]110-ED21S-J1G1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-13]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-26]平断面定位图（丰邦-孙楼1-4）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-40]110-ED21S-J2G1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-41]110-ED21S-J4G1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-42]110-ED21S-DJG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-43]110-ED21S-DJLG1基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-44]220kV丰邦变电站电气主接线图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-47]孙楼变电气总平面布置图（改造后）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A]图纸目录_____0.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A]图纸目录_____1.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评/水保方案报告表-江苏徐州白衣河110千伏输变电工程.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评/江苏徐州白衣河110千伏输变电工程环评.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准/白衣河用地预审与选址意见书.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准/苏发改能源发〔2023〕1336号  苏州桑田220千伏输变电工程等电网项目的核准批复-白衣河.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料/X2023061W-水文报告-江苏徐州白衣河110千伏输变电工程.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料/岩土工程勘察报告-白衣河.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书/电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-01]徐州丰县电力通信网网络拓扑图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-02]徐州丰县电力通信网光缆图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-03]徐州丰县电力通信网光缆图（本期）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-04]光缆建设详细方案图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-01]计算机监控系统结构示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-02]过程层网络结构示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-03]时间同步系统结构示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-04]辅助设备智能监控系统结构示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-16]卫生间平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-01]站址位置图(一).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-02]站址位置图（二）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-03]土建总平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-04]竖向布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-05]土方平衡图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-06]大门施工图（推拉门）.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-07]围墙及挡土墙图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-08]道路施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-09]电缆层平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-10]一层平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-11]二层平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-12]10.200m标高平面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-13]屋顶平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-14]1-9轴立面图 9-1轴立面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-15]F-A轴立面图 ,A-F轴立面图及剖面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-17]基础施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-18]基础顶~-0.050m柱平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-19]-0.050m~4.950m柱平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-20]4.950m~10.000m柱平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-21]-0.050m梁施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-22]4.950m梁施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-23]10.000m屋面梁施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-24]基础顶~-0.050m柱平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-25]-0.050m~5.150m框架柱平法施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-26]5.150m~10.150m框架柱平法施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-27]10.150m~屋顶柱平法施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-28]-0.050m层板平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-29]5.150m层板平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-30]10.150m层板平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-31]屋面层板配筋图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-32]-0.050m层梁配筋图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-33]5.150m层梁配筋图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-34]10.150m层梁配筋图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-35]屋面层梁配筋图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-36]站区室外给水管道施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-37]室外排水总平面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-38]事故油池土建施工图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-01]继电保护配置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-02]二次设备室布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-03]110kV GIS室二次设备室平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-04]主变间隔系统互感器配置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-05]110kV系统互感器配置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-06]10kV系统互感器配置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-07]一体化电源系统配置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-01]设计说明.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-02]线路路径示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-03]单回柱上断路器杆组装示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-04]接地装置安装典型图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-05]15米双杆柱上变压器正装杆型图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-06]18米电杆杆型图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-07]φ230-18m水泥杆套筒式基础示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101]图纸目录_0.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-01]2023年徐州市丰县35千伏及以上电网图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-02]投产年丰县电网接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-03]电气主接线图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-04]电气总平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-05]生产综合楼一层电气平面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-06]生产综合楼二层电气平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-07]生产综合楼电缆层平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-08]生产综合楼10.200m标高平面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-09]生产综合楼屋顶平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-10]配电装置室断面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-11]110kV屋内配电装置平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-12]10kV屋内配电装置平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-13]站区接地平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-14]配电装置室屋顶避雷带平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-15]站内一次电力电缆敷设路径图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-16]生产综合楼屋顶光伏布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/Thumbs.db', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.xls', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.BDD3', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册/B23003702C-A-01 白衣河110千伏变电站新建工程初步设计说明书-省公司审后修改 架空出线 12.27.docx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册/B23003702C-B-01 白衣河110千伏变电站新建工程设备材料清册-省公司审后修改 架空出线12.15.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/国网徐州供电公司经济技术研究所关于江苏徐州白衣河等110千伏输变电工程可行性研究报告的评审意见.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/徐供电项目〔2023〕182号(盖章).pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/江苏徐州白衣河等110千伏输变电工程建设规模及投资汇总表.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/江苏徐州白衣河等110千伏输变电工程系统接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/Thumbs.db', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.xls', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.zwzj', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.BDD3', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/常店220千伏变电站110千伏间隔扩建工程 设备材料清册-省公司审后修改最终版11.5.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/（变电工程）常店220千伏变电站110千伏间隔扩建工程初步设计说明书-省公司审后修改最终版11.5.docx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图01]2023年徐州市丰县35千伏及以上电网图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图02]徐州市2025年丰县电网接线示意图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图03]220kV常店变电站电气主接线图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图04]220kV常店变电站电气总平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图05]110kV屋外配电装置出线间隔断面图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图06]接地平面布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图07]二次设备室屏位布置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图08]110kV系统继电保护配置图.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.pdf', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.xlsx', '白衣河输变电工程初设收口版/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.zwzj']
2025-07-11 17:14:32.238 | INFO     | core.routing:handle_project_upload:381 - 用户 'admin' 开始上传项目 '白衣河输变电工程初设收口版'。目标: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审' (覆盖: False)。
2025-07-11 17:14:33.108 | INFO     | core.routing:handle_project_upload:401 - 项目文件已上传至 '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审'。文件监视器将自动索引。
2025-07-11 17:14:33.152 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版
2025-07-11 17:14:33.156 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版 中找到 340 个文件需要处理。
2025-07-11 17:14:33.193 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版
2025-07-11 17:14:33.193 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审
2025-07-11 17:14:33.199 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审 中找到 340 个文件需要处理。
2025-07-11 17:14:33.250 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审
2025-07-11 17:14:33.250 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审
2025-07-11 17:14:33.255 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审 中找到 340 个文件需要处理。
2025-07-11 17:14:33.284 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审
2025-07-11 17:14:33.284 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程
2025-07-11 17:14:33.289 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程 中找到 337 个文件需要处理。
2025-07-11 17:14:33.330 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程
2025-07-11 17:14:33.330 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路
2025-07-11 17:14:33.331 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路 中找到 198 个文件需要处理。
2025-07-11 17:14:33.351 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路
2025-07-11 17:14:33.351 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:14:33.351 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河 中找到 52 个文件需要处理。
2025-07-11 17:14:33.359 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:14:33.360 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:14:33.360 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河 中找到 52 个文件需要处理。
2025-07-11 17:14:33.366 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:14:33.368 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河
2025-07-11 17:14:33.369 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河 中找到 73 个文件需要处理。
2025-07-11 17:14:33.378 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河
2025-07-11 17:14:33.378 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:14:33.378 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆 中找到 28 个文件需要处理。
2025-07-11 17:14:33.383 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:14:33.383 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:14:33.383 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆 中找到 28 个文件需要处理。
2025-07-11 17:14:33.386 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:14:33.387 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空
2025-07-11 17:14:33.388 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空 中找到 45 个文件需要处理。
2025-07-11 17:14:33.392 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空
2025-07-11 17:14:33.395 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼
2025-07-11 17:14:33.396 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼 中找到 73 个文件需要处理。
2025-07-11 17:14:33.402 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼
2025-07-11 17:14:33.402 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:14:33.402 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆 中找到 24 个文件需要处理。
2025-07-11 17:14:33.406 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:14:33.406 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:14:33.406 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆 中找到 24 个文件需要处理。
2025-07-11 17:14:33.411 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:14:33.413 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空
2025-07-11 17:14:33.413 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空 中找到 49 个文件需要处理。
2025-07-11 17:14:33.418 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空
2025-07-11 17:14:33.421 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程
2025-07-11 17:14:33.424 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程 中找到 99 个文件需要处理。
2025-07-11 17:14:33.435 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程
2025-07-11 17:14:33.436 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评
2025-07-11 17:14:33.436 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评 中找到 2 个文件需要处理。
2025-07-11 17:14:33.436 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评
2025-07-11 17:14:33.437 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准
2025-07-11 17:14:33.438 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准 中找到 2 个文件需要处理。
2025-07-11 17:14:33.438 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准
2025-07-11 17:14:33.439 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料
2025-07-11 17:14:33.439 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料 中找到 2 个文件需要处理。
2025-07-11 17:14:33.440 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料
2025-07-11 17:14:33.440 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书
2025-07-11 17:14:33.441 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书 中找到 1 个文件需要处理。
2025-07-11 17:14:33.441 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书
2025-07-11 17:14:33.441 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图
2025-07-11 17:14:33.443 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图 中找到 77 个文件需要处理。
2025-07-11 17:14:33.455 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图
2025-07-11 17:14:33.456 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信
2025-07-11 17:14:33.456 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信 中找到 4 个文件需要处理。
2025-07-11 17:14:33.457 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信
2025-07-11 17:14:33.457 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动
2025-07-11 17:14:33.458 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动 中找到 4 个文件需要处理。
2025-07-11 17:14:33.459 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动
2025-07-11 17:14:33.459 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建
2025-07-11 17:14:33.460 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建 中找到 38 个文件需要处理。
2025-07-11 17:14:33.466 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建
2025-07-11 17:14:33.467 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次
2025-07-11 17:14:33.468 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次 中找到 7 个文件需要处理。
2025-07-11 17:14:33.470 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次
2025-07-11 17:14:33.470 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电
2025-07-11 17:14:33.470 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电 中找到 8 个文件需要处理。
2025-07-11 17:14:33.472 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电
2025-07-11 17:14:33.473 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次
2025-07-11 17:14:33.473 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次 中找到 16 个文件需要处理。
2025-07-11 17:14:33.476 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次
2025-07-11 17:14:33.477 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书
2025-07-11 17:14:33.478 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书 中找到 9 个文件需要处理。
2025-07-11 17:14:33.480 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书
2025-07-11 17:14:33.480 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版
2025-07-11 17:14:33.480 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版 中找到 9 个文件需要处理。
2025-07-11 17:14:33.482 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版
2025-07-11 17:14:33.483 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册
2025-07-11 17:14:33.484 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册 中找到 2 个文件需要处理。
2025-07-11 17:14:33.485 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册
2025-07-11 17:14:33.485 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复
2025-07-11 17:14:33.485 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复 中找到 4 个文件需要处理。
2025-07-11 17:14:33.486 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复
2025-07-11 17:14:33.487 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版
2025-07-11 17:14:33.487 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版 中找到 27 个文件需要处理。
2025-07-11 17:14:33.492 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版
2025-07-11 17:14:33.494 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程
2025-07-11 17:14:33.495 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程 中找到 13 个文件需要处理。
2025-07-11 17:14:33.496 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程
2025-07-11 17:14:33.497 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图
2025-07-11 17:14:33.497 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图 中找到 8 个文件需要处理。
2025-07-11 17:14:33.498 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图
2025-07-11 17:14:33.498 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统
2025-07-11 17:14:33.498 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统 中找到 8 个文件需要处理。
2025-07-11 17:14:33.499 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统
2025-07-11 17:14:33.500 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书
2025-07-11 17:14:33.500 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书 中找到 3 个文件需要处理。
2025-07-11 17:14:33.500 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书
2025-07-11 17:15:03.716 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 53ed0655-6420-4445-bf31-b4487e06bb62, 用户: admin, 对话idNone
2025-07-11 17:15:03.716 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 17:15:08.233 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='白衣河项目', 年份='None'
2025-07-11 17:15:08.234 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '白衣河项目', 年份: None
2025-07-11 17:15:08.234 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-11 17:15:08.234 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-11 17:15:08.235 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 17:15:08.398 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('白衣河输变电工程初设收口版', 0.6948131260055043), ('示例项目', 0.5388549978052897), ('江苏龙王山～上党500千伏线路加装串联电抗器工程初设文件内审送审版20250303', 0.4123634204897012)]
2025-07-11 17:15:12.102 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 17:15:15.407 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 53ed0655-6420-4445-bf31-b4487e06bb62, 用户: admin, 对话idbad6b135-cfaf-47d4-bb0f-fc853914881a
2025-07-11 17:15:15.407 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 17:15:19.671 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='白衣河输变电工程初设收口版', 年份='None'
2025-07-11 17:15:19.671 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '白衣河输变电工程初设收口版', 年份: None
2025-07-11 17:15:19.672 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['白衣河输变电工程初设收口版']
2025-07-11 17:15:19.672 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '白衣河输变电工程初设收口版'
2025-07-11 17:15:19.676 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '白衣河输变电工程初设收口版'，包含 340 个文件。
2025-07-11 17:15:19.679 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 17:15:23.423 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 17:15:32.378 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/e4503efb4fea405aba2f5329ad2669ae/[S23003704C-A-11]白衣河变出线布置图.pdf
2025-07-11 17:15:32.548 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'e4503efb4fea405aba2f5329ad2669ae', URL中的文件名: '[S23003704C-A-11]白衣河变出线布置图_d02a79f1.pdf'
2025-07-11 17:15:32.548 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'e4503efb4fea405aba2f5329ad2669ae' (文件: [S23003704C-A-11]白衣河变出线布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:15:32.548 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003704C-A-11]白衣河变出线布置图_d02a79f1.pdf' 与Token关联文件名 '[S23003704C-A-11]白衣河变出线布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:15:32.548 | DEBUG    | core.routing:download_file_via_token:237 - Token 'e4503efb4fea405aba2f5329ad2669ae' 验证成功。准备下载文件: '[S23003704C-A-11]白衣河变出线布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-11]白衣河变出线布置图.pdf', URL文件名: '[S23003704C-A-11]白衣河变出线布置图_d02a79f1.pdf')
2025-07-11 17:15:32.551 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'e4503efb4fea405aba2f5329ad2669ae', URL中的文件名: '[S23003704C-A-11]白衣河变出线布置图_d02a79f1.pdf'
2025-07-11 17:15:32.551 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'e4503efb4fea405aba2f5329ad2669ae' (文件: [S23003704C-A-11]白衣河变出线布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:15:32.551 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003704C-A-11]白衣河变出线布置图_d02a79f1.pdf' 与Token关联文件名 '[S23003704C-A-11]白衣河变出线布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:15:32.551 | DEBUG    | core.routing:download_file_via_token:237 - Token 'e4503efb4fea405aba2f5329ad2669ae' 验证成功。准备下载文件: '[S23003704C-A-11]白衣河变出线布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-11]白衣河变出线布置图.pdf', URL文件名: '[S23003704C-A-11]白衣河变出线布置图_d02a79f1.pdf')
2025-07-11 17:15:47.590 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/57f5fdeb7d594abcbe44cc45b661bb7d/会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx
2025-07-11 17:15:47.595 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '57f5fdeb7d594abcbe44cc45b661bb7d', URL中的文件名: '会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27_885dfdf0.docx'
2025-07-11 17:15:47.595 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '57f5fdeb7d594abcbe44cc45b661bb7d' (文件: 会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:15:47.595 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27_885dfdf0.docx' 与Token关联文件名 '会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx' 不匹配。将使用Token关联文件名。
2025-07-11 17:15:47.595 | DEBUG    | core.routing:download_file_via_token:237 - Token '57f5fdeb7d594abcbe44cc45b661bb7d' 验证成功。准备下载文件: '会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx', URL文件名: '会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27_885dfdf0.docx')
2025-07-11 17:17:19.003 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/e4dc22523a8f4881baf9be0cae4a86e4/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx
2025-07-11 17:17:19.010 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'e4dc22523a8f4881baf9be0cae4a86e4', URL中的文件名: '白衣河110千伏变电站临时施工电源工程2024.12.27_a7ae3c94.xlsx'
2025-07-11 17:17:19.011 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'e4dc22523a8f4881baf9be0cae4a86e4' (文件: 白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:17:19.011 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '白衣河110千伏变电站临时施工电源工程2024.12.27_a7ae3c94.xlsx' 与Token关联文件名 '白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 17:17:19.011 | DEBUG    | core.routing:download_file_via_token:237 - Token 'e4dc22523a8f4881baf9be0cae4a86e4' 验证成功。准备下载文件: '白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx', URL文件名: '白衣河110千伏变电站临时施工电源工程2024.12.27_a7ae3c94.xlsx')
2025-07-11 17:18:33.081 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口
2025-07-11 17:18:33.081 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口 中找到 0 个文件需要处理。
2025-07-11 17:18:33.081 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口
2025-07-11 17:18:42.479 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程
2025-07-11 17:18:42.479 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程
2025-07-11 17:18:42.492 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程 中找到 337 个文件需要处理。
2025-07-11 17:18:42.527 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程
2025-07-11 17:18:42.528 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程
2025-07-11 17:18:42.528 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程
2025-07-11 17:18:42.529 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程 中找到 13 个文件需要处理。
2025-07-11 17:18:42.531 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程
2025-07-11 17:18:42.621 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版
2025-07-11 17:18:42.621 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/概算书收口版
2025-07-11 17:18:42.621 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/概算书收口版 中找到 27 个文件需要处理。
2025-07-11 17:18:42.624 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/概算书收口版
2025-07-11 17:18:42.624 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程
2025-07-11 17:18:42.624 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程
2025-07-11 17:18:42.626 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程 中找到 99 个文件需要处理。
2025-07-11 17:18:42.635 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程
2025-07-11 17:18:42.635 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路
2025-07-11 17:18:42.635 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路
2025-07-11 17:18:42.636 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路 中找到 198 个文件需要处理。
2025-07-11 17:18:42.653 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路
2025-07-11 17:18:42.653 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书
2025-07-11 17:18:42.653 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书
2025-07-11 17:18:42.653 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书 中找到 3 个文件需要处理。
2025-07-11 17:18:42.654 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书
2025-07-11 17:18:42.654 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图
2025-07-11 17:18:42.654 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图
2025-07-11 17:18:42.654 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图 中找到 8 个文件需要处理。
2025-07-11 17:18:42.655 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图
2025-07-11 17:18:42.656 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/常店220千伏变电站110千伏间隔扩建工程 设备材料清册-省公司审后修改最终版11.5.xlsx
2025-07-11 17:18:42.657 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/（变电工程）常店220千伏变电站110千伏间隔扩建工程初步设计说明书-省公司审后修改最终版11.5.docx
2025-07-11 17:18:42.658 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.pdf
2025-07-11 17:18:42.659 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.xlsx
2025-07-11 17:18:42.660 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/概算书/常店220千伏变电站110千伏间隔扩建工程-12.27.zwzj
2025-07-11 17:18:42.660 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统
2025-07-11 17:18:42.660 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统
2025-07-11 17:18:42.660 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统 中找到 8 个文件需要处理。
2025-07-11 17:18:42.661 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统
2025-07-11 17:18:42.662 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图01]2023年徐州市丰县35千伏及以上电网图.pdf
2025-07-11 17:18:42.663 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图02]徐州市2025年丰县电网接线示意图.pdf
2025-07-11 17:18:42.664 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图03]220kV常店变电站电气主接线图.pdf
2025-07-11 17:18:42.665 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图04]220kV常店变电站电气总平面布置图.pdf
2025-07-11 17:18:42.666 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图05]110kV屋外配电装置出线间隔断面图.pdf
2025-07-11 17:18:42.666 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图06]接地平面布置图.pdf
2025-07-11 17:18:42.667 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图07]二次设备室屏位布置图.pdf
2025-07-11 17:18:42.668 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图08]110kV系统继电保护配置图.pdf
2025-07-11 17:18:42.669 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.zwzj
2025-07-11 17:18:42.670 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.pdf
2025-07-11 17:18:42.671 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.xlsx
2025-07-11 17:18:42.671 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店220千伏变电站110千伏间隔扩建工程-12.27.zwzj
2025-07-11 17:18:42.672 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.pdf
2025-07-11 17:18:42.673 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.xlsx
2025-07-11 17:18:42.674 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/常店～白衣河110千伏线路工程（架空）-12.27.zwzj
2025-07-11 17:18:42.674 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.pdf
2025-07-11 17:18:42.675 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.xls
2025-07-11 17:18:42.676 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.pdf
2025-07-11 17:18:42.677 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.xlsx
2025-07-11 17:18:42.678 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.zwzj
2025-07-11 17:18:42.678 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.BDD3
2025-07-11 17:18:42.679 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.pdf
2025-07-11 17:18:42.680 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx
2025-07-11 17:18:42.681 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/Thumbs.db
2025-07-11 17:18:42.681 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.pdf
2025-07-11 17:18:42.682 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.xlsx
2025-07-11 17:18:42.683 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程  (电缆）2024.12.27.zwzj
2025-07-11 17:18:42.684 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.pdf
2025-07-11 17:18:42.684 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.xlsx
2025-07-11 17:18:42.685 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/丰邦～孙楼110千伏线路工程（架空）2024.12.27.zwzj
2025-07-11 17:18:42.686 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.pdf
2025-07-11 17:18:42.687 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.xlsx
2025-07-11 17:18:42.688 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程  (电缆）2024.12.27.zwzj
2025-07-11 17:18:42.689 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.pdf
2025-07-11 17:18:42.689 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/概算书收口版/孙楼～白衣河110千伏线路工程（架空）2024.12.27.xlsx
2025-07-11 17:18:42.690 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复
2025-07-11 17:18:42.690 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复
2025-07-11 17:18:42.690 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复 中找到 4 个文件需要处理。
2025-07-11 17:18:42.691 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复
2025-07-11 17:18:42.691 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册
2025-07-11 17:18:42.691 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册
2025-07-11 17:18:42.691 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册 中找到 2 个文件需要处理。
2025-07-11 17:18:42.692 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册
2025-07-11 17:18:42.692 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书
2025-07-11 17:18:42.692 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书
2025-07-11 17:18:42.692 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书 中找到 9 个文件需要处理。
2025-07-11 17:18:42.695 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书
2025-07-11 17:18:42.695 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图
2025-07-11 17:18:42.695 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图
2025-07-11 17:18:42.696 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图 中找到 77 个文件需要处理。
2025-07-11 17:18:42.702 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图
2025-07-11 17:18:42.702 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书
2025-07-11 17:18:42.702 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书
2025-07-11 17:18:42.702 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书 中找到 1 个文件需要处理。
2025-07-11 17:18:42.703 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书
2025-07-11 17:18:42.703 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料
2025-07-11 17:18:42.703 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料
2025-07-11 17:18:42.703 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料 中找到 2 个文件需要处理。
2025-07-11 17:18:42.704 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料
2025-07-11 17:18:42.704 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准
2025-07-11 17:18:42.704 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准
2025-07-11 17:18:42.704 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准 中找到 2 个文件需要处理。
2025-07-11 17:18:42.705 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准
2025-07-11 17:18:42.705 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评
2025-07-11 17:18:42.705 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评
2025-07-11 17:18:42.706 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评 中找到 2 个文件需要处理。
2025-07-11 17:18:42.706 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评
2025-07-11 17:18:42.707 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/国网徐州供电公司经济技术研究所关于江苏徐州白衣河等110千伏输变电工程可行性研究报告的评审意见.pdf
2025-07-11 17:18:42.708 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/徐供电项目〔2023〕182号(盖章).pdf
2025-07-11 17:18:42.709 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/江苏徐州白衣河等110千伏输变电工程建设规模及投资汇总表.pdf
2025-07-11 17:18:42.710 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/01 可研批复/江苏徐州白衣河等110千伏输变电工程系统接线示意图.pdf
2025-07-11 17:18:42.710 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册/B23003702C-A-01 白衣河110千伏变电站新建工程初步设计说明书-省公司审后修改 架空出线 12.27.docx
2025-07-11 17:18:42.711 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/02 初步设计说明书及材料清册/B23003702C-B-01 白衣河110千伏变电站新建工程设备材料清册-省公司审后修改 架空出线12.15.xlsx
2025-07-11 17:18:42.711 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版
2025-07-11 17:18:42.711 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版
2025-07-11 17:18:42.712 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版 中找到 9 个文件需要处理。
2025-07-11 17:18:42.713 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版
2025-07-11 17:18:42.714 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/Thumbs.db
2025-07-11 17:18:42.714 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.pdf
2025-07-11 17:18:42.715 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/徐州白衣河110千伏新建变电站工程移动线路迁改工程.xls
2025-07-11 17:18:42.716 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.pdf
2025-07-11 17:18:42.717 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.xlsx
2025-07-11 17:18:42.718 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/江苏徐州白衣河110千伏变电站工程2024.12.27.zwzj
2025-07-11 17:18:42.718 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.BDD3
2025-07-11 17:18:42.719 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.pdf
2025-07-11 17:18:42.720 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/03 概算书/12.27收口版/白衣河110千伏变电站临时施工电源工程2024.12.27.xlsx
2025-07-11 17:18:42.720 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次
2025-07-11 17:18:42.720 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次
2025-07-11 17:18:42.720 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次 中找到 16 个文件需要处理。
2025-07-11 17:18:42.722 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次
2025-07-11 17:18:42.723 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电
2025-07-11 17:18:42.723 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电
2025-07-11 17:18:42.723 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电 中找到 8 个文件需要处理。
2025-07-11 17:18:42.725 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电
2025-07-11 17:18:42.725 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次
2025-07-11 17:18:42.725 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次
2025-07-11 17:18:42.725 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次 中找到 7 个文件需要处理。
2025-07-11 17:18:42.726 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次
2025-07-11 17:18:42.726 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建
2025-07-11 17:18:42.727 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建
2025-07-11 17:18:42.727 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建 中找到 38 个文件需要处理。
2025-07-11 17:18:42.730 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建
2025-07-11 17:18:42.730 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动
2025-07-11 17:18:42.731 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动
2025-07-11 17:18:42.731 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动 中找到 4 个文件需要处理。
2025-07-11 17:18:42.732 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动
2025-07-11 17:18:42.732 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信
2025-07-11 17:18:42.732 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信
2025-07-11 17:18:42.732 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信 中找到 4 个文件需要处理。
2025-07-11 17:18:42.733 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信
2025-07-11 17:18:42.734 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-01]2023年徐州市丰县35千伏及以上电网图.pdf
2025-07-11 17:18:42.735 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-02]投产年丰县电网接线示意图.pdf
2025-07-11 17:18:42.735 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-03]电气主接线图.pdf
2025-07-11 17:18:42.736 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-04]电气总平面布置图.pdf
2025-07-11 17:18:42.737 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-05]生产综合楼一层电气平面图.pdf
2025-07-11 17:18:42.738 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-06]生产综合楼二层电气平面布置图.pdf
2025-07-11 17:18:42.738 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-07]生产综合楼电缆层平面布置图.pdf
2025-07-11 17:18:42.739 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-08]生产综合楼10.200m标高平面图.pdf
2025-07-11 17:18:42.740 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-09]生产综合楼屋顶平面布置图.pdf
2025-07-11 17:18:42.741 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-10]配电装置室断面图.pdf
2025-07-11 17:18:42.742 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-11]110kV屋内配电装置平面布置图.pdf
2025-07-11 17:18:42.742 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-12]10kV屋内配电装置平面布置图.pdf
2025-07-11 17:18:42.743 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-13]站区接地平面布置图.pdf
2025-07-11 17:18:42.744 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-14]配电装置室屋顶避雷带平面布置图.pdf
2025-07-11 17:18:42.745 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-15]站内一次电力电缆敷设路径图.pdf
2025-07-11 17:18:42.746 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-16]生产综合楼屋顶光伏布置图.pdf
2025-07-11 17:18:42.746 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-01]设计说明.pdf
2025-07-11 17:18:42.747 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-02]线路路径示意图.pdf
2025-07-11 17:18:42.748 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-03]单回柱上断路器杆组装示意图.pdf
2025-07-11 17:18:42.749 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-04]接地装置安装典型图.pdf
2025-07-11 17:18:42.750 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-05]15米双杆柱上变压器正装杆型图.pdf
2025-07-11 17:18:42.750 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-06]18米电杆杆型图.pdf
2025-07-11 17:18:42.751 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101-07]φ230-18m水泥杆套筒式基础示意图.pdf
2025-07-11 17:18:42.752 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/临电/[B23003702C-P0101]图纸目录_0.pdf
2025-07-11 17:18:42.753 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-01]继电保护配置图.pdf
2025-07-11 17:18:42.753 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-02]二次设备室布置图.pdf
2025-07-11 17:18:42.754 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-03]110kV GIS室二次设备室平面布置图.pdf
2025-07-11 17:18:42.755 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-04]主变间隔系统互感器配置图.pdf
2025-07-11 17:18:42.756 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-05]110kV系统互感器配置图.pdf
2025-07-11 17:18:42.756 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-06]10kV系统互感器配置图.pdf
2025-07-11 17:18:42.757 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/二次/[附图D02-07]一体化电源系统配置图.pdf
2025-07-11 17:18:42.758 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-15]F-A轴立面图 ,A-F轴立面图及剖面图.pdf
2025-07-11 17:18:42.759 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-16]卫生间平面布置图.pdf
2025-07-11 17:18:42.759 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-17]基础施工图.pdf
2025-07-11 17:18:42.760 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-18]基础顶~-0.050m柱平面布置图.pdf
2025-07-11 17:18:42.761 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-19]-0.050m~4.950m柱平面布置图.pdf
2025-07-11 17:18:42.762 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-20]4.950m~10.000m柱平面布置图.pdf
2025-07-11 17:18:42.762 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-21]-0.050m梁施工图.pdf
2025-07-11 17:18:42.763 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-22]4.950m梁施工图.pdf
2025-07-11 17:18:42.764 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-23]10.000m屋面梁施工图.pdf
2025-07-11 17:18:42.764 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-24]基础顶~-0.050m柱平面布置图.pdf
2025-07-11 17:18:42.765 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-25]-0.050m~5.150m框架柱平法施工图.pdf
2025-07-11 17:18:42.766 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-26]5.150m~10.150m框架柱平法施工图.pdf
2025-07-11 17:18:42.767 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-27]10.150m~屋顶柱平法施工图.pdf
2025-07-11 17:18:42.768 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-28]-0.050m层板平面布置图.pdf
2025-07-11 17:18:42.768 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-29]5.150m层板平面布置图.pdf
2025-07-11 17:18:42.769 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-30]10.150m层板平面布置图.pdf
2025-07-11 17:18:42.770 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-31]屋面层板配筋图.pdf
2025-07-11 17:18:42.771 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-32]-0.050m层梁配筋图.pdf
2025-07-11 17:18:42.772 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-33]5.150m层梁配筋图.pdf
2025-07-11 17:18:42.773 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-34]10.150m层梁配筋图.pdf
2025-07-11 17:18:42.773 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-35]屋面层梁配筋图.pdf
2025-07-11 17:18:42.774 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-36]站区室外给水管道施工图.pdf
2025-07-11 17:18:42.775 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-37]室外排水总平面图.pdf
2025-07-11 17:18:42.775 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-38]事故油池土建施工图.pdf
2025-07-11 17:18:42.776 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-01]站址位置图(一).pdf
2025-07-11 17:18:42.777 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-02]站址位置图（二）.pdf
2025-07-11 17:18:42.778 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-03]土建总平面布置图.pdf
2025-07-11 17:18:42.778 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-04]竖向布置图.pdf
2025-07-11 17:18:42.779 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-05]土方平衡图.pdf
2025-07-11 17:18:42.780 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-06]大门施工图（推拉门）.pdf
2025-07-11 17:18:42.781 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-07]围墙及挡土墙图.pdf
2025-07-11 17:18:42.781 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-08]道路施工图.pdf
2025-07-11 17:18:42.782 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-09]电缆层平面布置图.pdf
2025-07-11 17:18:42.783 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-10]一层平面布置图.pdf
2025-07-11 17:18:42.784 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-11]二层平面布置图.pdf
2025-07-11 17:18:42.784 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-12]10.200m标高平面图.pdf
2025-07-11 17:18:42.785 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-13]屋顶平面布置图.pdf
2025-07-11 17:18:42.786 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/土建/[土建附图T-14]1-9轴立面图 9-1轴立面图.pdf
2025-07-11 17:18:42.786 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-01]计算机监控系统结构示意图.pdf
2025-07-11 17:18:42.787 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-02]过程层网络结构示意图.pdf
2025-07-11 17:18:42.788 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-03]时间同步系统结构示意图.pdf
2025-07-11 17:18:42.789 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-04]辅助设备智能监控系统结构示意图.pdf
2025-07-11 17:18:42.789 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-01]徐州丰县电力通信网网络拓扑图.pdf
2025-07-11 17:18:42.790 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-02]徐州丰县电力通信网光缆图.pdf
2025-07-11 17:18:42.791 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-03]徐州丰县电力通信网光缆图（本期）.pdf
2025-07-11 17:18:42.792 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/通信/[B23003702C-U0101-04]光缆建设详细方案图.pdf
2025-07-11 17:18:42.792 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书/电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf
2025-07-11 17:18:42.793 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料/X2023061W-水文报告-江苏徐州白衣河110千伏输变电工程.pdf
2025-07-11 17:18:42.794 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/06 地勘资料/岩土工程勘察报告-白衣河.pdf
2025-07-11 17:18:42.795 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准/白衣河用地预审与选址意见书.pdf
2025-07-11 17:18:42.795 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/07 选址意见书及项目核准/苏发改能源发〔2023〕1336号  苏州桑田220千伏输变电工程等电网项目的核准批复-白衣河.pdf
2025-07-11 17:18:42.796 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评/水保方案报告表-江苏徐州白衣河110千伏输变电工程.pdf
2025-07-11 17:18:42.797 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/08 环评/江苏徐州白衣河110千伏输变电工程环评.pdf
2025-07-11 17:18:42.797 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼
2025-07-11 17:18:42.797 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼
2025-07-11 17:18:42.798 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼 中找到 73 个文件需要处理。
2025-07-11 17:18:42.804 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼
2025-07-11 17:18:42.804 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河
2025-07-11 17:18:42.804 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河
2025-07-11 17:18:42.805 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河 中找到 73 个文件需要处理。
2025-07-11 17:18:42.810 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河
2025-07-11 17:18:42.811 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:18:42.811 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:18:42.811 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河 中找到 52 个文件需要处理。
2025-07-11 17:18:42.815 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河
2025-07-11 17:18:42.816 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空
2025-07-11 17:18:42.816 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空
2025-07-11 17:18:42.816 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空 中找到 49 个文件需要处理。
2025-07-11 17:18:42.820 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空
2025-07-11 17:18:42.820 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:18:42.820 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:18:42.820 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆 中找到 24 个文件需要处理。
2025-07-11 17:18:42.823 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆
2025-07-11 17:18:42.823 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-14]门型构架单导线70kN盘形悬式（复合）绝缘子单联耐张串.pdf
2025-07-11 17:18:42.824 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-27]平断面定位图（丰邦-孙楼2-4）.pdf
2025-07-11 17:18:42.825 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-28]平断面定位图（丰邦-孙楼3-4）.pdf
2025-07-11 17:18:42.826 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-29]平断面定位图（丰邦-孙楼4-4）.pdf
2025-07-11 17:18:42.826 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-30]平断面定位图（邦丰线改造）.pdf
2025-07-11 17:18:42.827 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-31]杆塔明细表（邦孙线改造）.pdf
2025-07-11 17:18:42.828 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-32]杆塔明细表（丰邦-孙楼1-2）.pdf
2025-07-11 17:18:42.829 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-33]杆塔明细表（丰邦-孙楼2-2）.pdf
2025-07-11 17:18:42.829 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-34]杆塔明细表（邦丰线改造）.pdf
2025-07-11 17:18:42.830 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-35]全线杆塔一览图.pdf
2025-07-11 17:18:42.831 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-36]全线基础一览图.pdf
2025-07-11 17:18:42.832 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-37]防坠落装置结构图.pdf
2025-07-11 17:18:42.832 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-38]基础配置表.pdf
2025-07-11 17:18:42.833 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-39]110-ED21S-J1G1基础施工图.pdf
2025-07-11 17:18:42.834 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-40]110-ED21S-J2G1基础施工图.pdf
2025-07-11 17:18:42.835 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-41]110-ED21S-J4G1基础施工图.pdf
2025-07-11 17:18:42.835 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-42]110-ED21S-DJG1基础施工图.pdf
2025-07-11 17:18:42.836 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-43]110-ED21S-DJLG1基础施工图.pdf
2025-07-11 17:18:42.837 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-44]220kV丰邦变电站电气主接线图.pdf
2025-07-11 17:18:42.838 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf
2025-07-11 17:18:42.838 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf
2025-07-11 17:18:42.839 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-47]孙楼变电气总平面布置图（改造后）.pdf
2025-07-11 17:18:42.840 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A]图纸目录_____0.pdf
2025-07-11 17:18:42.840 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A]图纸目录_____1.pdf
2025-07-11 17:18:42.841 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-01] 丰邦~孙楼110千伏线路工程-初步设计说明书及设备材料汇总表.pdf
2025-07-11 17:18:42.842 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf
2025-07-11 17:18:42.843 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-03]徐州市2025年丰县电网接线示意图.pdf
2025-07-11 17:18:42.843 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-04]路径走向示意图.pdf
2025-07-11 17:18:42.844 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-05]线路路径方案示意图.pdf
2025-07-11 17:18:42.845 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-06]丰邦变出线布置图.pdf
2025-07-11 17:18:42.846 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-07]电气方案示意图.pdf
2025-07-11 17:18:42.846 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-08]孙楼变出线布置示意图.pdf
2025-07-11 17:18:42.847 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-09]杆塔坐标明细表.pdf
2025-07-11 17:18:42.848 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-10]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf
2025-07-11 17:18:42.849 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-11]OPGW应力曲线图（K=3.0）.pdf
2025-07-11 17:18:42.849 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-12]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf
2025-07-11 17:18:42.850 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-13]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf
2025-07-11 17:18:42.851 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-15]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf
2025-07-11 17:18:42.852 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-16]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf
2025-07-11 17:18:42.852 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-17]导线防震锤安装示意图.pdf
2025-07-11 17:18:42.853 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-18]OPGW光缆耐张金具串组装图.pdf
2025-07-11 17:18:42.854 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-19]OPGW光缆防震锤安装示意图.pdf
2025-07-11 17:18:42.855 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-20]杆塔引下光缆固定线夹.pdf
2025-07-11 17:18:42.855 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-21]杆塔用光缆接头盒.pdf
2025-07-11 17:18:42.856 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-22]杆塔用光缆余缆架.pdf
2025-07-11 17:18:42.857 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-23]接地装置图.pdf
2025-07-11 17:18:42.858 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-24]接地引下线施工图.pdf
2025-07-11 17:18:42.858 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-25]平断面定位图（邦孙线改造）.pdf
2025-07-11 17:18:42.859 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-26]平断面定位图（丰邦-孙楼1-4）.pdf
2025-07-11 17:18:42.860 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-01] 丰邦~孙楼110千伏线路工程-初步设计说明书及设备材料汇总表.pdf
2025-07-11 17:18:42.861 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf
2025-07-11 17:18:42.861 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-03]电缆沟井坐标及明细表.pdf
2025-07-11 17:18:42.862 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-04]110-ED21S-DJL-21m电缆终端塔附件安装图.pdf
2025-07-11 17:18:42.863 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-05]电缆上户外终端杆电缆敷设图.pdf
2025-07-11 17:18:42.864 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-06]G4号-孙楼变.pdf
2025-07-11 17:18:42.864 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-07]护层绝缘过电压保护箱接线图.pdf
2025-07-11 17:18:42.865 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-08]直接接地箱加工图.pdf
2025-07-11 17:18:42.866 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-09]保护接地箱加工图.pdf
2025-07-11 17:18:42.867 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-10]110kV复合外套金属氧化物避雷器安装图.pdf
2025-07-11 17:18:42.868 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-11]避雷器监测器安装图.pdf
2025-07-11 17:18:42.868 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-12]高压弹簧电缆固定夹具.pdf
2025-07-11 17:18:42.869 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-13]管内电缆布置示意图.pdf
2025-07-11 17:18:42.870 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-14]电缆沟内电缆布置示意图.pdf
2025-07-11 17:18:42.871 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-15]电缆井内电缆布置示意图.pdf
2025-07-11 17:18:42.871 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-16]终端井电缆布置示意图.pdf
2025-07-11 17:18:42.872 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-17]直线井接地装置图.pdf
2025-07-11 17:18:42.873 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-18]终端井-分支箱井-余缆井接地装置图.pdf
2025-07-11 17:18:42.873 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-19]电缆终端支撑杆接地装置图.pdf
2025-07-11 17:18:42.874 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-20]电缆终端平台接地装置图.pdf
2025-07-11 17:18:42.875 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-21]电缆防火安装图.pdf
2025-07-11 17:18:42.876 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-22]电缆沟无机堵料示意图.pdf
2025-07-11 17:18:42.877 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-23]电缆土建一览图.pdf
2025-07-11 17:18:42.877 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A]图纸目录__0.pdf
2025-07-11 17:18:42.878 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空
2025-07-11 17:18:42.878 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空
2025-07-11 17:18:42.878 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空 中找到 45 个文件需要处理。
2025-07-11 17:18:42.882 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空
2025-07-11 17:18:42.882 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:18:42.882 | INFO     | database.filebase:_scan_new_directory:228 - 检测到新目录，开始扫描: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:18:42.882 | INFO     | database.filebase:_scan_new_directory:233 - 在新目录 /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆 中找到 28 个文件需要处理。
2025-07-11 17:18:42.885 | INFO     | database.filebase:_scan_new_directory:255 - 新目录扫描完成: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆
2025-07-11 17:18:42.886 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-14]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf
2025-07-11 17:18:42.886 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-28]平断面定位图（沙园T接孙白线）.pdf
2025-07-11 17:18:42.887 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-29]杆塔明细表（白衣河出线段）.pdf
2025-07-11 17:18:42.888 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-30]杆塔明细表（常孙线改造）.pdf
2025-07-11 17:18:42.889 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-31]杆塔明细表（沙园T接孙白线）.pdf
2025-07-11 17:18:42.889 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-32]全线杆塔一览图.pdf
2025-07-11 17:18:42.890 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-33]全线基础一览图.pdf
2025-07-11 17:18:42.891 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-34]防坠落装置结构图.pdf
2025-07-11 17:18:42.892 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-35]基础配置表.pdf
2025-07-11 17:18:42.892 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-36]110-ED21S-J4G1基础施工图.pdf
2025-07-11 17:18:42.893 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-37]110-ED21S-DJG1基础施工图.pdf
2025-07-11 17:18:42.894 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-38]110-ED21S-DJLG1基础施工图.pdf
2025-07-11 17:18:42.895 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-39]110-EC21D-DJLG1基础施工图.pdf
2025-07-11 17:18:42.895 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-40]孙楼变电气主接线图（改造前）.pdf
2025-07-11 17:18:42.896 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-41]孙楼变电气主接线图（改造后）.pdf
2025-07-11 17:18:42.897 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-42]孙楼变电气总平面布置图（改造前）.pdf
2025-07-11 17:18:42.898 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-43]孙楼变电气总平面布置图（改造后）.pdf
2025-07-11 17:18:42.898 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A]图纸目录____0.pdf
2025-07-11 17:18:42.899 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A]图纸目录____1.pdf
2025-07-11 17:18:42.900 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-01] 孙楼~白衣河110千伏线路工程-初步设计说明书及设备材料汇总表.pdf
2025-07-11 17:18:42.901 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf
2025-07-11 17:18:42.901 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-03]徐州市2025年丰县电网接线示意图.pdf
2025-07-11 17:18:42.902 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-04]线路路径方案示意图.pdf
2025-07-11 17:18:42.903 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-05]路径走向示意图.pdf
2025-07-11 17:18:42.903 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-06]电气接线示意图.pdf
2025-07-11 17:18:42.904 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-07]孙楼变出线布置图.pdf
2025-07-11 17:18:42.905 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-08]沙园T接孙楼-白衣河线路示意图.pdf
2025-07-11 17:18:42.906 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-09]白衣河变出线布置图.pdf
2025-07-11 17:18:42.906 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-10]杆塔坐标明细表.pdf
2025-07-11 17:18:42.907 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-11]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf
2025-07-11 17:18:42.908 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-12]OPGW应力曲线图（K=3.0）.pdf
2025-07-11 17:18:42.909 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-13]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf
2025-07-11 17:18:42.909 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-15]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf
2025-07-11 17:18:42.910 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-16]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf
2025-07-11 17:18:42.911 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-17]导线防震锤安装示意图.pdf
2025-07-11 17:18:42.912 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-18]OPGW光缆耐张金具串组装图.pdf
2025-07-11 17:18:42.913 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-19]OPGW光缆防震锤安装示意图.pdf
2025-07-11 17:18:42.913 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-20]杆塔引下光缆固定线夹.pdf
2025-07-11 17:18:42.914 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-21]杆塔用光缆接头盒.pdf
2025-07-11 17:18:42.915 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-22]杆塔用光缆余缆架.pdf
2025-07-11 17:18:42.916 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-23]接地装置图.pdf
2025-07-11 17:18:42.916 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-24]接地引下线施工图.pdf
2025-07-11 17:18:42.917 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-25]平断面定位图（白衣河出线段）.pdf
2025-07-11 17:18:42.918 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-26]平断面定位图（常孙线改造1-2）.pdf
2025-07-11 17:18:42.919 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/架空/[S23003706C-A-27]平断面定位图（常孙线改造2-2）.pdf
2025-07-11 17:18:42.919 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-13]110kV复合外套金属氧化物避雷器安装图.pdf
2025-07-11 17:18:42.920 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-14]避雷器监测器安装图.pdf
2025-07-11 17:18:42.921 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-15]高压弹簧电缆固定夹具.pdf
2025-07-11 17:18:42.922 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-16]管内电缆布置示意图.pdf
2025-07-11 17:18:42.922 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-17]电缆沟内电缆布置示意图.pdf
2025-07-11 17:18:42.923 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-18]电缆井内电缆布置示意图.pdf
2025-07-11 17:18:42.924 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-19]终端井电缆布置示意图.pdf
2025-07-11 17:18:42.925 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-20]直线井接地装置图.pdf
2025-07-11 17:18:42.925 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-21]终端井-分支箱井-余缆井接地装置图.pdf
2025-07-11 17:18:42.926 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-22]电缆终端支撑杆接地装置图.pdf
2025-07-11 17:18:42.927 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-23]电缆终端平台接地装置图.pdf
2025-07-11 17:18:42.928 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-24]电缆防火安装图.pdf
2025-07-11 17:18:42.928 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-25]电缆沟无机堵料示意图.pdf
2025-07-11 17:18:42.929 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-26]电缆土建一览图.pdf
2025-07-11 17:18:42.930 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A]图纸目录___0.pdf
2025-07-11 17:18:42.931 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A]图纸目录___1.pdf
2025-07-11 17:18:42.931 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-01] 孙楼~白衣河110千伏线路工程-初步设计说明书及设备材料汇总表.pdf
2025-07-11 17:18:42.932 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-02]孙楼变电缆线路路径示意图.pdf
2025-07-11 17:18:42.933 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-03]白衣河变电缆线路路径示意图.pdf
2025-07-11 17:18:42.934 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-04]电缆沟井坐标及明细表.pdf
2025-07-11 17:18:42.934 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-05]110-EC21D-DJL-18m电缆终端塔附件安装图.pdf
2025-07-11 17:18:42.935 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-06]110-ED21S-DJL-21m电缆终端塔附件安装图.pdf
2025-07-11 17:18:42.936 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-07]电缆上户外终端杆电缆敷设图.pdf
2025-07-11 17:18:42.937 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-08]G1号-G2号.pdf
2025-07-11 17:18:42.937 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-09]G13-孙楼变.pdf
2025-07-11 17:18:42.938 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-10]护层绝缘过电压保护箱接线图.pdf
2025-07-11 17:18:42.939 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-11]直接接地箱加工图.pdf
2025-07-11 17:18:42.939 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/孙楼-白衣河/电缆/[S23003707C-A-12]保护接地箱加工图.pdf
2025-07-11 17:18:42.940 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-16]JL3-G1A-400-35导线应力曲线图(K=2.5).pdf
2025-07-11 17:18:42.941 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-29]50≤ρ＜100接地装置图.pdf
2025-07-11 17:18:42.942 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-30]接地引下线施工图.pdf
2025-07-11 17:18:42.942 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-31]平断面定位图（常顺线改造）.pdf
2025-07-11 17:18:42.943 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-32]平断面定位图（常金线挂线1-3）.pdf
2025-07-11 17:18:42.944 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-33]平断面定位图（常金线挂线2-3）.pdf
2025-07-11 17:18:42.945 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-34]平断面定位图（常金线挂线3-3）.pdf
2025-07-11 17:18:42.945 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-35]平断面定位图（白衣河进线）.pdf
2025-07-11 17:18:42.946 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-36]杆塔明细表（常顺线改造）.pdf
2025-07-11 17:18:42.947 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-37]杆塔明细表（常金线挂线1-2）.pdf
2025-07-11 17:18:42.948 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-38]杆塔明细表（常金线挂线2-2）.pdf
2025-07-11 17:18:42.948 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-39]杆塔明细表（白衣河进线）.pdf
2025-07-11 17:18:42.949 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-40]220kV常店变电站电气总平面布置图.pdf
2025-07-11 17:18:42.950 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-41]常店变110kV屋外配电装置出线间隔断面图.pdf
2025-07-11 17:18:42.951 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-42]白衣河变电站电气平面布置图.pdf
2025-07-11 17:18:42.951 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-43]白衣河变配电装置室断面图.pdf
2025-07-11 17:18:42.952 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-44]全线杆塔一览图.pdf
2025-07-11 17:18:42.953 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-45]全线基础一览图.pdf
2025-07-11 17:18:42.953 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-46]110-ED21S-DJ-21m防坠落装置结构图.pdf
2025-07-11 17:18:42.954 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-47]35-DD21GS-Z1-21m防坠落装置加工图.pdf
2025-07-11 17:18:42.955 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-48]基础配置表.pdf
2025-07-11 17:18:42.956 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-49]110-EC21D-DJG1基础施工图.pdf
2025-07-11 17:18:42.956 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-50]110-ED21S-DJG1基础施工图.pdf
2025-07-11 17:18:42.957 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-51]110-ED21GS-DJG1基础施工图.pdf
2025-07-11 17:18:42.958 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A]图纸目录___0.pdf
2025-07-11 17:18:42.959 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A]图纸目录___1.pdf
2025-07-11 17:18:42.959 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-02]2023年徐州市丰县35千伏及以上电网图.pdf
2025-07-11 17:18:42.960 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-03]徐州市2025年丰县电网接线示意图.pdf
2025-07-11 17:18:42.961 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-04]路径走向示意图.pdf
2025-07-11 17:18:42.962 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-05]线路路径示意图（现状）.pdf
2025-07-11 17:18:42.962 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-06]线路路径方案示意图（改造后）.pdf
2025-07-11 17:18:42.963 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-07]电气接线示意图.pdf
2025-07-11 17:18:42.964 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-08]光缆接线示意图.pdf
2025-07-11 17:18:42.965 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-09]常店变出线（现状）.pdf
2025-07-11 17:18:42.965 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-10]常店变出线布置图和间隔调整表.pdf
2025-07-11 17:18:42.966 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-11]白衣河变出线布置图.pdf
2025-07-11 17:18:42.967 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-12]杆塔坐标明细表.pdf
2025-07-11 17:18:42.967 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-13]杆塔位置布置图（顺河线改造）.pdf
2025-07-11 17:18:42.968 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-14]杆塔位置布置图（穿越点）.pdf
2025-07-11 17:18:42.969 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-15]杆塔位置布置图（进白衣河变）.pdf
2025-07-11 17:18:42.970 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-17]OPGW应力曲线图（K=3.0）.pdf
2025-07-11 17:18:42.971 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-18]单导线70kN盘形悬式（复合）绝缘子单联I型悬垂串.pdf
2025-07-11 17:18:42.971 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-19]单导线70kN盘形悬式（复合）绝缘子双联双挂点双线夹I型悬垂串.pdf
2025-07-11 17:18:42.972 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-20]门型构架单导线70kN盘形悬式（复合）绝缘子单联耐张串.pdf
2025-07-11 17:18:42.973 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-21]单导线70kN盘形悬式绝缘子双联单挂点耐张串（1ND21Y-0040-07P(H)).pdf
2025-07-11 17:18:42.973 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-22]单导线70kN复合绝缘子直跳跳线串（1TD-00-07H(P)Z).pdf
2025-07-11 17:18:42.974 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-23]导线防震锤安装示意图.pdf
2025-07-11 17:18:42.975 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-24]OPGW光缆耐张金具串组装图.pdf
2025-07-11 17:18:42.976 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-25]OPGW光缆防震锤安装示意图.pdf
2025-07-11 17:18:42.976 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-26]杆塔引下光缆固定线夹.pdf
2025-07-11 17:18:42.977 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-27]铁塔用光缆接头盒.pdf
2025-07-11 17:18:42.978 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/江苏徐州白衣河110千伏输变电工程/线路/常店-白衣河/[S23003704C-A-28]钢管杆用光缆接头盒.pdf
2025-07-11 17:18:42.979 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/12月26土建审查意见回复.doc
2025-07-11 17:18:42.979 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/工程评审意见_徐州白衣河110kV输变电工程 -2024.12.27.docx
2025-07-11 17:18:42.980 | INFO     | database.filebase:_remove_file:174 - [数据库删除] 2024/白衣河输变电工程初设收口版/送审/会议纪要_徐州白衣河110千伏输变电工程 - 2024.12.27.docx
2025-07-11 17:19:00.329 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 53ed0655-6420-4445-bf31-b4487e06bb62) 已从状态管理器登出。
2025-07-11 17:19:00.329 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 17:19:00.329 | INFO     | core.routing:logout:121 - HTTP会话已清除 (用户: admin)。
2025-07-11 17:19:00.330 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 53ed0655-6420-4445-bf31-b4487e06bb62 用户 admin 断开连接
2025-07-11 17:19:00.330 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 17:19:12.382 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 372b230a-d0a1-4e12-8a15-b4dbf2fb673c, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-11 17:19:12.382 | INFO     | core.routing:login:110 - 用户 'admin' (IP: 127.0.0.1, Session: 372b230a-d0a1-4e12-8a15-b4dbf2fb673c) 登录成功。
2025-07-11 17:19:12.392 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 372b230a-d0a1-4e12-8a15-b4dbf2fb673c) 的 WebSocket 已连接并关联。
2025-07-11 17:19:30.945 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 372b230a-d0a1-4e12-8a15-b4dbf2fb673c, 用户: admin, 对话idNone
2025-07-11 17:19:30.946 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 17:19:35.244 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='白衣河', 年份='None'
2025-07-11 17:19:35.245 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '白衣河', 年份: None
2025-07-11 17:19:35.246 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['白衣河输变电工程初设收口版']
2025-07-11 17:19:35.246 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '白衣河输变电工程初设收口版'
2025-07-11 17:19:35.250 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '白衣河输变电工程初设收口版'，包含 340 个文件。
2025-07-11 17:19:35.253 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 17:19:41.415 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 17:19:43.582 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/33cd8187728b4c1b8c96ae6ddbc9abb7/[附图Y01-02]过程层网络结构示意图.pdf
2025-07-11 17:19:43.743 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '33cd8187728b4c1b8c96ae6ddbc9abb7', URL中的文件名: '[附图Y01-02]过程层网络结构示意图_b4e03027.pdf'
2025-07-11 17:19:43.743 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '33cd8187728b4c1b8c96ae6ddbc9abb7' (文件: [附图Y01-02]过程层网络结构示意图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:19:43.743 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[附图Y01-02]过程层网络结构示意图_b4e03027.pdf' 与Token关联文件名 '[附图Y01-02]过程层网络结构示意图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:19:43.743 | DEBUG    | core.routing:download_file_via_token:237 - Token '33cd8187728b4c1b8c96ae6ddbc9abb7' 验证成功。准备下载文件: '[附图Y01-02]过程层网络结构示意图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-02]过程层网络结构示意图.pdf', URL文件名: '[附图Y01-02]过程层网络结构示意图_b4e03027.pdf')
2025-07-11 17:19:43.745 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '33cd8187728b4c1b8c96ae6ddbc9abb7', URL中的文件名: '[附图Y01-02]过程层网络结构示意图_b4e03027.pdf'
2025-07-11 17:19:43.746 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '33cd8187728b4c1b8c96ae6ddbc9abb7' (文件: [附图Y01-02]过程层网络结构示意图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:19:43.746 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[附图Y01-02]过程层网络结构示意图_b4e03027.pdf' 与Token关联文件名 '[附图Y01-02]过程层网络结构示意图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:19:43.746 | DEBUG    | core.routing:download_file_via_token:237 - Token '33cd8187728b4c1b8c96ae6ddbc9abb7' 验证成功。准备下载文件: '[附图Y01-02]过程层网络结构示意图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/远动/[附图Y01-02]过程层网络结构示意图.pdf', URL文件名: '[附图Y01-02]过程层网络结构示意图_b4e03027.pdf')
2025-07-11 17:19:52.481 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/5265b8af61aa4c5ea3615049eb7d1c5c/[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf
2025-07-11 17:19:52.640 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '5265b8af61aa4c5ea3615049eb7d1c5c', URL中的文件名: '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图_97f06f39.pdf'
2025-07-11 17:19:52.640 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '5265b8af61aa4c5ea3615049eb7d1c5c' (文件: [S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:19:52.640 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图_97f06f39.pdf' 与Token关联文件名 '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:19:52.641 | DEBUG    | core.routing:download_file_via_token:237 - Token '5265b8af61aa4c5ea3615049eb7d1c5c' 验证成功。准备下载文件: '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf', URL文件名: '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图_97f06f39.pdf')
2025-07-11 17:19:52.643 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '5265b8af61aa4c5ea3615049eb7d1c5c', URL中的文件名: '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图_97f06f39.pdf'
2025-07-11 17:19:52.643 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '5265b8af61aa4c5ea3615049eb7d1c5c' (文件: [S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:19:52.643 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图_97f06f39.pdf' 与Token关联文件名 '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:19:52.643 | DEBUG    | core.routing:download_file_via_token:237 - Token '5265b8af61aa4c5ea3615049eb7d1c5c' 验证成功。准备下载文件: '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-45]220kV丰邦变电站电气总平面布置图.pdf', URL文件名: '[S23003708C-A-45]220kV丰邦变电站电气总平面布置图_97f06f39.pdf')
2025-07-11 17:20:10.678 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/e6d51e6515f043b79f7a9b24c1ac06ea/[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf
2025-07-11 17:20:10.789 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'e6d51e6515f043b79f7a9b24c1ac06ea', URL中的文件名: '[S23003708C-A-46]孙楼变电气主接线图（改造后）_72241a22.pdf'
2025-07-11 17:20:10.789 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'e6d51e6515f043b79f7a9b24c1ac06ea' (文件: [S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:20:10.789 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003708C-A-46]孙楼变电气主接线图（改造后）_72241a22.pdf' 与Token关联文件名 '[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:20:10.789 | DEBUG    | core.routing:download_file_via_token:237 - Token 'e6d51e6515f043b79f7a9b24c1ac06ea' 验证成功。准备下载文件: '[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf', URL文件名: '[S23003708C-A-46]孙楼变电气主接线图（改造后）_72241a22.pdf')
2025-07-11 17:20:10.791 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'e6d51e6515f043b79f7a9b24c1ac06ea', URL中的文件名: '[S23003708C-A-46]孙楼变电气主接线图（改造后）_72241a22.pdf'
2025-07-11 17:20:10.792 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'e6d51e6515f043b79f7a9b24c1ac06ea' (文件: [S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:20:10.792 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003708C-A-46]孙楼变电气主接线图（改造后）_72241a22.pdf' 与Token关联文件名 '[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:20:10.792 | DEBUG    | core.routing:download_file_via_token:237 - Token 'e6d51e6515f043b79f7a9b24c1ac06ea' 验证成功。准备下载文件: '[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/架空/[S23003708C-A-46]孙楼变电气主接线图（改造后）.pdf', URL文件名: '[S23003708C-A-46]孙楼变电气主接线图（改造后）_72241a22.pdf')
2025-07-11 17:21:06.295 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/d1e34d949dc54cf681846fa3d13b63bd/[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf
2025-07-11 17:21:06.420 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'd1e34d949dc54cf681846fa3d13b63bd', URL中的文件名: '[S23003709C-A-02]孙楼变电缆线路路径示意图_92ff8361.pdf'
2025-07-11 17:21:06.420 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd1e34d949dc54cf681846fa3d13b63bd' (文件: [S23003709C-A-02]孙楼变电缆线路路径示意图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:21:06.420 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003709C-A-02]孙楼变电缆线路路径示意图_92ff8361.pdf' 与Token关联文件名 '[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:21:06.420 | DEBUG    | core.routing:download_file_via_token:237 - Token 'd1e34d949dc54cf681846fa3d13b63bd' 验证成功。准备下载文件: '[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf', URL文件名: '[S23003709C-A-02]孙楼变电缆线路路径示意图_92ff8361.pdf')
2025-07-11 17:21:06.423 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'd1e34d949dc54cf681846fa3d13b63bd', URL中的文件名: '[S23003709C-A-02]孙楼变电缆线路路径示意图_92ff8361.pdf'
2025-07-11 17:21:06.423 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd1e34d949dc54cf681846fa3d13b63bd' (文件: [S23003709C-A-02]孙楼变电缆线路路径示意图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:21:06.423 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[S23003709C-A-02]孙楼变电缆线路路径示意图_92ff8361.pdf' 与Token关联文件名 '[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:21:06.423 | DEBUG    | core.routing:download_file_via_token:237 - Token 'd1e34d949dc54cf681846fa3d13b63bd' 验证成功。准备下载文件: '[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/线路/丰邦-孙楼/电缆/[S23003709C-A-02]孙楼变电缆线路路径示意图.pdf', URL文件名: '[S23003709C-A-02]孙楼变电缆线路路径示意图_92ff8361.pdf')
2025-07-11 17:23:16.882 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/2d7a54a4250e46bea0a9167479f0c88b/[附图04]220kV常店变电站电气总平面布置图.pdf
2025-07-11 17:23:17.011 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '2d7a54a4250e46bea0a9167479f0c88b', URL中的文件名: '[附图04]220kV常店变电站电气总平面布置图_445ce66f.pdf'
2025-07-11 17:23:17.011 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '2d7a54a4250e46bea0a9167479f0c88b' (文件: [附图04]220kV常店变电站电气总平面布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:23:17.011 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[附图04]220kV常店变电站电气总平面布置图_445ce66f.pdf' 与Token关联文件名 '[附图04]220kV常店变电站电气总平面布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:23:17.011 | DEBUG    | core.routing:download_file_via_token:237 - Token '2d7a54a4250e46bea0a9167479f0c88b' 验证成功。准备下载文件: '[附图04]220kV常店变电站电气总平面布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图04]220kV常店变电站电气总平面布置图.pdf', URL文件名: '[附图04]220kV常店变电站电气总平面布置图_445ce66f.pdf')
2025-07-11 17:23:17.014 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '2d7a54a4250e46bea0a9167479f0c88b', URL中的文件名: '[附图04]220kV常店变电站电气总平面布置图_445ce66f.pdf'
2025-07-11 17:23:17.014 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '2d7a54a4250e46bea0a9167479f0c88b' (文件: [附图04]220kV常店变电站电气总平面布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:23:17.014 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[附图04]220kV常店变电站电气总平面布置图_445ce66f.pdf' 与Token关联文件名 '[附图04]220kV常店变电站电气总平面布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:23:17.014 | DEBUG    | core.routing:download_file_via_token:237 - Token '2d7a54a4250e46bea0a9167479f0c88b' 验证成功。准备下载文件: '[附图04]220kV常店变电站电气总平面布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/常店220千伏变电站110千伏间隔扩建工程/附图/PDF上传系统/[附图04]220kV常店变电站电气总平面布置图.pdf', URL文件名: '[附图04]220kV常店变电站电气总平面布置图_445ce66f.pdf')
2025-07-11 17:24:19.168 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/df31264f8e204275b841dbc58bd9367e/[附图D01-13]站区接地平面布置图.pdf
2025-07-11 17:24:19.299 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'df31264f8e204275b841dbc58bd9367e', URL中的文件名: '[附图D01-13]站区接地平面布置图_be35106a.pdf'
2025-07-11 17:24:19.299 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'df31264f8e204275b841dbc58bd9367e' (文件: [附图D01-13]站区接地平面布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:24:19.299 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[附图D01-13]站区接地平面布置图_be35106a.pdf' 与Token关联文件名 '[附图D01-13]站区接地平面布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:24:19.300 | DEBUG    | core.routing:download_file_via_token:237 - Token 'df31264f8e204275b841dbc58bd9367e' 验证成功。准备下载文件: '[附图D01-13]站区接地平面布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-13]站区接地平面布置图.pdf', URL文件名: '[附图D01-13]站区接地平面布置图_be35106a.pdf')
2025-07-11 17:24:19.301 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'df31264f8e204275b841dbc58bd9367e', URL中的文件名: '[附图D01-13]站区接地平面布置图_be35106a.pdf'
2025-07-11 17:24:19.302 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'df31264f8e204275b841dbc58bd9367e' (文件: [附图D01-13]站区接地平面布置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:24:19.302 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '[附图D01-13]站区接地平面布置图_be35106a.pdf' 与Token关联文件名 '[附图D01-13]站区接地平面布置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:24:19.302 | DEBUG    | core.routing:download_file_via_token:237 - Token 'df31264f8e204275b841dbc58bd9367e' 验证成功。准备下载文件: '[附图D01-13]站区接地平面布置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/04 附图/一次/[附图D01-13]站区接地平面布置图.pdf', URL文件名: '[附图D01-13]站区接地平面布置图_be35106a.pdf')
2025-07-11 17:24:42.778 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/95ef7bc1820c453096c498b06ed5822d/电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf
2025-07-11 17:24:42.892 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '95ef7bc1820c453096c498b06ed5822d', URL中的文件名: '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司_0832e834.pdf'
2025-07-11 17:24:42.892 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '95ef7bc1820c453096c498b06ed5822d' (文件: 电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:24:42.892 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司_0832e834.pdf' 与Token关联文件名 '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:24:42.892 | DEBUG    | core.routing:download_file_via_token:237 - Token '95ef7bc1820c453096c498b06ed5822d' 验证成功。准备下载文件: '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书/电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf', URL文件名: '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司_0832e834.pdf')
2025-07-11 17:24:42.895 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '95ef7bc1820c453096c498b06ed5822d', URL中的文件名: '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司_0832e834.pdf'
2025-07-11 17:24:42.895 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '95ef7bc1820c453096c498b06ed5822d' (文件: 电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 17:24:42.895 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司_0832e834.pdf' 与Token关联文件名 '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 17:24:42.895 | DEBUG    | core.routing:download_file_via_token:237 - Token '95ef7bc1820c453096c498b06ed5822d' 验证成功。准备下载文件: '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/白衣河输变电工程初设收口版/收口/江苏徐州白衣河110千伏输变电工程/白衣河110千伏变电站新建工程/05 中标通知书/电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司.pdf', URL文件名: '电网工程勘察设计-可研和勘察设计一体化_包141_徐州华电电力勘察设计有限公司_0832e834.pdf')
2025-07-11 17:26:15.509 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 372b230a-d0a1-4e12-8a15-b4dbf2fb673c) 已从状态管理器登出。
2025-07-11 17:26:15.509 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 17:26:15.510 | INFO     | core.routing:logout:121 - HTTP会话已清除 (用户: admin)。
2025-07-11 17:26:15.510 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 372b230a-d0a1-4e12-8a15-b4dbf2fb673c 用户 admin 断开连接
2025-07-11 17:26:15.510 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 17:27:44.493 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1221430 - 服务器关闭中...
2025-07-11 17:27:44.493 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-11 17:27:44.493 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-11 20:54:13.146 | INFO     | __main__:<module>:44 - Session Secret Key: ********5a97
2025-07-11 20:54:13.147 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:41a5:6faf:20dd:949a]:8888
2025-07-11 20:54:13.147 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-11 20:54:13.147 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-11 20:54:13.150 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-11 20:54:13.164 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1502303 - 服务器启动中...
2025-07-11 20:54:13.198 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-11 20:54:13.198 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-11 20:54:13.204 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-11 20:54:13.204 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-11 20:54:13.204 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-11 20:54:13.205 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-11 20:54:13.205 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-11 20:54:13.205 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-11 20:54:13)
2025-07-11 20:54:13.213 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-11 20:54:17.674 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-11 20:54:17, 总耗时: 4.47 秒)
2025-07-11 20:54:17.684 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-11 20:54:17.684 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-11 20:54:17.684 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-11 20:54:17.684 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-11 20:54:17.686 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-11 20:54:17.686 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-11 20:54:17.686 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-11 20:54:17.686 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-11 20:54:17.686 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-11 20:54:17.705 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-11 20:54:17.706 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-11 20:54:17.706 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-11 20:54:17.708 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-11 20:54:17.708 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-11 20:54:17.708 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-11 20:54:17.709 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-11 20:54:17.709 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-11 20:54:24.492 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 7dee0d64-9203-4f98-b9c7-f921325d7715, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-11 20:54:24.492 | INFO     | core.routing:login:110 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 7dee0d64-9203-4f98-b9c7-f921325d7715) 登录成功。
2025-07-11 20:54:24.683 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 7dee0d64-9203-4f98-b9c7-f921325d7715) 的 WebSocket 已连接并关联。
2025-07-11 20:54:44.431 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 7dee0d64-9203-4f98-b9c7-f921325d7715) 的 WebSocket 已连接并关联。
2025-07-11 20:54:50.342 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 7dee0d64-9203-4f98-b9c7-f921325d7715 用户 admin 断开连接
2025-07-11 20:54:50.342 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 20:54:50.342 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-11 21:07:54.354 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 7dee0d64-9203-4f98-b9c7-f921325d7715, 用户: admin, 对话idNone
2025-07-11 21:07:54.354 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:08:13.040 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:08:13.040 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:08:13.041 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:08:13.041 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:08:13.043 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:08:13.043 | WARNING  | core.session:update_opened_dir:294 - 用户 'admin' 的WebSocket未连接，无法发送目录更新通知。
2025-07-11 21:08:54.447 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:08:54.448 | INFO     | sse_proxy.sse2websocket:run:199 - 用户 admin 会话 7dee0d64-9203-4f98-b9c7-f921325d7715 请求停止流任务
2025-07-11 21:08:54.448 | INFO     | sse_proxy.sse2websocket:run:201 - 请求停止流任务已发送
2025-07-11 21:08:54.448 | INFO     | sse_proxy.sse2websocket:_stream_from_upstream:105 - SSE任务被取消：7dee0d64-9203-4f98-b9c7-f921325d7715
2025-07-11 21:08:54.448 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:08:55.453 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 7dee0d64-9203-4f98-b9c7-f921325d7715) 已从状态管理器登出。
2025-07-11 21:08:55.453 | INFO     | core.routing:logout:121 - HTTP会话已清除 (用户: admin)。
2025-07-11 21:08:55.484 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 7dee0d64-9203-4f98-b9c7-f921325d7715 用户 admin 断开连接
2025-07-11 21:08:55.484 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:09:10.646 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 9f4b652b-137a-42cd-850c-cbf48b5b7d85, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-11 21:09:10.646 | INFO     | core.routing:login:110 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 9f4b652b-137a-42cd-850c-cbf48b5b7d85) 登录成功。
2025-07-11 21:09:10.820 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 9f4b652b-137a-42cd-850c-cbf48b5b7d85) 的 WebSocket 已连接并关联。
2025-07-11 21:09:41.130 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85, 用户: admin, 对话idNone
2025-07-11 21:09:41.130 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:09:49.432 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:09:49.432 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:09:49.433 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:09:49.433 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:09:49.434 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:09:49.435 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 21:09:55.814 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/2cc2229064fd4962ba51645de73befb2/Top Gun • Danger Zone • Kenny Loggins.mkv
2025-07-11 21:09:58.036 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:10:01.189 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/004466c47a6e43f0b3526f4c21abb973/382-S230168C-A-13 电缆夹具 Model (1).pdf
2025-07-11 21:10:01.393 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '004466c47a6e43f0b3526f4c21abb973', URL中的文件名: '382-S230168C-A-13 电缆夹具 Model (1)_4df35af2.pdf'
2025-07-11 21:10:01.394 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '004466c47a6e43f0b3526f4c21abb973' (文件: 382-S230168C-A-13 电缆夹具 Model (1).pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 21:10:01.394 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '382-S230168C-A-13 电缆夹具 Model (1)_4df35af2.pdf' 与Token关联文件名 '382-S230168C-A-13 电缆夹具 Model (1).pdf' 不匹配。将使用Token关联文件名。
2025-07-11 21:10:01.394 | DEBUG    | core.routing:download_file_via_token:237 - Token '004466c47a6e43f0b3526f4c21abb973' 验证成功。准备下载文件: '382-S230168C-A-13 电缆夹具 Model (1).pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf', URL文件名: '382-S230168C-A-13 电缆夹具 Model (1)_4df35af2.pdf')
2025-07-11 21:10:01.395 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '004466c47a6e43f0b3526f4c21abb973', URL中的文件名: '382-S230168C-A-13 电缆夹具 Model (1)_4df35af2.pdf'
2025-07-11 21:10:01.396 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '004466c47a6e43f0b3526f4c21abb973' (文件: 382-S230168C-A-13 电缆夹具 Model (1).pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 21:10:01.396 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '382-S230168C-A-13 电缆夹具 Model (1)_4df35af2.pdf' 与Token关联文件名 '382-S230168C-A-13 电缆夹具 Model (1).pdf' 不匹配。将使用Token关联文件名。
2025-07-11 21:10:01.396 | DEBUG    | core.routing:download_file_via_token:237 - Token '004466c47a6e43f0b3526f4c21abb973' 验证成功。准备下载文件: '382-S230168C-A-13 电缆夹具 Model (1).pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf', URL文件名: '382-S230168C-A-13 电缆夹具 Model (1)_4df35af2.pdf')
2025-07-11 21:10:23.701 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/d36218c46a78405ba3be908c955bde9a/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx
2025-07-11 21:10:23.706 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'd36218c46a78405ba3be908c955bde9a', URL中的文件名: '江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报_f013702d.pptx'
2025-07-11 21:10:23.706 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd36218c46a78405ba3be908c955bde9a' (文件: 江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 21:10:23.707 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报_f013702d.pptx' 与Token关联文件名 '江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx' 不匹配。将使用Token关联文件名。
2025-07-11 21:10:23.707 | DEBUG    | core.routing:download_file_via_token:237 - Token 'd36218c46a78405ba3be908c955bde9a' 验证成功。准备下载文件: '江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx', URL文件名: '江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报_f013702d.pptx')
2025-07-11 21:11:12.175 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/67e7c7134db24b6489909c10e2a0f768/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-11 21:11:12.182 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '67e7c7134db24b6489909c10e2a0f768', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_e60f3c9f.xlsx'
2025-07-11 21:11:12.182 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '67e7c7134db24b6489909c10e2a0f768' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_directory 中验证成功。
2025-07-11 21:11:12.182 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_e60f3c9f.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:11:12.182 | DEBUG    | core.routing:download_file_via_token:237 - Token '67e7c7134db24b6489909c10e2a0f768' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_e60f3c9f.xlsx')
2025-07-11 21:12:00.457 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85, 用户: admin, 对话id00e914e5-13a4-457d-be08-b50f47684b82
2025-07-11 21:12:00.457 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:12:08.219 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:12:28.625 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:12:28.625 | INFO     | sse_proxy.sse2websocket:run:199 - 用户 admin 会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85 请求停止流任务
2025-07-11 21:12:28.625 | INFO     | sse_proxy.sse2websocket:run:201 - 请求停止流任务已发送
2025-07-11 21:12:30.527 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85, 用户: admin, 对话id00e914e5-13a4-457d-be08-b50f47684b82
2025-07-11 21:12:30.527 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:12:37.193 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:13:20.450 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85, 用户: admin, 对话id00e914e5-13a4-457d-be08-b50f47684b82
2025-07-11 21:13:20.450 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:13:26.138 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', Category: '概算书文档'
2025-07-11 21:13:26.184 | WARNING  | my_mcp_tools.mcp_tools:read_project_file:595 - Sheet 'Sheet1' 在文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx 中未找到。可用Sheets: 封面
签字审批
编制说明
目录
变电站工程总概算表
变电站建筑工程专业汇总概算表
变电站安装工程汇总概算表
建筑部分汇总表（取费）
安装部分汇总表（取费）
变电站建筑工程概算表
变电站安装工程概算表
变电站安装工程概算表（拆除表三）
变电站建筑工程概算表（余物清理表三）
建筑工程取费表
安装工程取费表
变电站工程其他费用概算表
施工图预算管理工程数据收集表
变电站工程建设场地征用及清理费用概算表
建筑主材汇总表
安装主材汇总表
建筑设备汇总表
安装设备汇总表
建设期贷款利息明细表
建筑基准期价差明细表
安装基准期价差明细表
设计费明细表
2025-07-11 21:13:47.848 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:14:12.031 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85, 用户: admin, 对话id00e914e5-13a4-457d-be08-b50f47684b82
2025-07-11 21:14:12.031 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:14:49.576 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', Category: '概算书文档'
2025-07-11 21:14:49.680 | INFO     | my_mcp_tools.mcp_tools:read_project_file:607 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx成功读取 sheet:变电站安装工程概算表（预览100字）:表N.5 变电站安装工程概算表												
表三甲												金额单位:元
序号	编制依据	项目名称及规格	单位	数量	单价				合价			
					设备费	装置性材料费	
2025-07-11 21:14:49.681 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx 生成LLM工具下载token 7825f85c02e447c8b3ad553bc08737cb
2025-07-11 21:14:49.681 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: 7825f85c02e447c8b3ad553bc08737cb), 有效期至: Sat Jul 12 05:14:49 2025
2025-07-11 21:15:07.803 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:07.803 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:07.803 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:07.803 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:07.930 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:07.930 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:07.930 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:07.930 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:07.952 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:07.952 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:07.952 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:07.953 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:07.998 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:07.998 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:07.998 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:07.998 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:08.022 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:08.022 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:08.022 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:08.022 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:08.122 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:08.122 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:08.122 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:08.122 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:08.142 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:08.142 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:08.142 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:08.143 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:08.192 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:15:08.213 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:08.213 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:08.213 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:08.213 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:08.238 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '7825f85c02e447c8b3ad553bc08737cb', URL中的文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx'
2025-07-11 21:15:08.238 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7825f85c02e447c8b3ad553bc08737cb' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:15:08.238 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '航门110午伤站2号3号主变扩建工程-概算书.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:15:08.238 | DEBUG    | core.routing:download_file_via_token:237 - Token '7825f85c02e447c8b3ad553bc08737cb' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '航门110午伤站2号3号主变扩建工程-概算书.xlsx')
2025-07-11 21:15:33.732 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85, 用户: admin, 对话id00e914e5-13a4-457d-be08-b50f47684b82
2025-07-11 21:15:33.732 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:15:49.570 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:16:27.429 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 9f4b652b-137a-42cd-850c-cbf48b5b7d85) 已从状态管理器登出。
2025-07-11 21:16:27.429 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 21:16:27.464 | INFO     | core.routing:logout:121 - HTTP会话已清除 (用户: admin)。
2025-07-11 21:16:27.464 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 9f4b652b-137a-42cd-850c-cbf48b5b7d85 用户 admin 断开连接
2025-07-11 21:16:27.465 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:20:57.895 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 015758b1-2449-4e32-9758-8bc7d96b4c61, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-11 21:20:57.895 | INFO     | core.routing:login:110 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 015758b1-2449-4e32-9758-8bc7d96b4c61) 登录成功。
2025-07-11 21:20:58.116 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 015758b1-2449-4e32-9758-8bc7d96b4c61) 的 WebSocket 已连接并关联。
2025-07-11 21:21:07.928 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:21:07.929 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:21:21.770 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:22:31.405 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:22:31.405 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:22:39.214 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:22:39.214 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:22:39.215 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:22:39.215 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:22:39.217 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:22:39.218 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 21:22:50.959 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf', Category: '普通文档'
2025-07-11 21:22:50.959 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf)，分隔符: '	'
2025-07-11 21:22:55.032 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: 382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf, 内容长度: 52594
2025-07-11 21:22:55.032 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf成功读取（预览100字）:工程检索号：382-S230168C
编 号：382-S230168C-A-01
胥 口 ~石 湖 T 接 船 闸 变 电 站 110 千 伏
线 路 工 程（ 电 缆 ）
初 步 设 计 说 明 书
2025-07-11 21:22:55.033 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf 生成LLM工具下载token 5e95c3ef1a374c1d801837adcd839715
2025-07-11 21:22:55.033 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' (token: 5e95c3ef1a374c1d801837adcd839715), 有效期至: Sat Jul 12 05:22:55 2025
2025-07-11 21:22:55.184 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/5e95c3ef1a374c1d801837adcd839715/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf
2025-07-11 21:22:55.855 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '5e95c3ef1a374c1d801837adcd839715', URL中的文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_d1546f26.pdf'
2025-07-11 21:22:55.855 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '5e95c3ef1a374c1d801837adcd839715' (文件: 382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:22:55.855 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_d1546f26.pdf' 与Token关联文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 21:22:55.855 | DEBUG    | core.routing:download_file_via_token:237 - Token '5e95c3ef1a374c1d801837adcd839715' 验证成功。准备下载文件: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf', URL文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_d1546f26.pdf')
2025-07-11 21:22:55.858 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '5e95c3ef1a374c1d801837adcd839715', URL中的文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_d1546f26.pdf'
2025-07-11 21:22:55.858 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '5e95c3ef1a374c1d801837adcd839715' (文件: 382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:22:55.858 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_d1546f26.pdf' 与Token关联文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 21:22:55.858 | DEBUG    | core.routing:download_file_via_token:237 - Token '5e95c3ef1a374c1d801837adcd839715' 验证成功。准备下载文件: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf', URL文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_d1546f26.pdf')
2025-07-11 21:23:21.316 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:23:21.316 | INFO     | sse_proxy.sse2websocket:run:199 - 用户 admin 会话 015758b1-2449-4e32-9758-8bc7d96b4c61 请求停止流任务
2025-07-11 21:23:21.316 | INFO     | sse_proxy.sse2websocket:run:201 - 请求停止流任务已发送
2025-07-11 21:23:21.317 | INFO     | sse_proxy.sse2websocket:_stream_from_upstream:105 - SSE任务被取消：015758b1-2449-4e32-9758-8bc7d96b4c61
2025-07-11 21:23:21.317 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:23:22.266 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idad1cd99b-14e4-4a5c-bcad-1b2c328da895
2025-07-11 21:23:22.266 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:23:43.927 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:296 - 工具调用: compare_project_file. 用户:admin, 文件1: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件2: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx', 文件类型: '概算表', Sheet名: 'None', All Sheets: False
2025-07-11 21:23:43.928 | ERROR    | my_mcp_tools.mcp_tools:diff_project_file:307 - 错误: 文件未找到: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx:True, 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx:False
2025-07-11 21:24:01.710 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:24:42.682 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:24:42.683 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:24:53.141 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:25:43.833 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 015758b1-2449-4e32-9758-8bc7d96b4c61 用户 admin 断开连接
2025-07-11 21:25:43.833 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:25:43.833 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-11 21:25:43.942 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 015758b1-2449-4e32-9758-8bc7d96b4c61) 的 WebSocket 已连接并关联。
2025-07-11 21:25:45.665 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:25:45.666 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:25:57.281 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:25:57.281 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:25:57.284 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:25:57.284 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:25:57.286 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:25:57.287 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 21:26:11.989 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:26:11.989 | INFO     | sse_proxy.sse2websocket:run:199 - 用户 admin 会话 015758b1-2449-4e32-9758-8bc7d96b4c61 请求停止流任务
2025-07-11 21:26:11.989 | INFO     | sse_proxy.sse2websocket:run:201 - 请求停止流任务已发送
2025-07-11 21:26:11.990 | INFO     | sse_proxy.sse2websocket:_stream_from_upstream:105 - SSE任务被取消：015758b1-2449-4e32-9758-8bc7d96b4c61
2025-07-11 21:26:11.990 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:26:20.290 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话iddc8ee1f1-40cc-4fd3-b62e-c3c2e16e188c
2025-07-11 21:26:20.291 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:26:35.130 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:296 - 工具调用: compare_project_file. 用户:admin, 文件1: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件2: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件类型: '概算表', Sheet名: 'None', All Sheets: False
2025-07-11 21:26:35.130 | WARNING  | my_mcp_tools.mcp_tools:diff_project_file:416 - 错误: 文件类型 '概算表' (Excel) 且 all_sheet=False 时，需要提供 sheet_name 进行比较，请检查调用参数。
2025-07-11 21:26:48.631 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:296 - 工具调用: compare_project_file. 用户:admin, 文件1: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件2: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件类型: '概算表', Sheet名: 'None', All Sheets: True
2025-07-11 21:26:48.631 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:351 - 对文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 和 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (类型: 概算表) 进行所有Sheet的比较。
2025-07-11 21:26:51.716 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: 551031e729384a4da75fe72b305caa48), 有效期至: Sat Jul 12 05:26:51 2025
2025-07-11 21:26:51.716 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: 64cc92cc0c9240d2b70aff6e5b9d531c), 有效期至: Sat Jul 12 05:26:51 2025
2025-07-11 21:26:51.792 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/551031e729384a4da75fe72b305caa48/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-11 21:26:51.796 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/64cc92cc0c9240d2b70aff6e5b9d531c/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-11 21:26:51.799 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '551031e729384a4da75fe72b305caa48', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_af5ced38.xlsx'
2025-07-11 21:26:51.799 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '551031e729384a4da75fe72b305caa48' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:26:51.800 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_af5ced38.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:26:51.800 | DEBUG    | core.routing:download_file_via_token:237 - Token '551031e729384a4da75fe72b305caa48' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_af5ced38.xlsx')
2025-07-11 21:26:51.801 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '64cc92cc0c9240d2b70aff6e5b9d531c', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_d30296b4.xlsx'
2025-07-11 21:26:51.801 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '64cc92cc0c9240d2b70aff6e5b9d531c' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:26:51.801 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_d30296b4.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-11 21:26:51.801 | DEBUG    | core.routing:download_file_via_token:237 - Token '64cc92cc0c9240d2b70aff6e5b9d531c' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_d30296b4.xlsx')
2025-07-11 21:27:38.401 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:30:24.944 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话iddc8ee1f1-40cc-4fd3-b62e-c3c2e16e188c
2025-07-11 21:30:24.944 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:30:42.110 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '电流互感器配置规范', 类别: '电气', 读取文件: True, Top N: 3
2025-07-11 21:30:42.110 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '电气' 的规程规范...
2025-07-11 21:30:42.111 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '电气' 查询到 2 条规程记录。
2025-07-11 21:30:42.111 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 21:30:42.386 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('DLT-866-2015 电流互感器和电压互感器选择及计算规程_md', 0.742905435324122), ('33-GB-50217-2018-电力工程电缆设计标准_md', 0.5076512271292597)]
2025-07-11 21:30:42.387 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:893 - 找到最匹配的文件: '电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md' (相似度: 0.7429)，准备读取内容。
2025-07-11 21:30:42.387 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:72 - MCP Tool: 尝试读取规程文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md
2025-07-11 21:30:42.409 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:76 - MCP Tool: 读取完成，文件: DLT-866-2015 电流互感器和电压互感器选择及计算规程.md, 内容长度: 262961
2025-07-11 21:30:42.410 | WARNING  | my_mcp_tools.mcp_tools:open_specification_files:903 - 规范：电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md 过大(262961)，超过可能模型上下文窗口64000。
2025-07-11 21:30:42.410 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md' (token: 6904e3967d284091b1b6a5a20c6368ca), 有效期至: Sat Jul 12 05:30:42 2025
2025-07-11 21:30:57.370 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:32:53.621 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话iddc8ee1f1-40cc-4fd3-b62e-c3c2e16e188c
2025-07-11 21:32:53.621 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:33:07.058 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '直流系统设计规范', 类别: '电气', 读取文件: True, Top N: 3
2025-07-11 21:33:07.058 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '电气' 的规程规范...
2025-07-11 21:33:07.058 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '电气' 查询到 2 条规程记录。
2025-07-11 21:33:07.059 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 21:33:07.137 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('33-GB-50217-2018-电力工程电缆设计标准_md', 0.5688031237527595), ('DLT-866-2015 电流互感器和电压互感器选择及计算规程_md', 0.5462889051423605)]
2025-07-11 21:33:07.137 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:893 - 找到最匹配的文件: '电气/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB 50217-2018 电力工程电缆设计标准.md' (相似度: 0.5688)，准备读取内容。
2025-07-11 21:33:07.138 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:72 - MCP Tool: 尝试读取规程文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/电气/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB 50217-2018 电力工程电缆设计标准.md
2025-07-11 21:33:07.170 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:76 - MCP Tool: 读取完成，文件: 33-GB 50217-2018 电力工程电缆设计标准.md, 内容长度: 184583
2025-07-11 21:33:07.170 | WARNING  | my_mcp_tools.mcp_tools:open_specification_files:903 - 规范：电气/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB 50217-2018 电力工程电缆设计标准.md 过大(184583)，超过可能模型上下文窗口64000。
2025-07-11 21:33:07.170 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '电气/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB 50217-2018 电力工程电缆设计标准.md' (token: 15eeb11bd81241a59ab53c0aad5bfe5d), 有效期至: Sat Jul 12 05:33:07 2025
2025-07-11 21:33:22.623 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:33:23.543 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '6904e3967d284091b1b6a5a20c6368ca', URL中的文件名: 'DLT-866-2015 电流互感器和电压互感器选择及计算规程.md'
2025-07-11 21:33:23.543 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '6904e3967d284091b1b6a5a20c6368ca' (文件: DLT-866-2015 电流互感器和电压互感器选择及计算规程.md, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:33:23.543 | DEBUG    | core.routing:download_file_via_token:237 - Token '6904e3967d284091b1b6a5a20c6368ca' 验证成功。准备下载文件: 'DLT-866-2015 电流互感器和电压互感器选择及计算规程.md' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md', URL文件名: 'DLT-866-2015 电流互感器和电压互感器选择及计算规程.md')
2025-07-11 21:33:23.544 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '15eeb11bd81241a59ab53c0aad5bfe5d', URL中的文件名: '33-GB 50217-2018 电力工程电缆设计标准.md'
2025-07-11 21:33:23.544 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '15eeb11bd81241a59ab53c0aad5bfe5d' (文件: 33-GB 50217-2018 电力工程电缆设计标准.md, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:33:23.544 | DEBUG    | core.routing:download_file_via_token:237 - Token '15eeb11bd81241a59ab53c0aad5bfe5d' 验证成功。准备下载文件: '33-GB 50217-2018 电力工程电缆设计标准.md' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/电气/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB-50217-2018-电力工程电缆设计标准_md/33-GB 50217-2018 电力工程电缆设计标准.md', URL文件名: '33-GB 50217-2018 电力工程电缆设计标准.md')
2025-07-11 21:36:07.211 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话iddc8ee1f1-40cc-4fd3-b62e-c3c2e16e188c
2025-07-11 21:36:07.211 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:36:18.535 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '辅助设备监控系统规范', 类别: '电气', 读取文件: True, Top N: 3
2025-07-11 21:36:18.535 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '电气' 的规程规范...
2025-07-11 21:36:18.535 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '电气' 查询到 2 条规程记录。
2025-07-11 21:36:18.536 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 21:36:18.609 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('DLT-866-2015 电流互感器和电压互感器选择及计算规程_md', 0.45240657341298685), ('33-GB-50217-2018-电力工程电缆设计标准_md', 0.4453488313461966)]
2025-07-11 21:36:18.609 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:893 - 找到最匹配的文件: '电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md' (相似度: 0.4524)，准备读取内容。
2025-07-11 21:36:18.609 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:72 - MCP Tool: 尝试读取规程文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md
2025-07-11 21:36:18.610 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:76 - MCP Tool: 读取完成，文件: DLT-866-2015 电流互感器和电压互感器选择及计算规程.md, 内容长度: 262961
2025-07-11 21:36:18.610 | WARNING  | my_mcp_tools.mcp_tools:open_specification_files:903 - 规范：电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md 过大(262961)，超过可能模型上下文窗口64000。
2025-07-11 21:36:18.610 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '电气/DLT-866-2015 电流互感器和电压互感器选择及计算规程_md/DLT-866-2015 电流互感器和电压互感器选择及计算规程.md' (token: 2806891946994b09a316168def0d101d), 有效期至: Sat Jul 12 05:36:18 2025
2025-07-11 21:36:35.094 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:36:44.987 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话iddc8ee1f1-40cc-4fd3-b62e-c3c2e16e188c
2025-07-11 21:36:44.988 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:36:56.469 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '辅助设备监控系统规范', 类别: '二次', 读取文件: True, Top N: 3
2025-07-11 21:36:56.469 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-11 21:36:56.469 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 3 条规程记录。
2025-07-11 21:36:56.469 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-11 21:36:56.572 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('变电站辅助设备监控系统设计规范', 0.8468124496244405), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.5497660388134257), ('45_DLT-559-2018《220kV～750kV电网继电保护装置运行整定规程》_md', 0.5054534254968892)]
2025-07-11 21:36:56.572 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:893 - 找到最匹配的文件: '二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (相似度: 0.8468)，准备读取内容。
2025-07-11 21:36:56.573 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (token: 2b69d3705802418f9f2bf8113cc2197a), 有效期至: Sat Jul 12 05:36:56 2025
2025-07-11 21:36:56.631 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/2b69d3705802418f9f2bf8113cc2197a/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf
2025-07-11 21:36:56.831 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '2b69d3705802418f9f2bf8113cc2197a', URL中的文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_99171f37.pdf'
2025-07-11 21:36:56.831 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '2b69d3705802418f9f2bf8113cc2197a' (文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:36:56.831 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范_99171f37.pdf' 与Token关联文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 21:36:56.831 | DEBUG    | core.routing:download_file_via_token:237 - Token '2b69d3705802418f9f2bf8113cc2197a' 验证成功。准备下载文件: 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', URL文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_99171f37.pdf')
2025-07-11 21:36:56.833 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: '2b69d3705802418f9f2bf8113cc2197a', URL中的文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_99171f37.pdf'
2025-07-11 21:36:56.833 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '2b69d3705802418f9f2bf8113cc2197a' (文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:36:56.833 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范_99171f37.pdf' 与Token关联文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-11 21:36:56.834 | DEBUG    | core.routing:download_file_via_token:237 - Token '2b69d3705802418f9f2bf8113cc2197a' 验证成功。准备下载文件: 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', URL文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_99171f37.pdf')
2025-07-11 21:37:11.184 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:51:28.704 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:51:28.704 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:51:36.133 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:51:36.134 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:51:36.144 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:51:36.144 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:51:36.146 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:51:36.147 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 21:51:41.149 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:52:35.466 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话id401da07b-6ace-4eb4-9e34-e0a08dc503cd
2025-07-11 21:52:35.466 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:52:35.920 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:53:07.822 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话id401da07b-6ace-4eb4-9e34-e0a08dc503cd
2025-07-11 21:53:07.823 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:53:08.274 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:54:14.836 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 015758b1-2449-4e32-9758-8bc7d96b4c61 用户 admin 断开连接
2025-07-11 21:54:14.836 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:54:14.836 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-11 21:54:14.948 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 015758b1-2449-4e32-9758-8bc7d96b4c61) 的 WebSocket 已连接并关联。
2025-07-11 21:54:17.338 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:54:17.338 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:54:21.806 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:54:21.807 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:54:21.808 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:54:21.808 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:54:21.809 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:54:21.810 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 21:54:29.629 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:55:49.710 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-11 21:55:49.710 | INFO     | sse_proxy.sse2websocket:run:199 - 用户 admin 会话 015758b1-2449-4e32-9758-8bc7d96b4c61 请求停止流任务
2025-07-11 21:55:49.710 | INFO     | sse_proxy.sse2websocket:run:201 - 请求停止流任务已发送
2025-07-11 21:55:51.143 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话idNone
2025-07-11 21:55:51.144 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:55:56.065 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-11 21:55:56.065 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-11 21:55:56.066 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-11 21:55:56.066 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-11 21:55:56.068 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-11 21:55:56.068 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-11 21:56:00.107 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:56:07.902 | DEBUG    | sse_proxy.sse2websocket:run:223 - 启动转发：会话 015758b1-2449-4e32-9758-8bc7d96b4c61, 用户: admin, 对话ida237fda6-0f5b-470f-863d-371e800322b3
2025-07-11 21:56:07.903 | DEBUG    | sse_proxy.sse2websocket:_start:44 - SSEWebSocketProxy._start 开始
2025-07-11 21:56:14.310 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', Category: '普通文档'
2025-07-11 21:56:14.311 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx)，分隔符: '	'
2025-07-11 21:56:14.409 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 内容长度: 11278
2025-07-11 21:56:14.409 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx成功读取（预览100字）:评审会议纪要
项目名称	江苏苏州船闸110千伏变电站2号3号主变扩建工程		江苏苏州船闸110千伏变电站2号3号主变扩建工程		江苏苏州船闸110千伏变电站2号3号主变扩建工程		江苏苏州船闸110千
2025-07-11 21:56:14.409 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx 生成LLM工具下载token d738039a5251497cab71ccef893503fc
2025-07-11 21:56:14.409 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (token: d738039a5251497cab71ccef893503fc), 有效期至: Sat Jul 12 05:56:14 2025
2025-07-11 21:56:14.457 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:443 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/d738039a5251497cab71ccef893503fc/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-11 21:56:14.478 | DEBUG    | core.routing:download_file_via_token:214 - 接收到下载请求，Token: 'd738039a5251497cab71ccef893503fc', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_acbc7741.docx'
2025-07-11 21:56:14.480 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'd738039a5251497cab71ccef893503fc' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_files 中验证成功。
2025-07-11 21:56:14.481 | WARNING  | core.routing:download_file_via_token:231 - 下载请求中URL文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_acbc7741.docx' 与Token关联文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 不匹配。将使用Token关联文件名。
2025-07-11 21:56:14.481 | DEBUG    | core.routing:download_file_via_token:237 - Token 'd738039a5251497cab71ccef893503fc' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_acbc7741.docx')
2025-07-11 21:56:20.857 | DEBUG    | sse_proxy.sse2websocket:_start:64 - SSEWebSocketProxy._start: 结束
2025-07-11 21:56:44.824 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 015758b1-2449-4e32-9758-8bc7d96b4c61) 已从状态管理器登出。
2025-07-11 21:56:44.824 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-11 21:56:44.855 | INFO     | core.routing:logout:121 - HTTP会话已清除 (用户: admin)。
2025-07-11 21:56:44.856 | INFO     | sse_proxy.sse2websocket:run:228 - WebSocket 会话 015758b1-2449-4e32-9758-8bc7d96b4c61 用户 admin 断开连接
2025-07-11 21:56:44.856 | DEBUG    | sse_proxy.sse2websocket:_stop:68 - SSEWebSocketProxy._stop stop_event.set()
2025-07-12 15:59:45.525 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-12 15:59:45.525 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 15:59:45.526 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 15:59:45.526 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-12 15:59:45.526 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-12 15:59:45.526 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-12 15:59:45.526 | INFO     | __main__:<module>:44 - Session Secret Key: ********af62
2025-07-12 15:59:45.526 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:41a5:6faf:20dd:949a]:8888
2025-07-12 15:59:45.527 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-12 15:59:45.527 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-12 15:59:45.529 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-12 15:59:45.543 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2516937 - 服务器启动中...
2025-07-12 15:59:45.581 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-12 15:59:45.581 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-12 15:59:45.588 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-12 15:59:45.588 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-12 15:59:45.588 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-12 15:59:45.588 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 15:59:45.589 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-12 15:59:45.589 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-12 15:59:45)
2025-07-12 15:59:46.017 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-12 15:59:56.281 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-12 15:59:56, 总耗时: 10.69 秒)
2025-07-12 15:59:56.293 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 15:59:56.294 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-12 15:59:56.294 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-12 15:59:56.294 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-12 15:59:56.348 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-12 15:59:56.348 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-12 15:59:56.349 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-12 15:59:56.349 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-12 15:59:56.349 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-12 15:59:56.416 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.12 秒。
2025-07-12 15:59:56.418 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-12 15:59:56.418 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-12 15:59:56.420 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-12 15:59:56.420 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-12 15:59:56.421 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-12 15:59:56.421 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-12 15:59:56.421 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-12 16:00:25.941 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: b2e68f96-9233-4fd6-8c3e-e62ea56e83c0, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-12 16:00:25.941 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: b2e68f96-9233-4fd6-8c3e-e62ea56e83c0) 登录成功。
2025-07-12 16:00:28.225 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: b2e68f96-9233-4fd6-8c3e-e62ea56e83c0) 的 WebSocket 已连接并关联。
2025-07-12 16:00:35.959 | DEBUG    | sse_proxy.sse2websocket1:run:148 - 启动OpenAI转发：会话 b2e68f96-9233-4fd6-8c3e-e62ea56e83c0, 用户: admin
2025-07-12 16:00:35.959 | DEBUG    | sse_proxy.sse2websocket1:_start:37 - OpenAIWebSocketProxy._start 开始
2025-07-12 16:00:37.681 | DEBUG    | sse_proxy.sse2websocket1:_start:52 - OpenAIWebSocketProxy._start: 结束
2025-07-12 16:00:37.682 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:134 - 会话历史已保存到: "./chat_history" # 会话历史记录的根目录/admin/b2e68f96-9233-4fd6-8c3e-e62ea56e83c0.json
2025-07-12 16:01:16.511 | DEBUG    | sse_proxy.sse2websocket1:run:148 - 启动OpenAI转发：会话 b2e68f96-9233-4fd6-8c3e-e62ea56e83c0, 用户: admin
2025-07-12 16:01:16.511 | DEBUG    | sse_proxy.sse2websocket1:_start:37 - OpenAIWebSocketProxy._start 开始
2025-07-12 16:01:25.366 | DEBUG    | sse_proxy.sse2websocket1:_start:52 - OpenAIWebSocketProxy._start: 结束
2025-07-12 16:01:25.366 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:134 - 会话历史已保存到: "./chat_history" # 会话历史记录的根目录/admin/b2e68f96-9233-4fd6-8c3e-e62ea56e83c0.json
2025-07-12 16:01:39.209 | INFO     | sse_proxy.sse2websocket1:run:153 - WebSocket 会话 b2e68f96-9233-4fd6-8c3e-e62ea56e83c0 用户 admin 断开连接
2025-07-12 16:01:39.209 | DEBUG    | sse_proxy.sse2websocket1:_stop:55 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 16:01:39.209 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-12 16:01:39.310 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2516937 - 服务器关闭中...
2025-07-12 16:01:39.310 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-12 16:01:39.310 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-12 23:00:04.572 | INFO     | __main__:<module>:44 - Session Secret Key: ********f2d1
2025-07-12 23:00:04.573 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-12 23:00:04.573 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-12 23:00:04.573 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-12 23:00:04.576 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-12 23:00:04.595 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2886557 - 服务器启动中...
2025-07-12 23:00:04.629 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-12 23:00:04.629 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-12 23:00:04.635 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-12 23:00:04.635 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-12 23:00:04.635 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-12 23:00:04.635 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:00:04.636 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-12 23:00:04.636 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-12 23:00:04)
2025-07-12 23:00:04.643 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-12 23:00:09.164 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-12 23:00:09, 总耗时: 4.53 秒)
2025-07-12 23:00:09.173 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:00:09.174 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-12 23:00:09.174 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-12 23:00:09.174 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-12 23:00:09.176 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-12 23:00:09.176 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-12 23:00:09.176 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-12 23:00:09.176 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-12 23:00:09.176 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-12 23:00:09.197 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-12 23:00:09.198 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-12 23:00:09.198 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-12 23:00:09.200 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-12 23:00:09.200 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-12 23:00:09.200 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-12 23:00:09.201 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-12 23:00:09.201 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-12 23:00:31.284 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: ba5ad578-0026-4c78-8599-b95b5e5fab10, IP: 240e:3a1:7d1:2440::92) 登录/状态更新成功。
2025-07-12 23:00:31.284 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::92, Session: ba5ad578-0026-4c78-8599-b95b5e5fab10) 登录成功。
2025-07-12 23:00:33.466 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: ba5ad578-0026-4c78-8599-b95b5e5fab10) 的 WebSocket 已连接并关联。
2025-07-12 23:00:33.528 | ERROR    | sse_proxy.sse2websocket1:run:282 - WebSocket 错误 (会话 ba5ad578-0026-4c78-8599-b95b5e5fab10): Session terminated
2025-07-12 23:00:33.528 | DEBUG    | sse_proxy.sse2websocket1:_stop:76 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 23:00:33.528 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-12 23:02:57.309 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2886557 - 服务器关闭中...
2025-07-12 23:02:57.309 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-12 23:02:57.309 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-12 23:03:13.153 | INFO     | __main__:<module>:44 - Session Secret Key: ********ac3d
2025-07-12 23:03:13.154 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-12 23:03:13.154 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-12 23:03:13.154 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-12 23:03:13.157 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-12 23:03:13.171 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2889492 - 服务器启动中...
2025-07-12 23:03:13.205 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-12 23:03:13.205 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-12 23:03:13.211 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-12 23:03:13.211 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-12 23:03:13.211 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-12 23:03:13.211 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:03:13.212 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-12 23:03:13.212 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-12 23:03:13)
2025-07-12 23:03:13.219 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-12 23:03:17.744 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-12 23:03:17, 总耗时: 4.53 秒)
2025-07-12 23:03:17.753 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:03:17.753 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-12 23:03:17.754 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-12 23:03:17.754 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-12 23:03:17.755 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-12 23:03:17.755 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-12 23:03:17.756 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-12 23:03:17.756 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-12 23:03:17.756 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-12 23:03:17.774 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-12 23:03:17.775 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-12 23:03:17.775 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-12 23:03:17.778 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-12 23:03:17.778 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-12 23:03:17.778 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-12 23:03:17.779 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-12 23:03:17.779 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-12 23:03:31.941 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 75cafd9c-0bd6-49bf-8cc8-1198937df4b0, IP: 240e:3a1:7d1:2440::92) 登录/状态更新成功。
2025-07-12 23:03:31.941 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::92, Session: 75cafd9c-0bd6-49bf-8cc8-1198937df4b0) 登录成功。
2025-07-12 23:04:18.244 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 75cafd9c-0bd6-49bf-8cc8-1198937df4b0 最近有HTTP活动。
2025-07-12 23:04:18.245 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'75cafd9c-0bd6-49bf-8cc8-1198937df4b0' (IP: 240e:3a1:7d1:2440::92) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::92, 会话: 75cafd9c-0bd6-49bf-8cc8-1198937df4b0。
2025-07-12 23:04:18.245 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::92) 因排他性登录控制被拒绝。
2025-07-12 23:04:22.898 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 75cafd9c-0bd6-49bf-8cc8-1198937df4b0) 的 WebSocket 已连接并关联。
2025-07-12 23:04:22.926 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-12 23:04:22.972 | DEBUG    | sse_proxy.sse2websocket1:run:256 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-12 23:04:25.428 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 75cafd9c-0bd6-49bf-8cc8-1198937df4b0) 已从状态管理器登出。
2025-07-12 23:04:25.428 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-12 23:04:25.471 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-12 23:04:25.471 | INFO     | sse_proxy.sse2websocket1:run:280 - WebSocket 会话 75cafd9c-0bd6-49bf-8cc8-1198937df4b0 用户 admin 断开连接
2025-07-12 23:04:25.471 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 23:04:29.946 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: f652fef9-8b29-4755-aa8d-13ae38432963, IP: 240e:3a1:7d1:2440::92) 登录/状态更新成功。
2025-07-12 23:04:29.946 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::92, Session: f652fef9-8b29-4755-aa8d-13ae38432963) 登录成功。
2025-07-12 23:04:30.040 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: f652fef9-8b29-4755-aa8d-13ae38432963) 的 WebSocket 已连接并关联。
2025-07-12 23:04:30.067 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-12 23:04:30.115 | DEBUG    | sse_proxy.sse2websocket1:run:256 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-12 23:05:09.421 | DEBUG    | sse_proxy.sse2websocket1:run:275 - 启动OpenAI转发：会话 f652fef9-8b29-4755-aa8d-13ae38432963, 用户: admin
2025-07-12 23:05:09.421 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-12 23:05:11.778 | ERROR    | sse_proxy.sse2websocket1:_stream_from_upstream:170 - 与OpenAI兼容接口通信时发生错误: 'Choice' object has no attribute 'get'
2025-07-12 23:05:11.778 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-12 23:10:03.997 | INFO     | sse_proxy.sse2websocket1:run:280 - WebSocket 会话 f652fef9-8b29-4755-aa8d-13ae38432963 用户 admin 断开连接
2025-07-12 23:10:03.997 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 23:10:03.997 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-12 23:10:04.098 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2889492 - 服务器关闭中...
2025-07-12 23:10:04.098 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-12 23:10:04.098 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-12 23:10:09.708 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-12 23:10:09.708 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:10:09.708 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:10:09.708 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-12 23:10:09.708 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-12 23:10:09.709 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-12 23:10:09.709 | INFO     | __main__:<module>:44 - Session Secret Key: ********347e
2025-07-12 23:10:09.709 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-12 23:10:09.709 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-12 23:10:09.709 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-12 23:10:09.712 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-12 23:10:09.731 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2895795 - 服务器启动中...
2025-07-12 23:10:09.765 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-12 23:10:09.765 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-12 23:10:09.771 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-12 23:10:09.771 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-12 23:10:09.771 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-12 23:10:09.771 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:10:09.772 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-12 23:10:09.772 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-12 23:10:09)
2025-07-12 23:10:09.779 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-12 23:10:14.296 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-12 23:10:14, 总耗时: 4.52 秒)
2025-07-12 23:10:14.306 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:10:14.306 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-12 23:10:14.306 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-12 23:10:14.306 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-12 23:10:14.308 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-12 23:10:14.308 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-12 23:10:14.308 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-12 23:10:14.309 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-12 23:10:14.309 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-12 23:10:14.328 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-12 23:10:14.329 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-12 23:10:14.329 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-12 23:10:14.331 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-12 23:10:14.331 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-12 23:10:14.331 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-12 23:10:14.332 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-12 23:10:14.332 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-12 23:10:23.189 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: b6bbace1-446c-44ea-b479-0bbdff1a2fa3, IP: 240e:3a1:7d1:2440::92) 登录/状态更新成功。
2025-07-12 23:10:23.190 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::92, Session: b6bbace1-446c-44ea-b479-0bbdff1a2fa3) 登录成功。
2025-07-12 23:10:47.948 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: b6bbace1-446c-44ea-b479-0bbdff1a2fa3) 的 WebSocket 已连接并关联。
2025-07-12 23:10:47.975 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-12 23:10:48.031 | DEBUG    | sse_proxy.sse2websocket1:run:257 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-12 23:10:54.501 | DEBUG    | sse_proxy.sse2websocket1:run:276 - 启动OpenAI转发：会话 b6bbace1-446c-44ea-b479-0bbdff1a2fa3, 用户: admin
2025-07-12 23:10:54.502 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-12 23:10:58.395 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-12 23:11:36.399 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: b6bbace1-446c-44ea-b479-0bbdff1a2fa3) 已从状态管理器登出。
2025-07-12 23:11:36.400 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-12 23:11:36.468 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-12 23:11:36.469 | INFO     | sse_proxy.sse2websocket1:run:281 - WebSocket 会话 b6bbace1-446c-44ea-b479-0bbdff1a2fa3 用户 admin 断开连接
2025-07-12 23:11:36.469 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 23:11:40.195 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: a3d6414b-e47a-4f3e-8542-2e59e298c76b, IP: 240e:3a1:7d1:2440::92) 登录/状态更新成功。
2025-07-12 23:11:40.195 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::92, Session: a3d6414b-e47a-4f3e-8542-2e59e298c76b) 登录成功。
2025-07-12 23:11:40.509 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: a3d6414b-e47a-4f3e-8542-2e59e298c76b) 的 WebSocket 已连接并关联。
2025-07-12 23:11:40.536 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-12 23:11:40.581 | DEBUG    | sse_proxy.sse2websocket1:run:257 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-12 23:11:45.291 | DEBUG    | sse_proxy.sse2websocket1:run:276 - 启动OpenAI转发：会话 a3d6414b-e47a-4f3e-8542-2e59e298c76b, 用户: admin
2025-07-12 23:11:45.291 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-12 23:11:48.613 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-12 23:14:35.910 | INFO     | sse_proxy.sse2websocket1:run:281 - WebSocket 会话 a3d6414b-e47a-4f3e-8542-2e59e298c76b 用户 admin 断开连接
2025-07-12 23:14:35.910 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 23:14:35.911 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-12 23:14:36.011 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2895795 - 服务器关闭中...
2025-07-12 23:14:36.011 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-12 23:14:36.012 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-12 23:14:41.057 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:44 - Session Secret Key: ********4587
2025-07-12 23:14:41.058 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-12 23:14:41.059 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-12 23:14:41.059 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-12 23:14:41.061 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-12 23:14:41.075 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2899962 - 服务器启动中...
2025-07-12 23:14:41.109 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-12 23:14:41.109 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-12 23:14:41.115 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-12 23:14:41.115 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-12 23:14:41.115 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-12 23:14:41.115 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-12 23:14:41.116 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-12 23:14:41.116 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-12 23:14:41)
2025-07-12 23:14:41.123 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-12 23:14:45.606 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-12 23:14:45, 总耗时: 4.49 秒)
2025-07-12 23:14:45.615 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-12 23:14:45.615 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-12 23:14:45.616 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-12 23:14:45.616 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-12 23:14:45.617 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-12 23:14:45.617 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-12 23:14:45.618 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-12 23:14:45.618 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-12 23:14:45.618 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-12 23:14:45.637 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-12 23:14:45.638 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-12 23:14:45.638 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-12 23:14:45.640 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-12 23:14:45.640 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-12 23:14:45.640 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-12 23:14:45.641 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-12 23:14:45.641 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-12 23:15:01.526 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 889677fa-df6f-41c2-b89c-fbd6b1a8e440, IP: 240e:3a1:7d1:2440::92) 登录/状态更新成功。
2025-07-12 23:15:01.526 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::92, Session: 889677fa-df6f-41c2-b89c-fbd6b1a8e440) 登录成功。
2025-07-12 23:15:01.825 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 889677fa-df6f-41c2-b89c-fbd6b1a8e440) 的 WebSocket 已连接并关联。
2025-07-12 23:15:01.851 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-12 23:15:01.896 | DEBUG    | sse_proxy.sse2websocket1:run:259 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-12 23:15:06.607 | DEBUG    | sse_proxy.sse2websocket1:run:278 - 启动OpenAI转发：会话 889677fa-df6f-41c2-b89c-fbd6b1a8e440, 用户: admin
2025-07-12 23:15:06.607 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-12 23:15:08.555 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:08.555 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:我来
2025-07-12 23:15:08.556 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:帮您
2025-07-12 23:15:08.556 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:查找
2025-07-12 23:15:08.556 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:船
2025-07-12 23:15:08.556 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:闸
2025-07-12 23:15:08.557 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:项目的
2025-07-12 23:15:08.557 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:文件
2025-07-12 23:15:08.557 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:。
2025-07-12 23:15:08.558 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.372 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.372 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.373 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.373 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.373 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.374 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.374 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.375 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.375 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.375 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.693 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.693 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.694 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.694 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.694 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-12 23:15:09.695 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-12 23:25:34.083 | INFO     | sse_proxy.sse2websocket1:run:283 - WebSocket 会话 889677fa-df6f-41c2-b89c-fbd6b1a8e440 用户 admin 断开连接
2025-07-12 23:25:34.084 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-12 23:25:34.084 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-13 00:15:45.641 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-13 00:15:45.642 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 889677fa-df6f-41c2-b89c-fbd6b1a8e440) 因不活动被自动登出。
2025-07-13 02:30:00.002 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 02:30:00.004 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 02:30:00.004 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 02:30:00.004 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 02:30:00.004 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 02:30:00.004 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 02:30:00.023 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 08:48:07.665 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 08:48:07.665 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 08:48:07.665 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 08:48:07.665 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 08:48:07.666 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 08:48:07.666 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 08:48:07.666 | INFO     | __main__:<module>:44 - Session Secret Key: ********3ce9
2025-07-13 08:48:07.666 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-13 08:48:07.666 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 08:48:07.667 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 08:48:07.669 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 08:48:07.683 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3407866 - 服务器启动中...
2025-07-13 08:48:07.718 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 08:48:07.718 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 08:48:07.724 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 08:48:07.724 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 08:48:07.724 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 08:48:07.724 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 08:48:07.725 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 08:48:07.725 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 08:48:07)
2025-07-13 08:48:07.732 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 08:48:12.197 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 08:48:12, 总耗时: 4.47 秒)
2025-07-13 08:48:12.206 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 08:48:12.207 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 08:48:12.207 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 08:48:12.207 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 08:48:12.209 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 08:48:12.209 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 08:48:12.209 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 08:48:12.209 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 08:48:12.209 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 08:48:12.227 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 08:48:12.229 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 08:48:12.229 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 08:48:12.231 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 08:48:12.231 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 08:48:12.232 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 08:48:12.232 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 08:48:12.232 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 08:49:51.096 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 4f179f17-3c93-45ef-b467-d62564e1f720, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 08:49:51.096 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 4f179f17-3c93-45ef-b467-d62564e1f720) 登录成功。
2025-07-13 08:49:51.360 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 4f179f17-3c93-45ef-b467-d62564e1f720) 的 WebSocket 已连接并关联。
2025-07-13 08:49:51.387 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 08:49:51.433 | DEBUG    | sse_proxy.sse2websocket1:run:259 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 08:49:54.357 | DEBUG    | sse_proxy.sse2websocket1:run:278 - 启动OpenAI转发：会话 4f179f17-3c93-45ef-b467-d62564e1f720, 用户: admin
2025-07-13 08:49:54.357 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-13 08:49:56.589 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-13 08:49:56.589 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:你好
2025-07-13 08:49:56.590 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:！
2025-07-13 08:49:56.590 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:我是
2025-07-13 08:49:56.590 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:电力
2025-07-13 08:49:56.590 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:项目
2025-07-13 08:49:56.591 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:文件
2025-07-13 08:49:56.591 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:助手
2025-07-13 08:49:56.591 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:，
2025-07-13 08:49:56.591 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:可以
2025-07-13 08:49:56.592 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:帮你
2025-07-13 08:49:56.592 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:检索
2025-07-13 08:49:56.592 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:49:56.592 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:读取
2025-07-13 08:49:56.593 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:和分析
2025-07-13 08:49:56.593 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:项目
2025-07-13 08:49:56.593 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:文件
2025-07-13 08:49:56.593 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:，
2025-07-13 08:49:57.133 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:包括
2025-07-13 08:49:57.133 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:：


2025-07-13 08:49:57.134 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:-
2025-07-13 08:49:57.134 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: 
2025-07-13 08:49:57.134 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:查询
2025-07-13 08:49:57.135 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:项目
2025-07-13 08:49:57.135 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:文件
2025-07-13 08:49:57.135 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:和
2025-07-13 08:49:57.136 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:资料
2025-07-13 08:49:57.136 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:

2025-07-13 08:49:58.123 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:-
2025-07-13 08:49:58.124 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: 
2025-07-13 08:49:58.124 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:阅读
2025-07-13 08:49:58.124 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:项目
2025-07-13 08:49:58.125 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:报告
2025-07-13 08:49:58.125 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:49:58.125 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:图纸
2025-07-13 08:49:58.125 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:49:58.126 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:概
2025-07-13 08:49:58.126 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:算
2025-07-13 08:49:58.126 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:表
2025-07-13 08:49:58.127 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:等
2025-07-13 08:49:58.127 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:

2025-07-13 08:49:58.840 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:-
2025-07-13 08:49:58.841 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: 
2025-07-13 08:49:58.841 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:比较
2025-07-13 08:49:58.841 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:不同
2025-07-13 08:49:58.841 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:版本
2025-07-13 08:49:58.842 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:文件的
2025-07-13 08:49:58.842 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:差异
2025-07-13 08:49:58.842 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:

2025-07-13 08:49:58.842 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:-
2025-07-13 08:49:58.843 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: 
2025-07-13 08:49:59.762 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:检索
2025-07-13 08:49:59.762 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:电气
2025-07-13 08:49:59.762 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:49:59.763 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:二次
2025-07-13 08:49:59.763 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:49:59.763 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:通信
2025-07-13 08:49:59.763 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:49:59.764 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:线路
2025-07-13 08:49:59.764 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:等
2025-07-13 08:49:59.764 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:专业的
2025-07-13 08:49:59.765 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:规程
2025-07-13 08:49:59.765 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:规范
2025-07-13 08:49:59.765 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:


2025-07-13 08:50:00.478 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:请问
2025-07-13 08:50:00.479 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:有什么
2025-07-13 08:50:00.479 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:可以
2025-07-13 08:50:00.479 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:帮
2025-07-13 08:50:00.480 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:你的
2025-07-13 08:50:00.480 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:？
2025-07-13 08:50:00.480 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-13 08:50:00.481 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-13 08:59:13.008 | DEBUG    | sse_proxy.sse2websocket1:run:278 - 启动OpenAI转发：会话 4f179f17-3c93-45ef-b467-d62564e1f720, 用户: admin
2025-07-13 08:59:13.008 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-13 08:59:14.461 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-13 08:59:14.462 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:你好
2025-07-13 08:59:14.462 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:！
2025-07-13 08:59:14.462 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:我是
2025-07-13 08:59:14.463 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:由
2025-07-13 08:59:14.463 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:**
2025-07-13 08:59:14.463 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:月
2025-07-13 08:59:14.463 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:之
2025-07-13 08:59:14.464 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:暗
2025-07-13 08:59:14.464 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:面
2025-07-13 08:59:14.464 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:科技有限公司
2025-07-13 08:59:14.465 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:**
2025-07-13 08:59:14.465 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:（
2025-07-13 08:59:15.378 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:Moon
2025-07-13 08:59:15.383 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:shot
2025-07-13 08:59:15.383 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: AI
2025-07-13 08:59:15.384 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:）
2025-07-13 08:59:15.384 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:开发
2025-07-13 08:59:15.384 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:的大
2025-07-13 08:59:15.385 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:语言
2025-07-13 08:59:15.385 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:模型
2025-07-13 08:59:15.385 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:，
2025-07-13 08:59:15.385 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:名字叫
2025-07-13 08:59:15.386 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:K
2025-07-13 08:59:15.386 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:imi
2025-07-13 08:59:15.386 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:。
2025-07-13 08:59:16.289 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:很高兴
2025-07-13 08:59:16.296 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:为你
2025-07-13 08:59:16.296 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:提供
2025-07-13 08:59:16.296 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:电力
2025-07-13 08:59:16.297 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:项目
2025-07-13 08:59:16.297 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:相关的
2025-07-13 08:59:16.297 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:文件
2025-07-13 08:59:16.297 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:检索
2025-07-13 08:59:16.298 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:、
2025-07-13 08:59:16.298 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:阅读
2025-07-13 08:59:16.298 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:和分析
2025-07-13 08:59:16.299 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:服务
2025-07-13 08:59:16.299 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:！
2025-07-13 08:59:16.335 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-13 08:59:16.336 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-13 08:59:36.679 | INFO     | sse_proxy.sse2websocket1:run:283 - WebSocket 会话 4f179f17-3c93-45ef-b467-d62564e1f720 用户 admin 断开连接
2025-07-13 08:59:36.680 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 08:59:36.680 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-13 08:59:36.916 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 4f179f17-3c93-45ef-b467-d62564e1f720) 的 WebSocket 已连接并关联。
2025-07-13 08:59:36.942 | INFO     | sse_proxy.sse2websocket1:__init__:37 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 08:59:36.988 | DEBUG    | sse_proxy.sse2websocket1:run:259 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 09:00:10.557 | DEBUG    | sse_proxy.sse2websocket1:run:278 - 启动OpenAI转发：会话 4f179f17-3c93-45ef-b467-d62564e1f720, 用户: admin
2025-07-13 09:00:10.557 | DEBUG    | sse_proxy.sse2websocket1:_start:59 - OpenAIWebSocketProxy._start 开始
2025-07-13 09:00:12.196 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-13 09:00:12.197 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:3
2025-07-13 09:00:12.197 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: +
2025-07-13 09:00:12.197 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: 
2025-07-13 09:00:12.198 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:3
2025-07-13 09:00:12.198 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: =
2025-07-13 09:00:12.198 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta: 
2025-07-13 09:00:12.198 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:6
2025-07-13 09:00:12.199 | INFO     | sse_proxy.sse2websocket1:_stream_from_upstream:121 - delta:
2025-07-13 09:00:12.199 | DEBUG    | sse_proxy.sse2websocket1:_start:74 - OpenAIWebSocketProxy._start: 结束
2025-07-13 09:10:52.612 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 4f179f17-3c93-45ef-b467-d62564e1f720) 已从状态管理器登出。
2025-07-13 09:10:52.612 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-13 09:10:52.648 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-13 09:10:52.648 | INFO     | sse_proxy.sse2websocket1:run:283 - WebSocket 会话 4f179f17-3c93-45ef-b467-d62564e1f720 用户 admin 断开连接
2025-07-13 09:10:52.648 | DEBUG    | sse_proxy.sse2websocket1:_stop:77 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 09:15:34.589 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3407866 - 服务器关闭中...
2025-07-13 09:15:34.589 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 09:15:34.589 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 09:15:38.413 | INFO     | __main__:<module>:44 - Session Secret Key: ********649a
2025-07-13 09:15:38.414 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-13 09:15:38.414 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 09:15:38.414 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 09:15:38.416 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 09:15:38.431 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3432589 - 服务器启动中...
2025-07-13 09:15:38.471 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 09:15:38.472 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 09:15:38.478 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 09:15:38.478 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 09:15:38.478 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 09:15:38.478 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 09:15:38.479 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 09:15:38.479 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 09:15:38)
2025-07-13 09:15:38.486 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 09:15:44.213 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 09:15:44, 总耗时: 5.73 秒)
2025-07-13 09:15:44.222 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 09:15:44.223 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 09:15:44.223 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 09:15:44.223 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 09:15:44.225 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 09:15:44.225 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 09:15:44.225 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 09:15:44.225 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 09:15:44.225 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 09:15:44.243 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 09:15:44.245 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 09:15:44.245 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 09:15:44.247 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 09:15:44.247 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 09:15:44.247 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 09:15:44.248 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 09:15:44.248 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 09:15:48.003 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: bc5caa3e-0645-40e6-b441-88254227182a, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 09:15:48.004 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: bc5caa3e-0645-40e6-b441-88254227182a) 登录成功。
2025-07-13 09:15:48.193 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: bc5caa3e-0645-40e6-b441-88254227182a) 的 WebSocket 已连接并关联。
2025-07-13 09:15:48.221 | INFO     | sse_proxy.sse2websocket1:__init__:38 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 09:15:48.267 | DEBUG    | sse_proxy.sse2websocket1:run:293 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 09:15:51.805 | DEBUG    | sse_proxy.sse2websocket1:run:305 - 启动OpenAI转发：会话 bc5caa3e-0645-40e6-b441-88254227182a, 用户: admin
2025-07-13 09:15:51.805 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 09:15:51.945 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:207 - 进入_forward_to_websocket
2025-07-13 09:15:53.755 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60\u597d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.755 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff01", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.755 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5f88\u9ad8\u5174", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e3a\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u670d\u52a1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211\u662f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7535\u529b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u52a9\u624b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:53.756 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.469 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef\u4ee5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.469 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e2e\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u68c0\u7d22", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bfb\u53d6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e76", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5206\u6790", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f8\u5173", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:54.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.493 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bf7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.494 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u544a\u8bc9\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.494 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60\u9700\u8981", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.494 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u67e5\u627e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.494 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.494 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5904\u7406", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.494 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u54ea", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.495 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7c7b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.495 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:55.495 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f8b\u5982", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u67d0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53d8\u7535\u7ad9", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.518 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684\u7ed3\u6784", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.519 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u56fe\u7eb8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.519 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.519 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:56.519 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.337 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u67d0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.338 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6761", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.338 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8f93\u7535", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.338 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7ebf\u8def", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.338 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.338 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7814", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.338 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62a5\u544a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.339 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.339 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.339 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.848 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u67d0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62db\u6807\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u67d0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.849 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bbe\u5907\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.850 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bd5\u9a8c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.850 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62a5\u544a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:57.850 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.263 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216\u8005", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.263 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60\u53ef\u4ee5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.268 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f4\u63a5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u63cf\u8ff0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9700\u6c42", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6bd4\u5982", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e2e\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u627e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e00\u4e0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u00d7\u00d7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.269 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.270 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u73af\u8bc4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.270 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6279\u590d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.270 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.270 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201d\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:15:59.999 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211\u4f1a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5c3d\u529b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e2e\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5feb\u901f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5b9a\u4f4d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e76", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6574\u7406", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6240\u9700", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5185\u5bb9", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.001 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:00.001 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "message_end"}
2025-07-13 09:16:00.001 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 09:16:00.002 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:283 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/bc5caa3e-0645-40e6-b441-88254227182a.json
2025-07-13 09:16:20.477 | DEBUG    | sse_proxy.sse2websocket1:run:305 - 启动OpenAI转发：会话 bc5caa3e-0645-40e6-b441-88254227182a, 用户: admin
2025-07-13 09:16:20.477 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 09:16:20.478 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:207 - 进入_forward_to_websocket
2025-07-13 09:16:22.529 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u597d\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.529 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff01", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.529 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e3a\u4e86", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.529 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7cbe\u51c6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e2e\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6253\u5f00", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8239", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u95f8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684\u76f8\u5173", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:22.530 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.039 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211\u9700\u8981", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.039 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5148", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.039 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u786e\u8ba4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u51e0\u4e2a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8981\u70b9", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bf7\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8865\u5145", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4ee5\u4e0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.041 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4fe1\u606f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.042 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.863 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.864 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.864 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.876 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee\u540d\u79f0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.876 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.876 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7f16\u53f7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.877 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.877 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.877 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.877 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f8b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:23.877 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.694 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u00d7\u00d7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.695 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8239", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.695 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u95f8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.695 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6539\u6269\u5efa", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.695 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5de5\u7a0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.695 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff08", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.695 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "202", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.696 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.696 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.696 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:24.696 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff09\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "2", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7c7b\u578b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.599 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.600 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.600 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f8b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:25.600 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.623 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.623 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7814", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.623 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62a5\u544a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.623 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.623 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.624 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u521d\u6b65", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.624 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bbe\u8ba1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.624 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.624 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.624 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u65bd\u5de5\u56fe", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:26.624 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.237 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.237 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u73af\u8bc4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.237 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62a5\u544a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.237 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.237 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.238 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62db\u6807\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.238 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.238 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.238 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7ae3\u5de5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.238 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u56fe", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:27.238 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.289 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.290 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8fd0\u884c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.290 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u89c4\u7a0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.290 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.290 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7b49", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.290 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.291 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.291 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.291 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.291 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5b58\u653e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.291 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f4d\u7f6e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.291 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff08", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.941 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u82e5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.941 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.942 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5df2\u77e5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff09", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f8b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5c40\u57df\u7f51", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5171\u4eab", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.948 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76d8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:28.948 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " `", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.515 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.515 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "192", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.515 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.515 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "168", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Projects", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.516 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.517 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Hyd", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.517 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "raulic", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.517 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.517 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "`", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:30.517 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.745 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.745 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.745 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e91\u7aef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e93", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " `", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "One", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Drive", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Power", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Projects", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Ch", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "uan", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Z", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "ha", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:31.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "`\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.767 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.767 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5f53\u524d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684\u64cd\u4f5c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u73af\u5883", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:32.768 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.381 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f8b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.381 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.381 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Windows", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.381 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.381 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7535\u8111", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.381 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5df2", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.382 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6302\u8f7d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.382 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.382 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "NAS", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.382 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.893 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.893 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4ec5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.893 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u80fd\u901a\u8fc7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.893 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f01\u4e1a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.894 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5fae\u4fe1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.894 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5fae", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.894 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76d8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.894 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bbf\u95ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.894 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " /", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:33.894 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.551 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9700", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.551 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u767b\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.551 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "VPN", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.551 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u540e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.551 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bbf\u95ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.552 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5185", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.553 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7f51", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.553 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "SV", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.553 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "N", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:34.553 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.637 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bf7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u544a\u8bc9\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e0a\u8ff0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4fe1\u606f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e2d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60\u80fd", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u63d0\u4f9b\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4efb\u610f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e00\u9879", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u591a\u9879", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:35.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.179 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.179 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5373\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8c03\u7528", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f8\u5e94", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5de5\u5177", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e2e\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f4\u63a5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6253\u5f00", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.180 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.863 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.863 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7ed9\u51fa", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.863 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6700", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.863 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5feb\u6377", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.863 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.864 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bbf\u95ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.864 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8def\u5f84", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.864 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:36.864 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "message_end"}
2025-07-13 09:16:36.864 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 09:16:36.865 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:283 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/bc5caa3e-0645-40e6-b441-88254227182a.json
2025-07-13 09:16:45.466 | DEBUG    | sse_proxy.sse2websocket1:run:305 - 启动OpenAI转发：会话 bc5caa3e-0645-40e6-b441-88254227182a, 用户: admin
2025-07-13 09:16:45.467 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 09:16:45.470 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:207 - 进入_forward_to_websocket
2025-07-13 09:16:47.103 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.103 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u524d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.103 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef\u4ee5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.103 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8c03", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.103 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7528\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.104 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5de5\u5177", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.104 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6e05\u5355", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.104 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5982\u4e0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:47.104 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff08", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5168\u90e8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u56f4\u7ed5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7535\u529b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6c34\u5229", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.133 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.134 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.134 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.134 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u573a\u666f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.134 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bbe\u8ba1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.134 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.953 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.953 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7ec4\u5408", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.953 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f7f\u7528", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.953 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff09", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.953 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff1a\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.953 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u672c\u5730", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "/", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7f51\u7edc", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u68c0\u7d22", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:48.954 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.716 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.716 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.717 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " search", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.717 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_project", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.718 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_files", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.718 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(query", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.718 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.718 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " path", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.718 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:49.719 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " depth", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.609 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6309", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5173\u952e\u5b57", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7c7b\u578b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.610 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u65e5\u671f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8303\u56f4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5728\u5168", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76d8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6216", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6307\u5b9a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5feb\u901f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u68c0\u7d22", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:51.611 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.047 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "2", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.047 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.047 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.047 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.047 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bfb\u53d6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.047 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e0e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.048 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5185\u5bb9", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.048 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u63d0\u53d6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.048 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.048 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.803 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.805 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " read", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.805 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_pdf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " pages", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " extract", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_images", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:52.806 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.577 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.578 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " read", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_word", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " sections", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:53.581 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " read", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_ex", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "cel", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.351 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.352 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " sheet", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.352 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:54.352 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " range", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.192 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.192 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.192 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.192 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.192 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " read", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.192 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.193 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "wg", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.193 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.193 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:55.193 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " layers", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.207 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.207 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u652f\u6301", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Auto", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "CAD", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "201", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "202", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u683c\u5f0f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:56.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.035 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u81ea\u52a8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.035 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u89e3\u6790", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u56fe\u5c42", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5757", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5c5e\u6027", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:57.036 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.042 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef\u5c06", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.042 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u672c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.044 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8868\u683c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u56fe", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7b7e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u680f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4fe1\u606f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e00\u6b21\u6027", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.045 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8f6c\u6210", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.046 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7ed3\u6784\u5316", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.046 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6570\u636e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.046 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.879 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.879 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.879 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.879 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.879 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6253\u5f00", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.880 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "/", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.880 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9884\u89c8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.880 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.880 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:16:58.880 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.210 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " open", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.210 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_file", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f4\u63a5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8c03\u7528", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u64cd\u4f5c\u7cfb\u7edf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9ed8\u8ba4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.211 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7a0b\u5e8f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6253\u5f00", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6307\u5b9a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.212 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " preview", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_in", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_v", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.825 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "scode", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.826 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.826 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:00.826 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " line", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5728", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " VS", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " Code", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.951 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e2d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5b9a\u4f4d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5230", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5177\u4f53", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u884c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53f7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:01.952 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff08", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.667 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9002\u5408", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.667 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u67e5\u770b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " XML", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "CSV", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6e90\u7801", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff09\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:02.668 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.691 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.691 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " preview", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_pdf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_page", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " page", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.692 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:03.693 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.239 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7528", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.239 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7cfb\u7edf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.241 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " PDF", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9605\u8bfb", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5668", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f4\u63a5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8df3\u5230", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6307\u5b9a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.242 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9875", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:04.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.124 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.125 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.125 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.125 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.125 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e93", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.125 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u96c6\u6210", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.125 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.126 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.126 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.126 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " svn", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.946 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_check", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.946 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "out", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.946 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(url", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.946 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.946 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " local", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.946 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_path", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e00\u6b21\u6027", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u628a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8fdc\u7a0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:05.947 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " SVN", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.837 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.838 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e93", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.840 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62c9\u5230", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.840 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u672c\u5730", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.840 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5de5\u4f5c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.841 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.841 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.841 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.841 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:06.841 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.582 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " git", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.582 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_clone", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.582 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_or", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_pull", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(repo", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_url", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " branch", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:07.583 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.387 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.389 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u514b\u9686", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.389 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "/", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.389 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u66f4\u65b0", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.390 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " Git", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.390 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.390 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.390 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e93", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.390 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:08.390 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.001 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " share", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "point", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_get", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(site", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " folder", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " pattern", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.835 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.835 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.835 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.835 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8fde\u63a5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.835 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " Microsoft", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.835 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.836 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "365", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.836 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " Share", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.836 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Point", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:09.836 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.859 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e76", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.859 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e0b\u8f7d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.859 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5339\u914d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5143", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.860 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6570\u636e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.861 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e0e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.861 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.861 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6811", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:10.861 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " list", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_directory", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_tree", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(root", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.684 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.685 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " depth", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.685 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:11.685 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " include", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.908 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_ext", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.908 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.908 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.908 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u751f\u6210", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e26", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5c42\u7ea7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5927\u5c0f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4fee\u6539", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u65f6\u95f4\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.909 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6811", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:12.910 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.557 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " file", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_metadata", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.558 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8fd4\u56de", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u521b\u5efa", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u65f6\u95f4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f5c\u8005", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4fee\u8ba2", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bb0\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3001", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6587\u4ef6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7248\u672c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7b49", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.559 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8be6\u7ec6\u4fe1\u606f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:14.560 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.981 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "6", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.981 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.981 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7b80\u5355", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6570\u636e\u5206\u6790", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " extract", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.982 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_table", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.983 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_from", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.983 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_pdf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:15.983 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.697 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.697 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " page", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.697 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_range", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.697 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.697 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.697 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u628a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " PDF", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e2d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8868\u683c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5bfc\u51fa", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e3a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:16.698 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " CSV", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.823 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "/Data", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.823 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Frame", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.823 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.823 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.823 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " compare", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_ex", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "cel", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_s", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "heets", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:17.824 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(old", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.746 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " new", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " key", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_column", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.747 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.748 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.748 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e00\u952e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.748 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5bf9\u6bd4", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.748 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e24\u4efd", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:18.748 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " Excel", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.630 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9ad8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4eae", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5dee\u5f02", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.633 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.634 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6743\u9650", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e0e", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8def\u5f84", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.638 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u81ea\u52a8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8865", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5168", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:19.639 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.689 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " resolve", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_unc", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_path", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(short", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "cut", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.690 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:20.691 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.714 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u628a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.714 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5f62\u5982", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.714 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " `", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.714 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "P", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.714 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ":\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.714 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Projects", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.715 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.715 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "...\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.715 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "...", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.715 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "`", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:21.715 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.394 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.398 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6620\u5c04", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.398 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76d8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.398 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7b26", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.398 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u81ea\u52a8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.398 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u89e3\u6790", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.398 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6210", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " `", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "nas", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "hyd", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "raulic", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:22.399 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "...", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.352 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "`", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684\u5b9e\u9645", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " UNC", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8def\u5f84", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.353 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.354 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:23.354 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2022", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.686 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " check", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.686 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_access", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.686 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(filepath", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.686 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.686 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2013", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5224\u65ad", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5f53\u524d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7528\u6237", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u662f\u5426\u5177\u6709", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bfb", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "/", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.687 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5199", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.688 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "/", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.688 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6267\u884c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.688 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6743\u9650", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:24.688 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.604 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u793a\u4f8b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.605 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7ec4\u5408", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.605 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6d41\u7a0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.605 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.605 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u2460", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.605 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " search", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.605 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_project", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.606 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_files", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.606 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(\"", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.606 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8239", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.606 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u95f8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:25.606 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.424 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.424 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7814", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.424 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.424 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \"", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.424 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.424 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "192", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.425 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.425 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "168", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.425 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.425 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:26.425 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Hyd", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "raulic", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Projects", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.243 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.244 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.244 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.244 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:27.244 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u2461", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.065 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " read", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.065 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_pdf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.065 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(\"", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.065 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.066 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "192", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.066 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.066 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "168", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.066 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.066 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:28.067 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.086 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Hyd", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "raulic", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Projects", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\\\\", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "202", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.087 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "-", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.088 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8239", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.088 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u95f8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.088 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.088 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7814", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.088 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62a5\u544a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.088 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ".pdf", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.905 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.905 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " pages", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.905 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "=[", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.905 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "1", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.906 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.906 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "2", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.906 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": ",\"", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.906 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.906 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\"])", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:29.906 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "  \n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.930 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u2462", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.930 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " open", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.930 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "_file", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.930 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "(\"", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.930 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u540c\u4e0a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\")", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " \u2014", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u2014", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5982\u679c\u4f60\u60f3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76f4\u63a5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6d4f\u89c8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5168\u6587", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:30.931 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002\n\n", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8bf7", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.000 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u544a\u8bc9\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.002 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4f60\u73b0\u5728", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.002 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u624b\u5934", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5df2\u77e5", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684\u6700", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5c11", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4fe1\u606f", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff08", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6bd4\u5982", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.003 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u8239", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u95f8", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u9879\u76ee\u5728", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:32.004 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " NAS", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.053 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.063 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7684", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.063 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " Hydraulic", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.063 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "Projects", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.063 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " ", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.063 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u76ee\u5f55", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.063 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u4e0b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211\u60f3", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u770b", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7814", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u62a5\u544a", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.064 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": " PDF", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.830 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u201d", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.831 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\uff09\uff0c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.831 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u6211", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.831 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5373\u53ef", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.831 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u7acb\u5373", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.833 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5f00\u59cb", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.833 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u5e2e\u4f60", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.833 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u64cd\u4f5c", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.833 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "agent_message", "answer": "\u3002", "conversation_id": "bc5caa3e-0645-40e6-b441-88254227182a"}
2025-07-13 09:17:33.833 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:215 - _forward_to_websocket:{"event": "message_end"}
2025-07-13 09:17:33.834 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 09:17:33.834 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:283 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/bc5caa3e-0645-40e6-b441-88254227182a.json
2025-07-13 09:19:45.916 | INFO     | sse_proxy.sse2websocket1:run:310 - WebSocket 会话 bc5caa3e-0645-40e6-b441-88254227182a 用户 admin 断开连接
2025-07-13 09:19:45.916 | DEBUG    | sse_proxy.sse2websocket1:_stop:79 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 09:19:45.916 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-13 09:19:46.017 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3432589 - 服务器关闭中...
2025-07-13 09:19:46.017 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 09:19:46.017 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:44 - Session Secret Key: ********7d27
2025-07-13 09:20:09.511 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-13 09:20:09.512 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 09:20:09.512 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 09:20:09.514 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 09:20:09.528 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3436964 - 服务器启动中...
2025-07-13 09:20:09.562 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 09:20:09.562 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 09:20:09.568 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 09:20:09.568 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 09:20:09.568 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 09:20:09.569 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 09:20:09.569 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 09:20:09.569 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 09:20:09)
2025-07-13 09:20:09.578 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 09:20:14.085 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 09:20:14, 总耗时: 4.52 秒)
2025-07-13 09:20:14.095 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 09:20:14.095 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 09:20:14.095 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 09:20:14.095 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 09:20:14.097 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 09:20:14.097 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 09:20:14.097 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 09:20:14.097 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 09:20:14.097 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 09:20:14.116 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 09:20:14.117 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 09:20:14.117 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 09:20:14.119 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 09:20:14.120 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 09:20:14.120 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 09:20:14.120 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 09:20:14.120 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 09:20:27.464 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 1b52f6e7-3d03-43b5-b5c6-4f92a6065755, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 09:20:27.464 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 1b52f6e7-3d03-43b5-b5c6-4f92a6065755) 登录成功。
2025-07-13 09:20:27.683 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1b52f6e7-3d03-43b5-b5c6-4f92a6065755) 的 WebSocket 已连接并关联。
2025-07-13 09:20:27.712 | INFO     | sse_proxy.sse2websocket1:__init__:38 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 09:20:27.757 | DEBUG    | sse_proxy.sse2websocket1:run:293 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 09:20:33.402 | DEBUG    | sse_proxy.sse2websocket1:run:305 - 启动OpenAI转发：会话 1b52f6e7-3d03-43b5-b5c6-4f92a6065755, 用户: admin
2025-07-13 09:20:33.403 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 09:20:33.534 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:207 - 进入_forward_to_websocket
2025-07-13 09:20:54.191 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 09:20:54.192 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:282 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/1b52f6e7-3d03-43b5-b5c6-4f92a6065755.json
2025-07-13 09:21:03.098 | DEBUG    | sse_proxy.sse2websocket1:run:305 - 启动OpenAI转发：会话 1b52f6e7-3d03-43b5-b5c6-4f92a6065755, 用户: admin
2025-07-13 09:21:03.098 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 09:21:03.100 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:207 - 进入_forward_to_websocket
2025-07-13 09:21:06.726 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:242 - 执行工具调用: query_project_files with args: {"user": "user", "project_name": "船闸"}
2025-07-13 09:21:06.769 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-13 09:21:06.769 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-13 09:21:06.770 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-13 09:21:06.770 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-13 09:21:06.772 | WARNING  | core.session:update_opened_dir:240 - 尝试为未知用户 'user' 更新工作目录 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'。
2025-07-13 09:21:30.341 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 09:21:30.341 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:282 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/1b52f6e7-3d03-43b5-b5c6-4f92a6065755.json
2025-07-13 10:21:14.121 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-13 10:21:14.121 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 1b52f6e7-3d03-43b5-b5c6-4f92a6065755) 因不活动被自动登出。
2025-07-13 10:21:14.121 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-13 10:21:14.182 | INFO     | sse_proxy.sse2websocket1:run:310 - WebSocket 会话 1b52f6e7-3d03-43b5-b5c6-4f92a6065755 用户 admin 断开连接
2025-07-13 10:21:14.182 | DEBUG    | sse_proxy.sse2websocket1:_stop:79 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 11:25:08.812 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3436964 - 服务器关闭中...
2025-07-13 11:25:08.812 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 11:25:08.812 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 11:25:22.339 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 11:25:22.339 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 11:25:22.340 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 11:25:22.340 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 11:25:22.340 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 11:25:22.340 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 11:25:22.340 | INFO     | __main__:<module>:44 - Session Secret Key: ********5ab7
2025-07-13 11:25:22.340 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-13 11:25:22.341 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 11:25:22.341 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 11:25:22.343 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 11:25:22.357 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3546976 - 服务器启动中...
2025-07-13 11:25:22.391 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 11:25:22.391 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 11:25:22.396 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 11:25:22.396 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 11:25:22.397 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 11:25:22.397 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 11:25:22.397 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 11:25:22.397 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 11:25:22)
2025-07-13 11:25:22.524 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 11:25:29.410 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 11:25:29, 总耗时: 7.01 秒)
2025-07-13 11:25:29.420 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 11:25:29.420 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 11:25:29.420 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 11:25:29.420 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 11:25:29.477 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 11:25:29.478 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 11:25:29.478 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 11:25:29.478 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 11:25:29.478 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 11:25:29.546 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.13 秒。
2025-07-13 11:25:29.549 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 11:25:29.549 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 11:25:29.551 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 11:25:29.551 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 11:25:29.552 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 11:25:29.552 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 11:25:29.552 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 11:25:37.161 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: ab70310a-b311-4646-9e95-bdce206cc985, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 11:25:37.161 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: ab70310a-b311-4646-9e95-bdce206cc985) 登录成功。
2025-07-13 11:25:59.047 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 ab70310a-b311-4646-9e95-bdce206cc985 最近有HTTP活动。
2025-07-13 11:25:59.047 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'ab70310a-b311-4646-9e95-bdce206cc985' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: ab70310a-b311-4646-9e95-bdce206cc985。
2025-07-13 11:25:59.047 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-13 11:26:10.004 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 ab70310a-b311-4646-9e95-bdce206cc985 最近有HTTP活动。
2025-07-13 11:26:10.004 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'ab70310a-b311-4646-9e95-bdce206cc985' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: ab70310a-b311-4646-9e95-bdce206cc985。
2025-07-13 11:26:10.004 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-13 11:26:18.913 | WARNING  | core.routing:login:103 - 登录尝试失败: 用户名或密码错误 for 'zhouxiang,123456 user_db_entry:{'password': 'Zhangying139'}' (来自 IP: 240e:3a1:7d1:2440::e7)
2025-07-13 11:26:24.002 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: ab70310a-b311-4646-9e95-bdce206cc985, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 11:26:24.002 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: ab70310a-b311-4646-9e95-bdce206cc985) 登录成功。
2025-07-13 11:26:24.185 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: ab70310a-b311-4646-9e95-bdce206cc985) 的 WebSocket 已连接并关联。
2025-07-13 11:26:24.212 | INFO     | sse_proxy.sse2websocket1:__init__:38 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 11:26:24.257 | DEBUG    | sse_proxy.sse2websocket1:run:294 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 11:26:29.767 | DEBUG    | sse_proxy.sse2websocket1:run:308 - 启动OpenAI转发：会话 ab70310a-b311-4646-9e95-bdce206cc985, 用户: admin
2025-07-13 11:26:29.767 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 11:26:29.900 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:208 - 进入_forward_to_websocket
2025-07-13 11:26:33.660 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:243 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-13 11:26:33.703 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-13 11:26:33.703 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-13 11:26:33.704 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-13 11:26:33.704 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-13 11:26:33.706 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-13 11:26:33.707 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-13 11:26:58.263 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 11:26:58.264 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:283 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/ab70310a-b311-4646-9e95-bdce206cc985.json
2025-07-13 11:27:13.391 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/9f14d2fc002f4265b1fb011bc54a8969/Top Gun • Danger Zone • Kenny Loggins.mkv
2025-07-13 11:27:27.112 | DEBUG    | sse_proxy.sse2websocket1:run:308 - 启动OpenAI转发：会话 ab70310a-b311-4646-9e95-bdce206cc985, 用户: admin
2025-07-13 11:27:27.112 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 11:27:27.115 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:208 - 进入_forward_to_websocket
2025-07-13 11:27:35.185 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:243 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}
2025-07-13 11:27:35.228 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', Category: '普通文档'
2025-07-13 11:27:35.228 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf)，分隔符: '	'
2025-07-13 11:27:35.295 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: test.pdf, 内容长度: 721
2025-07-13 11:27:35.296 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf成功读取（预览100字）:2．系统部分
2.0 主要技术方案
2.0.1 系统继电保护
本期工程新架设双回线路开断刘桃园～爱园线，并双回接入前圩变，并将刘
桃园～前圩线改为 T 接至刘桃园~卢廷线，形成 110kV 前圩~爱园
2025-07-13 11:27:35.296 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf 生成LLM工具下载token 48d663e51a9c442590219fbedf2d399c
2025-07-13 11:27:35.296 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf' (token: 48d663e51a9c442590219fbedf2d399c), 有效期至: Sun Jul 13 19:27:35 2025
2025-07-13 11:27:35.344 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/48d663e51a9c442590219fbedf2d399c/test.pdf
2025-07-13 11:27:35.533 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '48d663e51a9c442590219fbedf2d399c', URL中的文件名: 'test_44aec684.pdf'
2025-07-13 11:27:35.533 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '48d663e51a9c442590219fbedf2d399c' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 11:27:35.533 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_44aec684.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 11:27:35.533 | DEBUG    | core.routing:download_file_via_token:282 - Token '48d663e51a9c442590219fbedf2d399c' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_44aec684.pdf')
2025-07-13 11:27:35.535 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '48d663e51a9c442590219fbedf2d399c', URL中的文件名: 'test_44aec684.pdf'
2025-07-13 11:27:35.535 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '48d663e51a9c442590219fbedf2d399c' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 11:27:35.535 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_44aec684.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 11:27:35.535 | DEBUG    | core.routing:download_file_via_token:282 - Token '48d663e51a9c442590219fbedf2d399c' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_44aec684.pdf')
2025-07-13 11:28:09.612 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 11:28:09.613 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:283 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/ab70310a-b311-4646-9e95-bdce206cc985.json
2025-07-13 11:28:23.228 | DEBUG    | sse_proxy.sse2websocket1:run:308 - 启动OpenAI转发：会话 ab70310a-b311-4646-9e95-bdce206cc985, 用户: admin
2025-07-13 11:28:23.229 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 11:28:23.231 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:208 - 进入_forward_to_websocket
2025-07-13 11:28:40.015 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:243 - 执行工具调用: diff_project_file with args: {"user": "admin", "relative_file1_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "relative_file2_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "document_type": "概算表", "all_sheet": true}
2025-07-13 11:28:40.058 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:296 - 工具调用: compare_project_file. 用户:admin, 文件1: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件2: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', 文件类型: '概算表', Sheet名: 'None', All Sheets: True
2025-07-13 11:28:40.058 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:351 - 对文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 和 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (类型: 概算表) 进行所有Sheet的比较。
2025-07-13 11:28:43.005 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: fc8ce7d85ee5408183443583f668d5f8), 有效期至: Sun Jul 13 19:28:43 2025
2025-07-13 11:28:43.006 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: b74626cdff3e40a4918b3dfeaf2a07a4), 有效期至: Sun Jul 13 19:28:43 2025
2025-07-13 11:28:43.081 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/fc8ce7d85ee5408183443583f668d5f8/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-13 11:28:43.088 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: 'fc8ce7d85ee5408183443583f668d5f8', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_5416595b.xlsx'
2025-07-13 11:28:43.088 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'fc8ce7d85ee5408183443583f668d5f8' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-13 11:28:43.088 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_5416595b.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-13 11:28:43.088 | DEBUG    | core.routing:download_file_via_token:282 - Token 'fc8ce7d85ee5408183443583f668d5f8' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_5416595b.xlsx')
2025-07-13 11:28:43.101 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/b74626cdff3e40a4918b3dfeaf2a07a4/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-13 11:28:43.107 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: 'b74626cdff3e40a4918b3dfeaf2a07a4', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_4c085f12.xlsx'
2025-07-13 11:28:43.107 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'b74626cdff3e40a4918b3dfeaf2a07a4' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-13 11:28:43.107 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_4c085f12.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-13 11:28:43.108 | DEBUG    | core.routing:download_file_via_token:282 - Token 'b74626cdff3e40a4918b3dfeaf2a07a4' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_4c085f12.xlsx')
2025-07-13 11:29:52.574 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 11:29:52.575 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:283 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/ab70310a-b311-4646-9e95-bdce206cc985.json
2025-07-13 12:26:29.552 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-13 12:26:29.552 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 ab70310a-b311-4646-9e95-bdce206cc985) 因不活动被自动登出。
2025-07-13 12:26:29.553 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-13 12:26:29.589 | INFO     | sse_proxy.sse2websocket1:run:313 - WebSocket 会话 ab70310a-b311-4646-9e95-bdce206cc985 用户 admin 断开连接
2025-07-13 12:26:29.589 | DEBUG    | sse_proxy.sse2websocket1:_stop:79 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 12:26:35.270 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: ab70310a-b311-4646-9e95-bdce206cc985) 的 WebSocket 已连接并关联。
2025-07-13 12:26:35.300 | INFO     | sse_proxy.sse2websocket1:__init__:38 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 12:26:35.346 | DEBUG    | sse_proxy.sse2websocket1:run:294 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 12:29:29.552 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: zhouxiang
2025-07-13 12:29:29.552 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'zhouxiang' (会话 ab70310a-b311-4646-9e95-bdce206cc985) 因不活动被自动登出。
2025-07-13 12:29:29.553 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'zhouxiang' 的不活动WebSocket连接。
2025-07-13 12:29:29.605 | INFO     | sse_proxy.sse2websocket1:run:313 - WebSocket 会话 ab70310a-b311-4646-9e95-bdce206cc985 用户 zhouxiang 断开连接
2025-07-13 12:29:29.605 | DEBUG    | sse_proxy.sse2websocket1:_stop:79 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 15:10:37.083 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3546976 - 服务器关闭中...
2025-07-13 15:10:37.083 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 15:10:37.083 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 15:10:40.215 | INFO     | __main__:<module>:44 - Session Secret Key: ********7731
2025-07-13 15:10:40.216 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-13 15:10:40.216 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 15:10:40.216 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 15:10:40.218 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 15:10:40.234 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3745066 - 服务器启动中...
2025-07-13 15:10:40.270 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 15:10:40.271 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 15:10:40.277 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 15:10:40.277 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 15:10:40.277 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 15:10:40.277 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 15:10:40.277 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 15:10:40.277 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 15:10:40)
2025-07-13 15:10:40.285 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 15:10:44.722 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 15:10:44, 总耗时: 4.44 秒)
2025-07-13 15:10:44.732 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 15:10:44.732 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 15:10:44.732 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 15:10:44.732 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 15:10:44.734 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 15:10:44.734 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 15:10:44.734 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 15:10:44.734 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 15:10:44.734 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 15:10:44.753 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 15:10:44.754 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 15:10:44.754 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 15:10:44.756 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 15:10:44.756 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 15:10:44.756 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 15:10:44.757 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 15:10:44.757 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 15:10:48.748 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 3186505d-c409-4140-9089-f2ca70701985, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 15:10:48.748 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 3186505d-c409-4140-9089-f2ca70701985) 登录成功。
2025-07-13 15:10:48.947 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 3186505d-c409-4140-9089-f2ca70701985) 的 WebSocket 已连接并关联。
2025-07-13 15:10:48.974 | INFO     | sse_proxy.sse2websocket1:__init__:38 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 15:10:49.020 | DEBUG    | sse_proxy.sse2websocket1:run:300 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 15:10:55.979 | DEBUG    | sse_proxy.sse2websocket1:run:314 - 启动OpenAI转发：会话 3186505d-c409-4140-9089-f2ca70701985, 用户: admin
2025-07-13 15:10:55.979 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:10:56.112 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:214 - 进入_forward_to_websocket
2025-07-13 15:10:59.808 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:249 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-13 15:10:59.852 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-13 15:10:59.853 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-13 15:10:59.854 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-13 15:10:59.854 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-13 15:10:59.856 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-13 15:10:59.856 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-13 15:11:15.187 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:11:15.188 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:289 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/3186505d-c409-4140-9089-f2ca70701985.json
2025-07-13 15:12:58.183 | DEBUG    | sse_proxy.sse2websocket1:run:314 - 启动OpenAI转发：会话 3186505d-c409-4140-9089-f2ca70701985, 用户: admin
2025-07-13 15:12:58.183 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:12:58.185 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:214 - 进入_forward_to_websocket
2025-07-13 15:13:05.354 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:249 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}
2025-07-13 15:13:05.396 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', Category: '普通文档'
2025-07-13 15:13:05.396 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf)，分隔符: '	'
2025-07-13 15:13:05.461 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: test.pdf, 内容长度: 721
2025-07-13 15:13:05.461 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf成功读取（预览100字）:2．系统部分
2.0 主要技术方案
2.0.1 系统继电保护
本期工程新架设双回线路开断刘桃园～爱园线，并双回接入前圩变，并将刘
桃园～前圩线改为 T 接至刘桃园~卢廷线，形成 110kV 前圩~爱园
2025-07-13 15:13:05.461 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf 生成LLM工具下载token 84d3b935378e46d6b1418239a5a86e16
2025-07-13 15:13:05.462 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf' (token: 84d3b935378e46d6b1418239a5a86e16), 有效期至: Sun Jul 13 23:13:05 2025
2025-07-13 15:13:05.511 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/84d3b935378e46d6b1418239a5a86e16/test.pdf
2025-07-13 15:13:05.839 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '84d3b935378e46d6b1418239a5a86e16', URL中的文件名: 'test_6d2fc500.pdf'
2025-07-13 15:13:05.839 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '84d3b935378e46d6b1418239a5a86e16' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 15:13:05.839 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_6d2fc500.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 15:13:05.840 | DEBUG    | core.routing:download_file_via_token:282 - Token '84d3b935378e46d6b1418239a5a86e16' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_6d2fc500.pdf')
2025-07-13 15:13:05.841 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '84d3b935378e46d6b1418239a5a86e16', URL中的文件名: 'test_6d2fc500.pdf'
2025-07-13 15:13:05.841 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '84d3b935378e46d6b1418239a5a86e16' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 15:13:05.841 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_6d2fc500.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 15:13:05.842 | DEBUG    | core.routing:download_file_via_token:282 - Token '84d3b935378e46d6b1418239a5a86e16' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_6d2fc500.pdf')
2025-07-13 15:13:46.094 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:13:46.095 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:289 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/3186505d-c409-4140-9089-f2ca70701985.json
2025-07-13 15:23:23.156 | INFO     | sse_proxy.sse2websocket1:run:319 - WebSocket 会话 3186505d-c409-4140-9089-f2ca70701985 用户 admin 断开连接
2025-07-13 15:23:23.156 | DEBUG    | sse_proxy.sse2websocket1:_stop:79 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 15:23:23.156 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-13 15:23:23.257 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3745066 - 服务器关闭中...
2025-07-13 15:23:23.257 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 15:23:23.257 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 15:23:26.448 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 15:23:26.448 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 15:23:26.449 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 15:23:26.449 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 15:23:26.449 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 15:23:26.449 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 15:23:26.449 | INFO     | __main__:<module>:44 - Session Secret Key: ********5d5a
2025-07-13 15:23:26.449 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:affa:8311:aedf:4c7d]:8888
2025-07-13 15:23:26.450 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 15:23:26.450 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 15:23:26.452 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 15:23:26.467 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3756572 - 服务器启动中...
2025-07-13 15:23:26.507 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 15:23:26.507 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 15:23:26.514 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 15:23:26.514 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 15:23:26.514 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 15:23:26.514 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 15:23:26.514 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 15:23:26.515 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 15:23:26)
2025-07-13 15:23:26.522 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 15:23:30.999 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 15:23:30, 总耗时: 4.48 秒)
2025-07-13 15:23:31.008 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 15:23:31.008 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 15:23:31.009 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 15:23:31.009 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 15:23:31.010 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 15:23:31.010 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 15:23:31.010 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 15:23:31.011 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 15:23:31.011 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 15:23:31.029 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 15:23:31.030 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 15:23:31.030 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 15:23:31.032 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 15:23:31.032 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 15:23:31.033 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 15:23:31.033 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 15:23:31.033 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 15:23:31.154 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: 未知)。
2025-07-13 15:23:40.854 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 15:23:40.854 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: 3215cb69-a81c-41dc-876e-ac1c2bcfeedf) 登录成功。
2025-07-13 15:23:40.938 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 3215cb69-a81c-41dc-876e-ac1c2bcfeedf) 的 WebSocket 已连接并关联。
2025-07-13 15:23:40.964 | INFO     | sse_proxy.sse2websocket1:__init__:38 - mcp_server:http://127.0.0.1:8888/mcp/mcp
2025-07-13 15:23:41.017 | DEBUG    | sse_proxy.sse2websocket1:run:306 - 获取到的工具列表[Tool(name='query_specification_knowledge_base', description='\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', inputSchema={'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}, annotations=None), Tool(name='diff_project_file', description='\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}, annotations=None), Tool(name='read_project_file', description='\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}, annotations=None), Tool(name='query_project_files', description='\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', inputSchema={'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}, annotations=None), Tool(name='open_specification_files', description='\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', inputSchema={'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}, annotations=None)], tool_schemas:[{'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'description': '\n    规程规范知识库检索工具，使用向量检索规程规范\n    参数：\n        user_query:  用户需要查询的内容\n        name: 知识库名称，（电气、二次、 通信、 线路 四个必选之一）\n    返回：\n        一个标准ToolBaseResponse模型的JSON字符串，包含检索结果。\n    ', 'parameters': {'properties': {'user_query': {'title': 'User Query', 'type': 'string'}, 'knowledge_base_name': {'title': 'Knowledge Base Name', 'type': 'string'}, 'top_k': {'default': 5, 'title': 'Top K', 'type': 'integer'}}, 'required': ['user_query', 'knowledge_base_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'diff_project_file', 'description': '\n    使用diff函数比较两个项目文件的差异，返回差异结果。\n    参数：\n        user: 发起调用的用户名\n        relative_file1_path: 需要比较的文件1（比如XXX送审版）的相对路径。\n        relative_file2_path: 需要比较的文件2（比如XXX收口版）的相对路径。\n        document_type:  文档类型，可选值为 "报告（说明书）", "材料清册", "概算表"。\n        sheet_name: 表名（仅当file_type为"概算表"且文件为xlsx时需要，其他情况可忽略）。如果 all_sheet 为 True，此参数将被忽略。\n        all_sheet:  布尔值，默认为 False。如果为 True，则对"概算表"类型的文档，比较其所有同名sheet，并在输出中包含各表名描述。\n    返回：\n        返回文件差异结果字符串，包含两个文件的文件名作为标题。如果文件不存在、类型不支持或比较出错，则返回错误内容和下一步操作建议。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file1_path': {'title': 'Relative File1 Path', 'type': 'string'}, 'relative_file2_path': {'title': 'Relative File2 Path', 'type': 'string'}, 'document_type': {'title': 'Document Type', 'type': 'string'}, 'sheet_name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Sheet Name'}, 'all_sheet': {'default': False, 'title': 'All Sheet', 'type': 'boolean'}}, 'required': ['user', 'relative_file1_path', 'relative_file2_path', 'document_type'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'read_project_file', 'description': '\n    读取项目文件的文件内容并返回。\n    参数：\n        user_name : 发起对话的用户名，必填\n        relative_file_path: 需要解析的文件的相对路径，通常由 query_project_file_path函数返回，必填\n        file_category: "普通文档" "图纸图形文档" "概算书文档" 必填之一\n        sheet_name: 如果为file_category="概算书文档" ，必填。\n    返回：\n        一个标准ReadFileResponse模型的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'relative_file_path': {'title': 'Relative File Path', 'type': 'string'}, 'file_category': {'title': 'File Category', 'type': 'string'}, 'sheet_name': {'default': '', 'title': 'Sheet Name', 'type': 'string'}}, 'required': ['user', 'relative_file_path', 'file_category'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'query_project_files', 'description': '\n    根据项目名称关键字查询项目文件列表。\n    参数:\n        user: 发起调用的用户名\n        project_name: 项目名称的关键字，采用模糊匹配加向量相似度方式检索，如果为"/ALL",返回所有项目。\n        year: 项目的四位数字年份 (可选, 如\'2024\')。如果为None，则检索所有年份。\n    返回:\n        一个JSON字符串，当仅有一个项目匹配时，返回项目文件列表，否则返回多个候选项目名称\n    ', 'parameters': {'properties': {'user': {'title': 'User', 'type': 'string'}, 'project_name': {'title': 'Project Name', 'type': 'string'}, 'year': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None, 'title': 'Year'}}, 'required': ['user', 'project_name'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'open_specification_files', 'description': '\n    根据关键字向量检索规程规范文件，并可选择性地读取文件内容。\n\n    参数:\n        user: 发起调用的用户名\n        query_spec_filename：要查询的规范文件名称的关键字。\n        category (str): 规程规范的专业类别，必须是预设类别之一。["电气","二次"，"通信"，"土建"，"线路"，"技经"，"公用"]\n        read_file (bool): 是否读取最匹配文件的内容。默认为 False。\n        top_n (int): 返回最相似文件路径的数量。默认为 3。\n\n    返回:\n        - 如果 read_file 为 False，返回一个JSON字符串，包含匹配的文件路径列表。\n        - 如果 read_file 为 True，返回一个JSON字符串，包含最匹配文件的路径和内容。\n        - 如果出错或未找到，返回一个包含错误信息的JSON字符串。\n    ', 'parameters': {'properties': {'user': {'title': 'User'}, 'query_spec_filename': {'title': 'Query Spec Filename', 'type': 'string'}, 'category': {'title': 'Category', 'type': 'string'}, 'read_file': {'default': False, 'title': 'Read File', 'type': 'boolean'}, 'top_n': {'default': 3, 'title': 'Top N', 'type': 'integer'}}, 'required': ['user', 'query_spec_filename', 'category'], 'type': 'object'}}}]
2025-07-13 15:24:03.795 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:24:03.795 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:24:03.935 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:24:11.024 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: open_specification_files with args: {"user" : "zhouxiang", "query_spec_filename" : "超长距通信站规范", "category" : "通信"}
2025-07-13 15:24:11.069 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '超长距通信站规范', 类别: '通信', 读取文件: False, Top N: 3
2025-07-13 15:24:11.070 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '通信' 的规程规范...
2025-07-13 15:24:11.070 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '通信' 查询到 1 条规程记录。
2025-07-13 15:24:11.070 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-13 15:24:11.147 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范', 0.530751722360872)]
2025-07-13 15:24:11.147 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:916 - 找到 1 个匹配的文件路径。
2025-07-13 15:24:26.099 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:24:26.100 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 15:24:29.801 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:24:29.801 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:24:29.803 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:24:34.308 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: open_specification_files with args: {"user" : "zhouxiang", "category" : "通信", "query_spec_filename" : "超长距通信站规范", "read_file" : true}
2025-07-13 15:24:34.352 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '超长距通信站规范', 类别: '通信', 读取文件: True, Top N: 3
2025-07-13 15:24:34.353 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '通信' 的规程规范...
2025-07-13 15:24:34.353 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '通信' 查询到 1 条规程记录。
2025-07-13 15:24:34.353 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-13 15:24:34.424 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范', 0.530751722360872)]
2025-07-13 15:24:34.424 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:893 - 找到最匹配的文件: '通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (相似度: 0.5308)，准备读取内容。
2025-07-13 15:24:34.424 | INFO     | core.session:update_opened_file:216 - 用户 'zhouxiang' 已打开文件 '通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (token: 557bb90afb6a4094a248690c0e1d413a), 有效期至: Sun Jul 13 23:24:34 2025
2025-07-13 15:24:34.470 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/557bb90afb6a4094a248690c0e1d413a/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf
2025-07-13 15:24:34.689 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '557bb90afb6a4094a248690c0e1d413a', URL中的文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_74e9558e.pdf'
2025-07-13 15:24:34.689 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '557bb90afb6a4094a248690c0e1d413a' (文件: GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf, 用户: zhouxiang) 在 working_files 中验证成功。
2025-07-13 15:24:34.689 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_74e9558e.pdf' 与Token关联文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 15:24:34.689 | DEBUG    | core.routing:download_file_via_token:282 - Token '557bb90afb6a4094a248690c0e1d413a' 验证成功。准备下载文件: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf', URL文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_74e9558e.pdf')
2025-07-13 15:24:34.692 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '557bb90afb6a4094a248690c0e1d413a', URL中的文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_74e9558e.pdf'
2025-07-13 15:24:34.694 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '557bb90afb6a4094a248690c0e1d413a' (文件: GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf, 用户: zhouxiang) 在 working_files 中验证成功。
2025-07-13 15:24:34.694 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_74e9558e.pdf' 与Token关联文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 15:24:34.694 | DEBUG    | core.routing:download_file_via_token:282 - Token '557bb90afb6a4094a248690c0e1d413a' 验证成功。准备下载文件: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf', URL文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_74e9558e.pdf')
2025-07-13 15:24:38.199 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:24:38.200 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 15:25:47.159 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:25:47.159 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:25:47.166 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:25:50.894 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: query_project_files with args: {"user": "zhouxiang", "project_name": "/ALL"}
2025-07-13 15:25:50.938 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='/ALL', 年份='None'
2025-07-13 15:25:50.938 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 收到全部项目查询请求
2025-07-13 15:26:13.843 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:26:13.844 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 15:26:33.091 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:26:33.091 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:26:33.094 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:26:39.070 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: query_project_files with args: {"user": "zhouxiang", "project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计"}
2025-07-13 15:26:39.113 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计', 年份='None'
2025-07-13 15:26:39.113 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计', 年份: None
2025-07-13 15:26:39.114 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-13 15:26:39.114 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-13 15:26:39.116 | INFO     | core.session:update_opened_dir:268 - 用户 'zhouxiang' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-13 15:26:39.116 | INFO     | core.session:update_opened_dir:292 - 已向用户 'zhouxiang' 发送工作目录更新通知。
2025-07-13 15:26:43.921 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/4a9d8eb5e2da488db748c5b4d79297d5/382-S230168C-A-02 电缆线路路径图.pdf
2025-07-13 15:26:44.095 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '4a9d8eb5e2da488db748c5b4d79297d5', URL中的文件名: '382-S230168C-A-02 电缆线路路径图_0f35a22d.pdf'
2025-07-13 15:26:44.095 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '4a9d8eb5e2da488db748c5b4d79297d5' (文件: 382-S230168C-A-02 电缆线路路径图.pdf, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-13 15:26:44.095 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '382-S230168C-A-02 电缆线路路径图_0f35a22d.pdf' 与Token关联文件名 '382-S230168C-A-02 电缆线路路径图.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 15:26:44.095 | DEBUG    | core.routing:download_file_via_token:282 - Token '4a9d8eb5e2da488db748c5b4d79297d5' 验证成功。准备下载文件: '382-S230168C-A-02 电缆线路路径图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf', URL文件名: '382-S230168C-A-02 电缆线路路径图_0f35a22d.pdf')
2025-07-13 15:26:44.097 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '4a9d8eb5e2da488db748c5b4d79297d5', URL中的文件名: '382-S230168C-A-02 电缆线路路径图_0f35a22d.pdf'
2025-07-13 15:26:44.097 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '4a9d8eb5e2da488db748c5b4d79297d5' (文件: 382-S230168C-A-02 电缆线路路径图.pdf, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-13 15:26:44.097 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '382-S230168C-A-02 电缆线路路径图_0f35a22d.pdf' 与Token关联文件名 '382-S230168C-A-02 电缆线路路径图.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 15:26:44.098 | DEBUG    | core.routing:download_file_via_token:282 - Token '4a9d8eb5e2da488db748c5b4d79297d5' 验证成功。准备下载文件: '382-S230168C-A-02 电缆线路路径图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf', URL文件名: '382-S230168C-A-02 电缆线路路径图_0f35a22d.pdf')
2025-07-13 15:27:11.803 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:27:11.804 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 15:27:33.507 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:27:33.507 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:27:33.511 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:27:46.822 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: read_project_file with args: {"user": "zhouxiang", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "file_category": "概算书文档", "sheet_name": "汇总表"}
2025-07-13 15:27:46.865 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'zhouxiang', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', Category: '概算书文档'
2025-07-13 15:27:47.000 | WARNING  | my_mcp_tools.mcp_tools:read_project_file:595 - Sheet '汇总表' 在文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx 中未找到。可用Sheets: 封面
签字审批
编制说明
目录
变电站工程总概算表
变电站建筑工程专业汇总概算表
变电站安装工程汇总概算表
建筑部分汇总表（取费）
安装部分汇总表（取费）
变电站建筑工程概算表
变电站安装工程概算表
变电站安装工程概算表（拆除表三）
变电站建筑工程概算表（余物清理表三）
建筑工程取费表
安装工程取费表
变电站工程其他费用概算表
施工图预算管理工程数据收集表
变电站工程建设场地征用及清理费用概算表
建筑主材汇总表
安装主材汇总表
建筑设备汇总表
安装设备汇总表
建设期贷款利息明细表
建筑基准期价差明细表
安装基准期价差明细表
设计费明细表
2025-07-13 15:27:59.314 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:27:59.315 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 15:28:15.985 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:28:15.985 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:28:15.989 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:28:25.733 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: read_project_file with args: {"user": "zhouxiang", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "file_category": "概算书文档", "sheet_name": "变电站工程总概算表"}
2025-07-13 15:28:25.775 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'zhouxiang', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', Category: '概算书文档'
2025-07-13 15:28:25.865 | INFO     | my_mcp_tools.mcp_tools:read_project_file:607 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx成功读取 sheet:变电站工程总概算表（预览100字）:表N.2 变电站工程总概算表								
表一   建设规模：12.6万kVA								金额单位:万元
序号	工程或费用名称	建筑工程费	设备购置费	安装工程费	其他费用	合计	各项占静态投
2025-07-13 15:28:25.865 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx 生成LLM工具下载token 82212a5ddc0140e3aa38368e94f565c0
2025-07-13 15:28:25.865 | INFO     | core.session:update_opened_file:216 - 用户 'zhouxiang' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: 82212a5ddc0140e3aa38368e94f565c0), 有效期至: Sun Jul 13 23:28:25 2025
2025-07-13 15:28:25.909 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/82212a5ddc0140e3aa38368e94f565c0/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-13 15:28:25.915 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '82212a5ddc0140e3aa38368e94f565c0', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_00d67379.xlsx'
2025-07-13 15:28:25.915 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '82212a5ddc0140e3aa38368e94f565c0' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: zhouxiang) 在 working_files 中验证成功。
2025-07-13 15:28:25.915 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_00d67379.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-13 15:28:25.915 | DEBUG    | core.routing:download_file_via_token:282 - Token '82212a5ddc0140e3aa38368e94f565c0' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_00d67379.xlsx')
2025-07-13 15:29:16.422 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:29:16.423 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 15:29:54.000 | DEBUG    | sse_proxy.sse2websocket1:run:320 - 启动OpenAI转发：会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf, 用户: zhouxiang
2025-07-13 15:29:54.000 | DEBUG    | sse_proxy.sse2websocket1:_start:60 - OpenAIWebSocketProxy._start 开始
2025-07-13 15:29:54.005 | DEBUG    | sse_proxy.sse2websocket1:_forward_to_websocket:220 - 进入_forward_to_websocket
2025-07-13 15:30:05.883 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:255 - 执行工具调用: read_project_file with args: {"user": "zhouxiang", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "file_category": "概算书文档", "sheet_name": "变电站安装工程概算表"}
2025-07-13 15:30:05.927 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'zhouxiang', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', Category: '概算书文档'
2025-07-13 15:30:06.029 | INFO     | my_mcp_tools.mcp_tools:read_project_file:607 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx成功读取 sheet:变电站安装工程概算表（预览100字）:表N.5 变电站安装工程概算表												
表三甲												金额单位:元
序号	编制依据	项目名称及规格	单位	数量	单价				合价			
					设备费	装置性材料费	
2025-07-13 15:30:06.030 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx 生成LLM工具下载token d4f3657a2142406b9b1e1f7fc675d72c
2025-07-13 15:30:06.030 | INFO     | core.session:update_opened_file:216 - 用户 'zhouxiang' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (token: d4f3657a2142406b9b1e1f7fc675d72c), 有效期至: Sun Jul 13 23:30:06 2025
2025-07-13 15:30:44.590 | DEBUG    | sse_proxy.sse2websocket1:_start:76 - OpenAIWebSocketProxy._start: 结束
2025-07-13 15:30:44.591 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:295 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/zhouxiang/3215cb69-a81c-41dc-876e-ac1c2bcfeedf.json
2025-07-13 16:28:31.033 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: zhouxiang
2025-07-13 16:28:31.033 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'zhouxiang' (会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf) 因不活动被自动登出。
2025-07-13 16:28:31.033 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'zhouxiang' 的不活动WebSocket连接。
2025-07-13 16:28:31.076 | INFO     | sse_proxy.sse2websocket1:run:325 - WebSocket 会话 3215cb69-a81c-41dc-876e-ac1c2bcfeedf 用户 zhouxiang 断开连接
2025-07-13 16:28:31.076 | DEBUG    | sse_proxy.sse2websocket1:_stop:79 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 18:01:09.144 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3756572 - 服务器关闭中...
2025-07-13 18:01:09.144 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 18:01:09.144 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 18:01:12.151 | INFO     | __main__:<module>:44 - Session Secret Key: ********61b1
2025-07-13 18:01:12.152 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:996d:d426:5b6f:bc23]:8888
2025-07-13 18:01:12.152 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 18:01:12.152 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 18:01:12.154 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 18:01:12.168 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3896240 - 服务器启动中...
2025-07-13 18:01:12.203 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 18:01:12.204 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 18:01:12.210 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 18:01:12.210 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 18:01:12.210 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 18:01:12.211 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 18:01:12.211 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 18:01:12.211 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 18:01:12)
2025-07-13 18:01:12.219 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 18:01:16.705 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 18:01:16, 总耗时: 4.49 秒)
2025-07-13 18:01:16.714 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 18:01:16.714 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 18:01:16.715 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 18:01:16.715 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 18:01:16.716 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 18:01:16.716 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 18:01:16.716 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 18:01:16.716 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 18:01:16.716 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 18:01:16.736 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 18:01:16.737 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 18:01:16.738 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 18:01:16.739 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 18:01:16.740 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 18:01:16.740 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 18:01:16.741 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 18:01:16.741 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 18:01:19.175 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 18:01:19.175 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a) 登录成功。
2025-07-13 18:01:19.397 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a) 的 WebSocket 已连接并关联。
2025-07-13 18:01:19.473 | DEBUG    | sse_proxy.sse2websocket1:run:520 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-13 18:01:27.366 | INFO     | sse_proxy.sse2websocket1:run:536 - 启动OpenAI转发：用户 admin, 会话 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a, 查询: 帮我打开船闸的项目文件
2025-07-13 18:01:30.849 | INFO     | sse_proxy.sse2websocket1:_process_once:435 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-13 18:01:30.849 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:471 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-13 18:01:30.899 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-13 18:01:30.899 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-13 18:01:30.900 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-13 18:01:30.900 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-13 18:01:30.902 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-13 18:01:30.903 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-13 18:01:59.113 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:502 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/9b0a0bf8-ad1f-4a95-8f29-d72647590f9a.json
2025-07-13 18:01:59.113 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 18:01:59.113 | INFO     | sse_proxy.sse2websocket1:run:531 - 用户 admin 会话 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a 请求停止流任务
2025-07-13 18:01:59.113 | INFO     | sse_proxy.sse2websocket1:run:536 - 启动OpenAI转发：用户 admin, 会话 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a, 查询: 打开test.pdf
2025-07-13 18:02:07.200 | INFO     | sse_proxy.sse2websocket1:_process_once:435 - 触发工具调用: [{'id': 'read_project_file:1', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}'}}]
2025-07-13 18:02:07.201 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:471 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}
2025-07-13 18:02:07.245 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', Category: '普通文档'
2025-07-13 18:02:07.246 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf)，分隔符: '	'
2025-07-13 18:02:07.308 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: test.pdf, 内容长度: 721
2025-07-13 18:02:07.309 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf成功读取（预览100字）:2．系统部分
2.0 主要技术方案
2.0.1 系统继电保护
本期工程新架设双回线路开断刘桃园～爱园线，并双回接入前圩变，并将刘
桃园～前圩线改为 T 接至刘桃园~卢廷线，形成 110kV 前圩~爱园
2025-07-13 18:02:07.309 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf 生成LLM工具下载token 0b5cb4abf56042a28fe2fabe9b73df4c
2025-07-13 18:02:07.309 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf' (token: 0b5cb4abf56042a28fe2fabe9b73df4c), 有效期至: Mon Jul 14 02:02:07 2025
2025-07-13 18:02:07.348 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/0b5cb4abf56042a28fe2fabe9b73df4c/test.pdf
2025-07-13 18:02:07.556 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '0b5cb4abf56042a28fe2fabe9b73df4c', URL中的文件名: 'test_11e898de.pdf'
2025-07-13 18:02:07.556 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '0b5cb4abf56042a28fe2fabe9b73df4c' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 18:02:07.556 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_11e898de.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 18:02:07.556 | DEBUG    | core.routing:download_file_via_token:282 - Token '0b5cb4abf56042a28fe2fabe9b73df4c' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_11e898de.pdf')
2025-07-13 18:02:07.558 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '0b5cb4abf56042a28fe2fabe9b73df4c', URL中的文件名: 'test_11e898de.pdf'
2025-07-13 18:02:07.558 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '0b5cb4abf56042a28fe2fabe9b73df4c' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 18:02:07.558 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_11e898de.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 18:02:07.558 | DEBUG    | core.routing:download_file_via_token:282 - Token '0b5cb4abf56042a28fe2fabe9b73df4c' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_11e898de.pdf')
2025-07-13 18:02:42.737 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:502 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/9b0a0bf8-ad1f-4a95-8f29-d72647590f9a.json
2025-07-13 18:10:23.459 | INFO     | sse_proxy.sse2websocket1:run:543 - WebSocket 会话 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a 用户 admin 断开连接
2025-07-13 18:10:23.459 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 18:10:23.459 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-13 19:02:16.741 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-13 19:02:16.741 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 9b0a0bf8-ad1f-4a95-8f29-d72647590f9a) 因不活动被自动登出。
2025-07-13 20:54:08.157 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3896240 - 服务器关闭中...
2025-07-13 20:54:08.158 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 20:54:08.158 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-13 20:54:14.296 | INFO     | __main__:<module>:44 - Session Secret Key: ********8d20
2025-07-13 20:54:14.297 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:996d:d426:5b6f:bc23]:8888
2025-07-13 20:54:14.297 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-13 20:54:14.297 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-13 20:54:14.299 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-13 20:54:14.313 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 4048371 - 服务器启动中...
2025-07-13 20:54:14.348 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-13 20:54:14.348 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-13 20:54:14.354 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-13 20:54:14.354 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-13 20:54:14.354 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-13 20:54:14.354 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-13 20:54:14.355 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-13 20:54:14.355 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-13 20:54:14)
2025-07-13 20:54:14.362 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-13 20:54:18.864 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-13 20:54:18, 总耗时: 4.51 秒)
2025-07-13 20:54:18.873 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-13 20:54:18.873 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-13 20:54:18.873 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-13 20:54:18.873 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-13 20:54:18.875 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-13 20:54:18.875 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-13 20:54:18.875 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-13 20:54:18.876 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-13 20:54:18.876 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-13 20:54:18.894 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-13 20:54:18.895 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-13 20:54:18.896 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-13 20:54:18.897 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-13 20:54:18.898 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-13 20:54:18.898 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-13 20:54:18.898 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-13 20:54:18.898 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-13 20:54:26.040 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 8efde0e1-b7ce-4814-b22c-8cc08e2ea461, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-13 20:54:26.040 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 8efde0e1-b7ce-4814-b22c-8cc08e2ea461) 登录成功。
2025-07-13 20:54:26.253 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 8efde0e1-b7ce-4814-b22c-8cc08e2ea461) 的 WebSocket 已连接并关联。
2025-07-13 20:54:26.326 | DEBUG    | sse_proxy.sse2websocket1:run:531 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-13 20:54:35.356 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 20:54:35.356 | INFO     | sse_proxy.sse2websocket1:run:552 - 启动OpenAI转发：用户 admin, 会话 8efde0e1-b7ce-4814-b22c-8cc08e2ea461, 查询: 帮我打开船闸的项目文件
2025-07-13 20:54:39.878 | INFO     | sse_proxy.sse2websocket1:_process_once:445 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-13 20:54:39.878 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:481 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-13 20:54:39.920 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-13 20:54:39.921 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-13 20:54:39.922 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-13 20:54:39.922 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-13 20:54:39.923 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-13 20:54:39.924 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-13 20:54:47.468 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 20:54:47.468 | INFO     | sse_proxy.sse2websocket1:run:545 - 会话 8efde0e1-b7ce-4814-b22c-8cc08e2ea461 用户 admin 中止响应流任务
2025-07-13 20:54:47.469 | INFO     | sse_proxy.sse2websocket1:_handle_chat_session:403 - 会话 8efde0e1-b7ce-4814-b22c-8cc08e2ea461 被取消
2025-07-13 20:54:47.470 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:512 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/8efde0e1-b7ce-4814-b22c-8cc08e2ea461.json
2025-07-13 20:54:57.882 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 20:54:57.882 | INFO     | sse_proxy.sse2websocket1:run:552 - 启动OpenAI转发：用户 admin, 会话 8efde0e1-b7ce-4814-b22c-8cc08e2ea461, 查询: 读取test.pdf
2025-07-13 20:55:05.773 | INFO     | sse_proxy.sse2websocket1:_process_once:445 - 触发工具调用: [{'id': 'read_project_file:1', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}'}}]
2025-07-13 20:55:05.773 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:481 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}
2025-07-13 20:55:05.820 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', Category: '普通文档'
2025-07-13 20:55:05.820 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf)，分隔符: '	'
2025-07-13 20:55:05.884 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: test.pdf, 内容长度: 721
2025-07-13 20:55:05.884 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf成功读取（预览100字）:2．系统部分
2.0 主要技术方案
2.0.1 系统继电保护
本期工程新架设双回线路开断刘桃园～爱园线，并双回接入前圩变，并将刘
桃园～前圩线改为 T 接至刘桃园~卢廷线，形成 110kV 前圩~爱园
2025-07-13 20:55:05.884 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf 生成LLM工具下载token 83bb9f0893314f3f848f27a490a60872
2025-07-13 20:55:05.885 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf' (token: 83bb9f0893314f3f848f27a490a60872), 有效期至: Mon Jul 14 04:55:05 2025
2025-07-13 20:55:05.922 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/83bb9f0893314f3f848f27a490a60872/test.pdf
2025-07-13 20:55:06.113 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '83bb9f0893314f3f848f27a490a60872', URL中的文件名: 'test_1671af56.pdf'
2025-07-13 20:55:06.113 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '83bb9f0893314f3f848f27a490a60872' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 20:55:06.113 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_1671af56.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 20:55:06.113 | DEBUG    | core.routing:download_file_via_token:282 - Token '83bb9f0893314f3f848f27a490a60872' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_1671af56.pdf')
2025-07-13 20:55:06.115 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '83bb9f0893314f3f848f27a490a60872', URL中的文件名: 'test_1671af56.pdf'
2025-07-13 20:55:06.115 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '83bb9f0893314f3f848f27a490a60872' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-13 20:55:06.115 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 'test_1671af56.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-13 20:55:06.115 | DEBUG    | core.routing:download_file_via_token:282 - Token '83bb9f0893314f3f848f27a490a60872' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_1671af56.pdf')
2025-07-13 20:55:31.375 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:512 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/8efde0e1-b7ce-4814-b22c-8cc08e2ea461.json
2025-07-13 20:55:48.610 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/642b9e4d2ffe412a862480cc257c3c19/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf
2025-07-13 20:55:48.811 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '642b9e4d2ffe412a862480cc257c3c19', URL中的文件名: '382-S230168C-A-09 电缆敷设断面图 Model (1)_a8eee213.pdf'
2025-07-13 20:55:48.811 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '642b9e4d2ffe412a862480cc257c3c19' (文件: 382-S230168C-A-09 电缆敷设断面图 Model (1).pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-13 20:55:48.811 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '382-S230168C-A-09 电缆敷设断面图 Model (1)_a8eee213.pdf' 与Token关联文件名 '382-S230168C-A-09 电缆敷设断面图 Model (1).pdf' 不匹配。将使用Token关联文件名。
2025-07-13 20:55:48.811 | DEBUG    | core.routing:download_file_via_token:282 - Token '642b9e4d2ffe412a862480cc257c3c19' 验证成功。准备下载文件: '382-S230168C-A-09 电缆敷设断面图 Model (1).pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf', URL文件名: '382-S230168C-A-09 电缆敷设断面图 Model (1)_a8eee213.pdf')
2025-07-13 20:55:48.813 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: '642b9e4d2ffe412a862480cc257c3c19', URL中的文件名: '382-S230168C-A-09 电缆敷设断面图 Model (1)_a8eee213.pdf'
2025-07-13 20:55:48.813 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '642b9e4d2ffe412a862480cc257c3c19' (文件: 382-S230168C-A-09 电缆敷设断面图 Model (1).pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-13 20:55:48.814 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '382-S230168C-A-09 电缆敷设断面图 Model (1)_a8eee213.pdf' 与Token关联文件名 '382-S230168C-A-09 电缆敷设断面图 Model (1).pdf' 不匹配。将使用Token关联文件名。
2025-07-13 20:55:48.814 | DEBUG    | core.routing:download_file_via_token:282 - Token '642b9e4d2ffe412a862480cc257c3c19' 验证成功。准备下载文件: '382-S230168C-A-09 电缆敷设断面图 Model (1).pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf', URL文件名: '382-S230168C-A-09 电缆敷设断面图 Model (1)_a8eee213.pdf')
2025-07-13 21:05:33.687 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 21:05:33.687 | INFO     | sse_proxy.sse2websocket1:run:552 - 启动OpenAI转发：用户 admin, 会话 8efde0e1-b7ce-4814-b22c-8cc08e2ea461, 查询: 请读取文件，路径是 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg
2025-07-13 21:05:42.371 | INFO     | sse_proxy.sse2websocket1:_process_once:445 - 触发工具调用: [{'id': 'read_project_file:2', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "file_category": "图纸图形文档"}'}}]
2025-07-13 21:05:42.371 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:481 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "file_category": "图纸图形文档"}
2025-07-13 21:05:42.413 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg', Category: '图纸图形文档'
2025-07-13 21:05:42.413 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:614 - 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg 为llm暂不支持的文件类型。
2025-07-13 21:05:42.414 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg 生成LLM工具下载token ac8b38a71d12412498e5006e8e15af88
2025-07-13 21:05:42.414 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg' (token: ac8b38a71d12412498e5006e8e15af88), 有效期至: Mon Jul 14 05:05:42 2025
2025-07-13 21:05:42.462 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:485 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/ac8b38a71d12412498e5006e8e15af88/382-B230168C-D1-01 电气主接线图.dwg
2025-07-13 21:05:42.468 | DEBUG    | core.routing:download_file_via_token:259 - 接收到下载请求，Token: 'ac8b38a71d12412498e5006e8e15af88', URL中的文件名: '382-B230168C-D1-01 电气主接线图_eb197852.dwg'
2025-07-13 21:05:42.469 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'ac8b38a71d12412498e5006e8e15af88' (文件: 382-B230168C-D1-01 电气主接线图.dwg, 用户: admin) 在 working_files 中验证成功。
2025-07-13 21:05:42.469 | WARNING  | core.routing:download_file_via_token:276 - 下载请求中URL文件名 '382-B230168C-D1-01 电气主接线图_eb197852.dwg' 与Token关联文件名 '382-B230168C-D1-01 电气主接线图.dwg' 不匹配。将使用Token关联文件名。
2025-07-13 21:05:42.469 | DEBUG    | core.routing:download_file_via_token:282 - Token 'ac8b38a71d12412498e5006e8e15af88' 验证成功。准备下载文件: '382-B230168C-D1-01 电气主接线图.dwg' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg', URL文件名: '382-B230168C-D1-01 电气主接线图_eb197852.dwg')
2025-07-13 21:05:54.992 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:512 - 会话历史已保存到: "chat_history" # 会话历史记录的根目录/admin/8efde0e1-b7ce-4814-b22c-8cc08e2ea461.json
2025-07-13 21:48:55.750 | INFO     | sse_proxy.sse2websocket1:run:557 - WebSocket 会话 8efde0e1-b7ce-4814-b22c-8cc08e2ea461 用户 admin 断开连接
2025-07-13 21:48:55.750 | DEBUG    | sse_proxy.sse2websocket1:_stop:396 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-13 21:48:55.750 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-13 21:48:55.851 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 4048371 - 服务器关闭中...
2025-07-13 21:48:55.852 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-13 21:48:55.852 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-14 09:33:57.027 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:44 - Session Secret Key: ********9792
2025-07-14 09:33:57.028 | INFO     | utils.utils:get_host_ipv6_addr:66 - 接口 wlp7s0 上未找到合适的 IPv6 地址。
2025-07-14 09:33:57.028 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[]:8888
2025-07-14 09:33:57.029 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-14 09:33:57.029 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-14 09:33:57.031 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-14 09:33:57.049 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 528862 - 服务器启动中...
2025-07-14 09:33:57.090 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-14 09:33:57.091 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-14 09:33:57.097 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-14 09:33:57.098 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-14 09:33:57.098 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-14 09:33:57.098 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-14 09:33:57.098 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-14 09:33:57.098 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-14 09:33:57)
2025-07-14 09:33:57.473 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-14 09:34:06.609 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-14 09:34:06, 总耗时: 9.51 秒)
2025-07-14 09:34:06.621 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-14 09:34:06.622 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-14 09:34:06.622 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-14 09:34:06.622 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-14 09:34:06.676 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-14 09:34:06.677 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-14 09:34:06.677 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-14 09:34:06.677 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-14 09:34:06.677 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-14 09:34:06.754 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.13 秒。
2025-07-14 09:34:06.756 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-14 09:34:06.756 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-14 09:34:06.758 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-14 09:34:06.759 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-14 09:34:06.759 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-14 09:34:06.759 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-14 09:34:06.759 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-14 09:34:13.301 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: cb367ce4-1327-40db-8eb7-8bd2a8fba504, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-14 09:34:13.302 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: cb367ce4-1327-40db-8eb7-8bd2a8fba504) 登录成功。
2025-07-14 09:34:13.397 | INFO     | utils.utils:get_host_ipv6_addr:66 - 接口 wlp7s0 上未找到合适的 IPv6 地址。
2025-07-14 09:34:13.400 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: cb367ce4-1327-40db-8eb7-8bd2a8fba504) 的 WebSocket 已连接并关联。
2025-07-14 09:34:13.491 | DEBUG    | sse_proxy.sse2websocket1:run:533 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-14 09:34:25.172 | DEBUG    | sse_proxy.sse2websocket1:_stop:398 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-14 09:34:25.172 | INFO     | sse_proxy.sse2websocket1:run:565 - 启动OpenAI转发：用户 admin, 会话 cb367ce4-1327-40db-8eb7-8bd2a8fba504, 对话ID: a16dd885-53ab-417f-9ec1-681a5dc00df2, 查询: 帮我打开船闸的项目文件
2025-07-14 09:34:35.217 | INFO     | sse_proxy.sse2websocket1:_process_once:447 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-14 09:34:35.218 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:483 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-14 09:34:35.261 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-14 09:34:35.261 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-14 09:34:35.263 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-14 09:34:35.263 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-14 09:34:35.264 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-14 09:34:35.265 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-14 09:35:01.704 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:514 - 会话历史已保存到: chat_history/admin/cb367ce4-1327-40db-8eb7-8bd2a8fba504.json
2025-07-14 10:14:52.882 | DEBUG    | sse_proxy.sse2websocket1:_stop:398 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-14 10:14:52.883 | INFO     | sse_proxy.sse2websocket1:run:565 - 启动OpenAI转发：用户 admin, 会话 cb367ce4-1327-40db-8eb7-8bd2a8fba504, 对话ID: a16dd885-53ab-417f-9ec1-681a5dc00df2, 查询: 地球有多大
2025-07-14 10:15:04.196 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:514 - 会话历史已保存到: chat_history/admin/cb367ce4-1327-40db-8eb7-8bd2a8fba504.json
2025-07-14 10:35:06.759 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-14 10:35:06.759 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 cb367ce4-1327-40db-8eb7-8bd2a8fba504) 因不活动被自动登出。
2025-07-14 10:35:06.759 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-14 10:35:06.760 | INFO     | sse_proxy.sse2websocket1:run:570 - WebSocket 会话 cb367ce4-1327-40db-8eb7-8bd2a8fba504 用户 admin 断开连接
2025-07-14 10:35:06.760 | DEBUG    | sse_proxy.sse2websocket1:_stop:398 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-14 10:35:06.761 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:514 - 会话历史已保存到: chat_history/admin/cb367ce4-1327-40db-8eb7-8bd2a8fba504.json
2025-07-14 12:22:36.555 | WARNING  | core.routing:verify_active_session:58 - verify_active_session: 用户 'admin'在SessionStateManager中未找到。可能是会话已过期被清理。
2025-07-14 12:22:36.564 | DEBUG    | core.routing:verify_active_session:51 - verify_active_session: HTTP session中缺少用户名或session_id。
2025-07-14 12:22:45.698 | DEBUG    | core.routing:verify_active_session:51 - verify_active_session: HTTP session中缺少用户名或session_id。
2025-07-14 12:22:45.706 | DEBUG    | core.routing:verify_active_session:51 - verify_active_session: HTTP session中缺少用户名或session_id。
2025-07-14 14:09:19.617 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 528862 - 服务器关闭中...
2025-07-14 14:09:19.618 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-14 14:09:19.618 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-14 14:09:23.191 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-14 14:09:23.191 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-14 14:09:23.191 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-14 14:09:23.191 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-14 14:09:23.192 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-14 14:09:23.192 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-14 14:09:23.192 | INFO     | __main__:<module>:44 - Session Secret Key: ********905d
2025-07-14 14:09:23.192 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:a7a0:adcb:97c8:3e86]:8888
2025-07-14 14:09:23.192 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-14 14:09:23.192 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-14 14:09:23.195 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-14 14:09:23.217 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 795858 - 服务器启动中...
2025-07-14 14:09:23.261 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-14 14:09:23.262 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-14 14:09:23.269 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-14 14:09:23.269 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-14 14:09:23.270 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-14 14:09:23.270 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-14 14:09:23.270 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-14 14:09:23.270 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-14 14:09:23)
2025-07-14 14:09:23.566 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-14 14:09:31.877 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-14 14:09:31, 总耗时: 8.61 秒)
2025-07-14 14:09:31.892 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-14 14:09:31.893 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-14 14:09:31.893 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-14 14:09:31.894 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-14 14:09:31.896 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-14 14:09:31.897 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-14 14:09:31.897 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-14 14:09:31.897 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-14 14:09:31.897 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-14 14:09:31.918 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-14 14:09:31.919 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-14 14:09:31.919 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-14 14:09:31.923 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-14 14:09:31.923 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-14 14:09:31.923 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-14 14:09:31.924 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-14 14:09:31.924 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-14 17:25:52.725 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-14 17:25:52.725 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-14 17:25:52.726 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-14 17:25:52.726 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-14 17:25:52.726 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-14 17:25:52.726 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-14 17:25:52.726 | INFO     | __main__:<module>:44 - Session Secret Key: ********6540
2025-07-14 17:25:52.726 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:a7a0:adcb:97c8:3e86]:8888
2025-07-14 17:25:52.727 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-14 17:25:52.727 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-14 17:25:52.729 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-14 17:25:52.745 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1046171 - 服务器启动中...
2025-07-14 17:25:52.780 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-14 17:25:52.780 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-14 17:25:52.787 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-14 17:25:52.787 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-14 17:25:52.787 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-14 17:25:52.788 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-14 17:25:52.788 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-14 17:25:52.788 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-14 17:25:52)
2025-07-14 17:25:52.796 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-14 17:25:57.520 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-14 17:25:57, 总耗时: 4.73 秒)
2025-07-14 17:25:57.533 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-14 17:25:57.534 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-14 17:25:57.534 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-14 17:25:57.534 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-14 17:25:57.537 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-14 17:25:57.537 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-14 17:25:57.538 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-14 17:25:57.538 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-14 17:25:57.538 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-14 17:25:57.559 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-14 17:25:57.561 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-14 17:25:57.561 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-14 17:25:57.564 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-14 17:25:57.564 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-14 17:25:57.565 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-14 17:25:57.565 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-14 17:25:57.565 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-14 17:26:05.055 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 4de242ff-1f0b-490f-993c-25fa92773a2c, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-14 17:26:05.055 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 4de242ff-1f0b-490f-993c-25fa92773a2c) 登录成功。
2025-07-14 17:26:05.127 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 4de242ff-1f0b-490f-993c-25fa92773a2c) 的 WebSocket 已连接并关联。
2025-07-14 17:26:05.204 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-14 17:26:26.588 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-14 17:26:26.588 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4de242ff-1f0b-490f-993c-25fa92773a2c, 对话ID: f5e79b8c-a67d-4611-abec-a538fc18ffb1, 查询: 告诉我有哪些项目
2025-07-14 17:26:33.380 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "/ALL"}'}}]
2025-07-14 17:26:33.381 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "/ALL"}
2025-07-14 17:26:33.434 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='/ALL', 年份='None'
2025-07-14 17:26:33.435 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 收到全部项目查询请求
2025-07-14 17:27:04.544 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 4de242ff-1f0b-490f-993c-25fa92773a2c) 已从状态管理器登出。
2025-07-14 17:27:04.544 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-14 17:27:04.545 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-14 17:27:04.545 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 4de242ff-1f0b-490f-993c-25fa92773a2c 用户 admin 断开连接
2025-07-14 17:27:04.546 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-14 17:27:04.546 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/4de242ff-1f0b-490f-993c-25fa92773a2c.json
2025-07-15 02:30:00.001 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-15 02:30:00.003 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-15 02:30:00.003 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-15 02:30:00.003 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-15 02:30:00.003 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-15 02:30:00.003 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-15 02:30:00.022 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-15 13:45:37.003 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-15 13:45:37.003 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 13:45:37.003 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 13:45:37.004 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-15 13:45:37.004 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-15 13:45:37.004 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-15 13:45:37.004 | INFO     | __main__:<module>:44 - Session Secret Key: ********9302
2025-07-15 13:45:37.004 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:e1cc:10d1:cc4e:ccd8]:8888
2025-07-15 13:45:37.005 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-15 13:45:37.005 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-15 13:45:37.009 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-15 13:45:37.033 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 14945 - 服务器启动中...
2025-07-15 13:45:37.085 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-15 13:45:37.085 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-15 13:45:37.097 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-15 13:45:37.097 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-15 13:45:37.097 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-15 13:45:37.098 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 13:45:37.098 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-15 13:45:37.098 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-15 13:45:37)
2025-07-15 13:45:38.087 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-15 13:45:48.424 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-15 13:45:48, 总耗时: 11.33 秒)
2025-07-15 13:45:48.435 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 13:45:48.436 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-15 13:45:48.436 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-15 13:45:48.436 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-15 13:45:48.663 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-15 13:45:48.663 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-15 13:45:48.664 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-15 13:45:48.664 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-15 13:45:48.664 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-15 13:45:48.751 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.31 秒。
2025-07-15 13:45:48.752 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-15 13:45:48.752 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-15 13:45:48.755 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-15 13:45:48.756 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-15 13:45:48.756 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-15 13:45:48.757 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-15 13:45:48.757 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-15 13:46:13.810 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 1554a4af-ec7b-440b-90c8-d48db7006402, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 13:46:13.810 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 1554a4af-ec7b-440b-90c8-d48db7006402) 登录成功。
2025-07-15 13:46:16.070 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1554a4af-ec7b-440b-90c8-d48db7006402) 的 WebSocket 已连接并关联。
2025-07-15 13:46:16.163 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 13:46:35.359 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1554a4af-ec7b-440b-90c8-d48db7006402 用户 admin 断开连接
2025-07-15 13:46:35.359 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:46:35.360 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1554a4af-ec7b-440b-90c8-d48db7006402.json
2025-07-15 13:46:35.360 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 13:46:35.444 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1554a4af-ec7b-440b-90c8-d48db7006402) 的 WebSocket 已连接并关联。
2025-07-15 13:46:35.521 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 13:47:10.480 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1554a4af-ec7b-440b-90c8-d48db7006402 用户 admin 断开连接
2025-07-15 13:47:10.481 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:47:10.482 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1554a4af-ec7b-440b-90c8-d48db7006402.json
2025-07-15 13:47:10.482 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 13:47:10.546 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1554a4af-ec7b-440b-90c8-d48db7006402) 的 WebSocket 已连接并关联。
2025-07-15 13:47:10.622 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 13:51:48.608 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 1554a4af-ec7b-440b-90c8-d48db7006402) 已从状态管理器登出。
2025-07-15 13:51:48.609 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 13:51:48.609 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 13:51:48.610 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1554a4af-ec7b-440b-90c8-d48db7006402 用户 admin 断开连接
2025-07-15 13:51:48.610 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:51:48.611 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1554a4af-ec7b-440b-90c8-d48db7006402.json
2025-07-15 13:53:28.307 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 0d3dee78-54aa-4e45-809c-a871934f3ae2, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 13:53:28.307 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 0d3dee78-54aa-4e45-809c-a871934f3ae2) 登录成功。
2025-07-15 13:53:28.370 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 0d3dee78-54aa-4e45-809c-a871934f3ae2) 的 WebSocket 已连接并关联。
2025-07-15 13:53:28.455 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 13:53:33.541 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 0d3dee78-54aa-4e45-809c-a871934f3ae2 用户 admin 断开连接
2025-07-15 13:53:33.541 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:53:33.542 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/0d3dee78-54aa-4e45-809c-a871934f3ae2.json
2025-07-15 13:53:33.542 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 13:53:33.600 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 0d3dee78-54aa-4e45-809c-a871934f3ae2) 的 WebSocket 已连接并关联。
2025-07-15 13:53:33.692 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 13:53:42.808 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 0d3dee78-54aa-4e45-809c-a871934f3ae2 用户 admin 断开连接
2025-07-15 13:53:42.808 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:53:42.809 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/0d3dee78-54aa-4e45-809c-a871934f3ae2.json
2025-07-15 13:53:42.809 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 13:53:42.909 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 14945 - 服务器关闭中...
2025-07-15 13:53:42.909 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-15 13:53:42.909 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-15 13:53:46.586 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:44 - Session Secret Key: ********d0e8
2025-07-15 13:53:46.587 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:e1cc:10d1:cc4e:ccd8]:8888
2025-07-15 13:53:46.588 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-15 13:53:46.588 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-15 13:53:46.590 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-15 13:53:46.606 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 22886 - 服务器启动中...
2025-07-15 13:53:46.641 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-15 13:53:46.641 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-15 13:53:46.647 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-15 13:53:46.648 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-15 13:53:46.648 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-15 13:53:46.648 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 13:53:46.648 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-15 13:53:46.648 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-15 13:53:46)
2025-07-15 13:53:46.657 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-15 13:53:51.317 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-15 13:53:51, 总耗时: 4.67 秒)
2025-07-15 13:53:51.328 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 13:53:51.328 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-15 13:53:51.328 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-15 13:53:51.329 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-15 13:53:51.330 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-15 13:53:51.330 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-15 13:53:51.331 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-15 13:53:51.331 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-15 13:53:51.331 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-15 13:53:51.350 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-15 13:53:51.352 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-15 13:53:51.352 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-15 13:53:51.354 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-15 13:53:51.355 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-15 13:53:51.355 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-15 13:53:51.355 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-15 13:53:51.355 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-15 13:54:01.550 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 4f5e6ef6-19af-48af-972d-f6f9ff1512b6, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 13:54:01.550 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 4f5e6ef6-19af-48af-972d-f6f9ff1512b6) 登录成功。
2025-07-15 13:54:01.687 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 4f5e6ef6-19af-48af-972d-f6f9ff1512b6) 的 WebSocket 已连接并关联。
2025-07-15 13:54:01.765 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 13:54:05.724 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:54:05.724 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4f5e6ef6-19af-48af-972d-f6f9ff1512b6, 对话ID: f6329a1c-e027-4f35-9fe4-006327a8ab5b, 查询: 你好
2025-07-15 13:54:27.079 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 13:54:27.079 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4f5e6ef6-19af-48af-972d-f6f9ff1512b6, 对话ID: f6329a1c-e027-4f35-9fe4-006327a8ab5b, 查询: 帮我打开船闸的项目文件
2025-07-15 13:54:33.101 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-15 13:54:33.101 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-15 13:54:33.150 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-15 13:54:33.151 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-15 13:54:33.152 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-15 13:54:33.152 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-15 13:54:33.155 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-15 13:54:33.156 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-15 13:54:41.206 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:489 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/8e041976456a4aa492c35e8000d1fce3/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-15 13:54:41.207 | ERROR    | core.routing:kkfileview_preview_encoder_proxy:528 - 代理 kkFileView 预览请求失败 (用户 'admin', 原始目标 URL: http://host.docker.internal:8888/download/8e041976456a4aa492c35e8000d1fce3/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_ee5aad37.docx): All connection attempts failed
2025-07-15 13:55:16.127 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:489 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/63e3fb463a4c40cfaff654dd3c91d272/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf
2025-07-15 13:55:16.632 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: '63e3fb463a4c40cfaff654dd3c91d272', URL中的文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_66356555.pdf'
2025-07-15 13:55:16.633 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '63e3fb463a4c40cfaff654dd3c91d272' (文件: 382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 13:55:16.633 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_66356555.pdf' 与Token关联文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 13:55:16.633 | DEBUG    | core.routing:download_file_via_token:283 - Token '63e3fb463a4c40cfaff654dd3c91d272' 验证成功。准备下载文件: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf', URL文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_66356555.pdf')
2025-07-15 13:55:16.638 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: '63e3fb463a4c40cfaff654dd3c91d272', URL中的文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_66356555.pdf'
2025-07-15 13:55:16.638 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '63e3fb463a4c40cfaff654dd3c91d272' (文件: 382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 13:55:16.638 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_66356555.pdf' 与Token关联文件名 '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 13:55:16.638 | DEBUG    | core.routing:download_file_via_token:283 - Token '63e3fb463a4c40cfaff654dd3c91d272' 验证成功。准备下载文件: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf', URL文件名: '382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715_66356555.pdf')
2025-07-15 13:56:09.386 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:489 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/f812f34faa6e4b4bbd965c5c696b49f4/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf
2025-07-15 13:56:09.562 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: 'f812f34faa6e4b4bbd965c5c696b49f4', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_00535a65.pdf'
2025-07-15 13:56:09.562 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'f812f34faa6e4b4bbd965c5c696b49f4' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 13:56:09.562 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_00535a65.pdf' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 13:56:09.562 | DEBUG    | core.routing:download_file_via_token:283 - Token 'f812f34faa6e4b4bbd965c5c696b49f4' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_00535a65.pdf')
2025-07-15 13:56:09.565 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: 'f812f34faa6e4b4bbd965c5c696b49f4', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_00535a65.pdf'
2025-07-15 13:56:09.565 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'f812f34faa6e4b4bbd965c5c696b49f4' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 13:56:09.565 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_00535a65.pdf' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 13:56:09.565 | DEBUG    | core.routing:download_file_via_token:283 - Token 'f812f34faa6e4b4bbd965c5c696b49f4' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_00535a65.pdf')
2025-07-15 13:56:18.033 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:489 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/ef891051a5fd44b2b46afd1fcd364c33/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-15 13:56:18.042 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: 'ef891051a5fd44b2b46afd1fcd364c33', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_d3e5d384.xlsx'
2025-07-15 13:56:18.042 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'ef891051a5fd44b2b46afd1fcd364c33' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 13:56:18.042 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书_d3e5d384.xlsx' 与Token关联文件名 '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' 不匹配。将使用Token关联文件名。
2025-07-15 13:56:18.042 | DEBUG    | core.routing:download_file_via_token:283 - Token 'ef891051a5fd44b2b46afd1fcd364c33' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书_d3e5d384.xlsx')
2025-07-15 14:56:51.357 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-15 14:56:51.357 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 4f5e6ef6-19af-48af-972d-f6f9ff1512b6) 因不活动被自动登出。
2025-07-15 14:56:51.357 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-15 14:56:51.358 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 4f5e6ef6-19af-48af-972d-f6f9ff1512b6 用户 admin 断开连接
2025-07-15 14:56:51.358 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 14:56:51.359 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/4f5e6ef6-19af-48af-972d-f6f9ff1512b6.json
2025-07-15 15:51:22.156 | WARNING  | core.routing:verify_active_session:58 - verify_active_session: 用户 'admin'在SessionStateManager中未找到。可能是会话已过期被清理。
2025-07-15 15:51:26.086 | WARNING  | core.routing:verify_active_session:58 - verify_active_session: 用户 'admin'在SessionStateManager中未找到。可能是会话已过期被清理。
2025-07-15 15:51:34.419 | DEBUG    | core.routing:verify_active_session:51 - verify_active_session: HTTP session中缺少用户名或session_id。
2025-07-15 15:51:46.284 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 4cb01c93-ef42-461b-bc25-9a53549c9605, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 15:51:46.284 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: 4cb01c93-ef42-461b-bc25-9a53549c9605) 登录成功。
2025-07-15 15:51:46.296 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 4cb01c93-ef42-461b-bc25-9a53549c9605) 的 WebSocket 已连接并关联。
2025-07-15 15:51:46.377 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:04:37.610 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 4cb01c93-ef42-461b-bc25-9a53549c9605 用户 zhouxiang 断开连接
2025-07-15 16:04:37.610 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:04:37.611 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/4cb01c93-ef42-461b-bc25-9a53549c9605.json
2025-07-15 16:04:37.612 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-15 16:04:37.648 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 4cb01c93-ef42-461b-bc25-9a53549c9605) 的 WebSocket 已连接并关联。
2025-07-15 16:04:37.731 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:04:40.064 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 4cb01c93-ef42-461b-bc25-9a53549c9605) 已从状态管理器登出。
2025-07-15 16:04:40.064 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 16:04:40.064 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 16:04:40.065 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 4cb01c93-ef42-461b-bc25-9a53549c9605 用户 zhouxiang 断开连接
2025-07-15 16:04:40.065 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:04:40.066 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/4cb01c93-ef42-461b-bc25-9a53549c9605.json
2025-07-15 16:04:41.825 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 74740558-caf9-42da-bc51-5da2ece3f3d2, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 16:04:41.825 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 74740558-caf9-42da-bc51-5da2ece3f3d2) 登录成功。
2025-07-15 16:04:41.867 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 74740558-caf9-42da-bc51-5da2ece3f3d2) 的 WebSocket 已连接并关联。
2025-07-15 16:04:41.953 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:04:43.095 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 74740558-caf9-42da-bc51-5da2ece3f3d2) 已从状态管理器登出。
2025-07-15 16:04:43.095 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 16:04:43.095 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 16:04:43.096 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 74740558-caf9-42da-bc51-5da2ece3f3d2 用户 admin 断开连接
2025-07-15 16:04:43.096 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:04:43.097 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/74740558-caf9-42da-bc51-5da2ece3f3d2.json
2025-07-15 16:04:44.952 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 173548dd-abdc-4e78-bda4-d71eab3e83e8, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 16:04:44.952 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 173548dd-abdc-4e78-bda4-d71eab3e83e8) 登录成功。
2025-07-15 16:04:44.987 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 173548dd-abdc-4e78-bda4-d71eab3e83e8) 的 WebSocket 已连接并关联。
2025-07-15 16:04:45.067 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:22:44.297 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 173548dd-abdc-4e78-bda4-d71eab3e83e8) 已从状态管理器登出。
2025-07-15 16:22:44.298 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 16:22:44.298 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 16:22:44.299 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 173548dd-abdc-4e78-bda4-d71eab3e83e8 用户 admin 断开连接
2025-07-15 16:22:44.299 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:22:44.300 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/173548dd-abdc-4e78-bda4-d71eab3e83e8.json
2025-07-15 16:39:33.349 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 16:39:33.349 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 登录成功。
2025-07-15 16:39:33.404 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 的 WebSocket 已连接并关联。
2025-07-15 16:39:33.486 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:40:01.480 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 用户 admin 断开连接
2025-07-15 16:40:01.481 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:40:01.482 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/6456b9bf-ed4d-42a1-ac33-82b43a0766fe.json
2025-07-15 16:40:01.482 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:40:01.511 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 的 WebSocket 已连接并关联。
2025-07-15 16:40:01.589 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:40:02.734 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 用户 admin 断开连接
2025-07-15 16:40:02.735 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:40:02.736 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/6456b9bf-ed4d-42a1-ac33-82b43a0766fe.json
2025-07-15 16:40:02.736 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:40:02.772 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 的 WebSocket 已连接并关联。
2025-07-15 16:40:02.864 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:40:03.825 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 用户 admin 断开连接
2025-07-15 16:40:03.825 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:40:03.826 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/6456b9bf-ed4d-42a1-ac33-82b43a0766fe.json
2025-07-15 16:40:03.826 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:40:03.847 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 的 WebSocket 已连接并关联。
2025-07-15 16:40:03.931 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:40:23.903 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 最近有HTTP活动。
2025-07-15 16:40:23.903 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'6456b9bf-ed4d-42a1-ac33-82b43a0766fe' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: da694285-86b7-4b50-9165-7b1976f2b8f6。
2025-07-15 16:40:23.903 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 16:40:30.950 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: da694285-86b7-4b50-9165-7b1976f2b8f6, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 16:40:30.951 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: da694285-86b7-4b50-9165-7b1976f2b8f6) 登录成功。
2025-07-15 16:40:31.128 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: da694285-86b7-4b50-9165-7b1976f2b8f6) 的 WebSocket 已连接并关联。
2025-07-15 16:40:31.220 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:41:00.581 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 da694285-86b7-4b50-9165-7b1976f2b8f6 用户 zhouxiang 断开连接
2025-07-15 16:41:00.581 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:41:00.582 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/da694285-86b7-4b50-9165-7b1976f2b8f6.json
2025-07-15 16:41:00.582 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-15 16:41:46.090 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 用户 admin 断开连接
2025-07-15 16:41:46.090 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:41:46.091 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/6456b9bf-ed4d-42a1-ac33-82b43a0766fe.json
2025-07-15 16:41:46.091 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:41:46.115 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 的 WebSocket 已连接并关联。
2025-07-15 16:41:46.196 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:41:47.025 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 用户 admin 断开连接
2025-07-15 16:41:47.025 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:41:47.026 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/6456b9bf-ed4d-42a1-ac33-82b43a0766fe.json
2025-07-15 16:41:47.026 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:41:47.047 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 的 WebSocket 已连接并关联。
2025-07-15 16:41:47.133 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:41:48.698 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 6456b9bf-ed4d-42a1-ac33-82b43a0766fe) 已从状态管理器登出。
2025-07-15 16:41:48.698 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 16:41:48.699 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 16:41:48.699 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 6456b9bf-ed4d-42a1-ac33-82b43a0766fe 用户 admin 断开连接
2025-07-15 16:41:48.700 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:41:48.700 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/6456b9bf-ed4d-42a1-ac33-82b43a0766fe.json
2025-07-15 16:42:19.939 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: da694285-86b7-4b50-9165-7b1976f2b8f6) 的 WebSocket 已连接并关联。
2025-07-15 16:42:20.112 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:42:52.611 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 7ab48825-c8bb-4daa-a22a-6247bfbb2256, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 16:42:52.611 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 7ab48825-c8bb-4daa-a22a-6247bfbb2256) 登录成功。
2025-07-15 16:42:52.650 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 7ab48825-c8bb-4daa-a22a-6247bfbb2256) 的 WebSocket 已连接并关联。
2025-07-15 16:42:52.739 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:44:01.143 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 用户 admin 断开连接
2025-07-15 16:44:01.143 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:44:01.144 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/7ab48825-c8bb-4daa-a22a-6247bfbb2256.json
2025-07-15 16:44:01.144 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:44:01.175 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 7ab48825-c8bb-4daa-a22a-6247bfbb2256) 的 WebSocket 已连接并关联。
2025-07-15 16:44:01.254 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:44:12.064 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 用户 admin 断开连接
2025-07-15 16:44:12.064 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:44:12.065 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/7ab48825-c8bb-4daa-a22a-6247bfbb2256.json
2025-07-15 16:44:12.065 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:44:15.512 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 da694285-86b7-4b50-9165-7b1976f2b8f6 用户 zhouxiang 断开连接
2025-07-15 16:44:15.512 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:44:15.513 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/da694285-86b7-4b50-9165-7b1976f2b8f6.json
2025-07-15 16:44:15.514 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-15 16:44:17.827 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: da694285-86b7-4b50-9165-7b1976f2b8f6) 的 WebSocket 已连接并关联。
2025-07-15 16:44:17.913 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:44:21.105 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 da694285-86b7-4b50-9165-7b1976f2b8f6 用户 zhouxiang 断开连接
2025-07-15 16:44:21.106 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:44:21.106 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/da694285-86b7-4b50-9165-7b1976f2b8f6.json
2025-07-15 16:44:21.107 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-15 16:44:21.147 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: da694285-86b7-4b50-9165-7b1976f2b8f6) 的 WebSocket 已连接并关联。
2025-07-15 16:44:21.226 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:44:22.409 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: da694285-86b7-4b50-9165-7b1976f2b8f6) 已从状态管理器登出。
2025-07-15 16:44:22.409 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 16:44:22.410 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 16:44:22.410 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 da694285-86b7-4b50-9165-7b1976f2b8f6 用户 zhouxiang 断开连接
2025-07-15 16:44:22.410 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:44:22.411 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/da694285-86b7-4b50-9165-7b1976f2b8f6.json
2025-07-15 16:44:25.516 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 最近有HTTP活动。
2025-07-15 16:44:25.516 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'7ab48825-c8bb-4daa-a22a-6247bfbb2256' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: 083112e7-56f9-4dfd-a853-0edbe023fb87。
2025-07-15 16:44:25.516 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 16:44:50.401 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 7ab48825-c8bb-4daa-a22a-6247bfbb2256) 的 WebSocket 已连接并关联。
2025-07-15 16:44:50.479 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:45:14.953 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:45:14.954 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256, 对话ID: ba2d0f20-7096-443c-8149-7005494f3c54, 查询: hello
2025-07-15 16:46:15.086 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 用户 admin 断开连接
2025-07-15 16:46:15.086 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:46:15.087 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/7ab48825-c8bb-4daa-a22a-6247bfbb2256.json
2025-07-15 16:46:15.087 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 16:46:16.177 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 最近有HTTP活动。
2025-07-15 16:46:16.177 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'7ab48825-c8bb-4daa-a22a-6247bfbb2256' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: ead69c89-486a-4b77-97a0-dae3da6c0fbe。
2025-07-15 16:46:16.177 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 16:46:23.296 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: ead69c89-486a-4b77-97a0-dae3da6c0fbe, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 16:46:23.296 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: ead69c89-486a-4b77-97a0-dae3da6c0fbe) 登录成功。
2025-07-15 16:46:27.515 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: ead69c89-486a-4b77-97a0-dae3da6c0fbe) 的 WebSocket 已连接并关联。
2025-07-15 16:46:27.592 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 16:48:05.455 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:48:05.455 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 zhouxiang, 会话 ead69c89-486a-4b77-97a0-dae3da6c0fbe, 对话ID: 3d050851-c81b-4e1a-9340-2cbdb4844713, 查询: 帮我打开品祚的项目文件爱你
2025-07-15 16:48:13.578 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "zhouxiang", "project_name": "品祚"}'}}]
2025-07-15 16:48:13.578 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "zhouxiang", "project_name": "品祚"}
2025-07-15 16:48:13.623 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='品祚', 年份='None'
2025-07-15 16:48:13.623 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '品祚', 年份: None
2025-07-15 16:48:13.624 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['扬州品祚扩主变']
2025-07-15 16:48:13.624 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '扬州品祚扩主变'
2025-07-15 16:48:13.625 | INFO     | core.session:update_opened_dir:268 - 用户 'zhouxiang' 的工作目录已更新为 '扬州品祚扩主变'，包含 20 个文件。
2025-07-15 16:48:13.626 | INFO     | core.session:update_opened_dir:292 - 已向用户 'zhouxiang' 发送工作目录更新通知。
2025-07-15 16:48:20.187 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:489 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/12d19f9de4354355bd367b0ca1a2e68e/320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf
2025-07-15 16:48:20.498 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: '12d19f9de4354355bd367b0ca1a2e68e', URL中的文件名: '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）_da972550.pdf'
2025-07-15 16:48:20.498 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '12d19f9de4354355bd367b0ca1a2e68e' (文件: 320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-15 16:48:20.498 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）_da972550.pdf' 与Token关联文件名 '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 16:48:20.498 | DEBUG    | core.routing:download_file_via_token:283 - Token '12d19f9de4354355bd367b0ca1a2e68e' 验证成功。准备下载文件: '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/扬州品祚扩主变/送审/320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf', URL文件名: '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）_da972550.pdf')
2025-07-15 16:48:20.500 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: '12d19f9de4354355bd367b0ca1a2e68e', URL中的文件名: '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）_da972550.pdf'
2025-07-15 16:48:20.500 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '12d19f9de4354355bd367b0ca1a2e68e' (文件: 320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-15 16:48:20.500 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）_da972550.pdf' 与Token关联文件名 '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 16:48:20.500 | DEBUG    | core.routing:download_file_via_token:283 - Token '12d19f9de4354355bd367b0ca1a2e68e' 验证成功。准备下载文件: '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/扬州品祚扩主变/送审/320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）.pdf', URL文件名: '320-B6411C-A-03 2023年本工程周边220kV电网接线图（签名件）_da972550.pdf')
2025-07-15 16:48:56.042 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:489 - 用户 'zhouxiang' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/6cee145e4428447c9fcd6a36570733c0/320-B6411C-A-05 电气主接线图（签名件）.pdf
2025-07-15 16:48:56.182 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: '6cee145e4428447c9fcd6a36570733c0', URL中的文件名: '320-B6411C-A-05 电气主接线图（签名件）_46bd1763.pdf'
2025-07-15 16:48:56.182 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '6cee145e4428447c9fcd6a36570733c0' (文件: 320-B6411C-A-05 电气主接线图（签名件）.pdf, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-15 16:48:56.182 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '320-B6411C-A-05 电气主接线图（签名件）_46bd1763.pdf' 与Token关联文件名 '320-B6411C-A-05 电气主接线图（签名件）.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 16:48:56.182 | DEBUG    | core.routing:download_file_via_token:283 - Token '6cee145e4428447c9fcd6a36570733c0' 验证成功。准备下载文件: '320-B6411C-A-05 电气主接线图（签名件）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/扬州品祚扩主变/送审/320-B6411C-A-05 电气主接线图（签名件）.pdf', URL文件名: '320-B6411C-A-05 电气主接线图（签名件）_46bd1763.pdf')
2025-07-15 16:48:56.184 | DEBUG    | core.routing:download_file_via_token:260 - 接收到下载请求，Token: '6cee145e4428447c9fcd6a36570733c0', URL中的文件名: '320-B6411C-A-05 电气主接线图（签名件）_46bd1763.pdf'
2025-07-15 16:48:56.184 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '6cee145e4428447c9fcd6a36570733c0' (文件: 320-B6411C-A-05 电气主接线图（签名件）.pdf, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-15 16:48:56.184 | WARNING  | core.routing:download_file_via_token:277 - 下载请求中URL文件名 '320-B6411C-A-05 电气主接线图（签名件）_46bd1763.pdf' 与Token关联文件名 '320-B6411C-A-05 电气主接线图（签名件）.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 16:48:56.184 | DEBUG    | core.routing:download_file_via_token:283 - Token '6cee145e4428447c9fcd6a36570733c0' 验证成功。准备下载文件: '320-B6411C-A-05 电气主接线图（签名件）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/扬州品祚扩主变/送审/320-B6411C-A-05 电气主接线图（签名件）.pdf', URL文件名: '320-B6411C-A-05 电气主接线图（签名件）_46bd1763.pdf')
2025-07-15 16:59:15.953 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: ead69c89-486a-4b77-97a0-dae3da6c0fbe) 已从状态管理器登出。
2025-07-15 16:59:15.953 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 16:59:15.954 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 16:59:15.954 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 ead69c89-486a-4b77-97a0-dae3da6c0fbe 用户 zhouxiang 断开连接
2025-07-15 16:59:15.954 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 16:59:15.955 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/ead69c89-486a-4b77-97a0-dae3da6c0fbe.json
2025-07-15 16:59:26.772 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 最近有HTTP活动。
2025-07-15 16:59:26.772 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'7ab48825-c8bb-4daa-a22a-6247bfbb2256' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: 083112e7-56f9-4dfd-a853-0edbe023fb87。
2025-07-15 16:59:26.772 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 17:00:04.695 | WARNING  | core.routing:login:103 - 登录尝试失败: 用户名或密码错误 for 'zhouiang,Zhangying139 user_db_entry:None' (来自 IP: 127.0.0.1)
2025-07-15 17:00:18.538 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 083112e7-56f9-4dfd-a853-0edbe023fb87, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 17:00:18.538 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: 083112e7-56f9-4dfd-a853-0edbe023fb87) 登录成功。
2025-07-15 17:00:18.657 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 083112e7-56f9-4dfd-a853-0edbe023fb87) 的 WebSocket 已连接并关联。
2025-07-15 17:00:18.735 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 17:03:33.472 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 083112e7-56f9-4dfd-a853-0edbe023fb87) 已从状态管理器登出。
2025-07-15 17:03:33.472 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 17:03:33.473 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 17:03:33.473 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 083112e7-56f9-4dfd-a853-0edbe023fb87 用户 zhouxiang 断开连接
2025-07-15 17:03:33.473 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 17:03:33.474 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/083112e7-56f9-4dfd-a853-0edbe023fb87.json
2025-07-15 17:03:54.473 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 最近有HTTP活动。
2025-07-15 17:03:54.473 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'7ab48825-c8bb-4daa-a22a-6247bfbb2256' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: 64e238ab-34da-42d0-8416-25d057fb2bb5。
2025-07-15 17:03:54.473 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 17:04:17.184 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 64e238ab-34da-42d0-8416-25d057fb2bb5, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 17:04:17.184 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: 64e238ab-34da-42d0-8416-25d057fb2bb5) 登录成功。
2025-07-15 17:04:17.288 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 64e238ab-34da-42d0-8416-25d057fb2bb5) 的 WebSocket 已连接并关联。
2025-07-15 17:04:17.373 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 17:05:37.398 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 64e238ab-34da-42d0-8416-25d057fb2bb5) 已从状态管理器登出。
2025-07-15 17:05:37.398 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 17:05:37.399 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 17:05:37.399 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 64e238ab-34da-42d0-8416-25d057fb2bb5 用户 zhouxiang 断开连接
2025-07-15 17:05:37.399 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 17:05:37.400 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/64e238ab-34da-42d0-8416-25d057fb2bb5.json
2025-07-15 17:05:58.359 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 最近有HTTP活动。
2025-07-15 17:05:58.360 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'7ab48825-c8bb-4daa-a22a-6247bfbb2256' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: 39726abc-2ff8-4337-a975-861fe35f5a90。
2025-07-15 17:05:58.360 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 17:06:06.695 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 39726abc-2ff8-4337-a975-861fe35f5a90, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 17:06:06.695 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 127.0.0.1, Session: 39726abc-2ff8-4337-a975-861fe35f5a90) 登录成功。
2025-07-15 17:06:08.464 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 39726abc-2ff8-4337-a975-861fe35f5a90) 的 WebSocket 已连接并关联。
2025-07-15 17:06:08.551 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 17:08:16.129 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 39726abc-2ff8-4337-a975-861fe35f5a90) 已从状态管理器登出。
2025-07-15 17:08:16.129 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 17:08:16.129 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 17:08:16.130 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 39726abc-2ff8-4337-a975-861fe35f5a90 用户 zhouxiang 断开连接
2025-07-15 17:08:16.130 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 17:08:16.131 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/39726abc-2ff8-4337-a975-861fe35f5a90.json
2025-07-15 17:08:24.299 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 7ab48825-c8bb-4daa-a22a-6247bfbb2256 最近有HTTP活动。
2025-07-15 17:08:24.299 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'7ab48825-c8bb-4daa-a22a-6247bfbb2256' (IP: 127.0.0.1) 活动。新尝试来自 IP: 127.0.0.1, 会话: fcff17af-87e8-4298-8027-017b3ad83195。
2025-07-15 17:08:24.299 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 127.0.0.1) 因排他性登录控制被拒绝。
2025-07-15 17:08:33.186 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 22886 - 服务器关闭中...
2025-07-15 17:08:33.187 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-15 17:08:33.187 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-15 17:08:38.442 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-15 17:08:38.442 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 17:08:38.443 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 17:08:38.443 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-15 17:08:38.443 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-15 17:08:38.443 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-15 17:08:38.443 | INFO     | __main__:<module>:44 - Session Secret Key: ********8cee
2025-07-15 17:08:38.443 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:e1cc:10d1:cc4e:ccd8]:8888
2025-07-15 17:08:38.444 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-15 17:08:38.444 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-15 17:08:38.446 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-15 17:08:38.462 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 239956 - 服务器启动中...
2025-07-15 17:08:38.499 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-15 17:08:38.499 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-15 17:08:38.506 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-15 17:08:38.506 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-15 17:08:38.506 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-15 17:08:38.507 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 17:08:38.507 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-15 17:08:38.507 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-15 17:08:38)
2025-07-15 17:08:38.515 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-15 17:08:43.110 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-15 17:08:43, 总耗时: 4.60 秒)
2025-07-15 17:08:43.121 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 17:08:43.121 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-15 17:08:43.121 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-15 17:08:43.121 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-15 17:08:43.124 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-15 17:08:43.124 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-15 17:08:43.124 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-15 17:08:43.124 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-15 17:08:43.124 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 6 个符合条件的文件需要处理。
2025-07-15 17:08:43.144 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.02 秒。
2025-07-15 17:08:43.145 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-15 17:08:43.145 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-15 17:08:43.147 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-15 17:08:43.148 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-15 17:08:43.148 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-15 17:08:43.149 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-15 17:08:43.149 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-15 17:08:44.955 | DEBUG    | core.routing:verify_active_session:51 - verify_active_session: HTTP session中缺少用户名或session_id。
2025-07-15 17:09:10.463 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: bd32dd6c-39e6-4fed-901f-969c26fc18a0, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 17:09:10.463 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: bd32dd6c-39e6-4fed-901f-969c26fc18a0) 登录成功。
2025-07-15 17:09:10.520 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: bd32dd6c-39e6-4fed-901f-969c26fc18a0) 的 WebSocket 已连接并关联。
2025-07-15 17:09:10.612 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 17:20:33.643 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: bd32dd6c-39e6-4fed-901f-969c26fc18a0) 已从状态管理器登出。
2025-07-15 17:20:33.643 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 17:20:33.643 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 17:20:33.644 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 bd32dd6c-39e6-4fed-901f-969c26fc18a0 用户 admin 断开连接
2025-07-15 17:20:33.644 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 17:20:33.645 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/bd32dd6c-39e6-4fed-901f-969c26fc18a0.json
2025-07-15 17:20:45.373 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: ffeed9e6-a480-4ecf-b695-eb691f9d407a, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-15 17:20:45.373 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: ffeed9e6-a480-4ecf-b695-eb691f9d407a) 登录成功。
2025-07-15 17:20:47.226 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: ffeed9e6-a480-4ecf-b695-eb691f9d407a) 的 WebSocket 已连接并关联。
2025-07-15 17:20:47.323 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 17:21:22.765 | INFO     | core.routing:handle_spec_upload:386 - 用户 'admin' 开始上传规程 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范'。目标: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范' (覆盖: False)。
2025-07-15 17:21:22.775 | INFO     | core.routing:handle_spec_upload:406 - 规程文件已上传至 '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范'。开始索引...
2025-07-15 17:21:22.775 | INFO     | database.specbase:add_spec_directory:221 - 开始按需索引目录: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范
2025-07-15 17:21:22.775 | DEBUG    | database.specbase:add_spec_directory:233 - 开始按需索引目录: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范, 1 个文件。
2025-07-15 17:21:22.783 | INFO     | database.specbase:add_spec_directory:238 - 目录 /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范 的按需索引完成。
2025-07-15 17:28:11.028 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 ffeed9e6-a480-4ecf-b695-eb691f9d407a 用户 admin 断开连接
2025-07-15 17:28:11.028 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 17:28:11.029 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/ffeed9e6-a480-4ecf-b695-eb691f9d407a.json
2025-07-15 17:28:11.029 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 17:28:11.128 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 239956 - 服务器关闭中...
2025-07-15 17:28:11.129 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-15 17:28:11.129 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-15 21:12:29.540 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-15 21:12:29.540 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 21:12:29.540 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 21:12:29.540 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-15 21:12:29.540 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-15 21:12:29.540 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-15 21:12:29.541 | INFO     | __main__:<module>:44 - Session Secret Key: ********c71e
2025-07-15 21:12:29.541 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:e1cc:10d1:cc4e:ccd8]:8888
2025-07-15 21:12:29.541 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-15 21:12:29.541 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-15 21:12:29.544 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-15 21:12:29.565 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 509563 - 服务器启动中...
2025-07-15 21:12:29.606 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-15 21:12:29.607 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-15 21:12:29.614 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-15 21:12:29.614 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-15 21:12:29.614 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-15 21:12:29.614 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-15 21:12:29.615 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-15 21:12:29.615 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-15 21:12:29)
2025-07-15 21:12:29.622 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-15 21:12:34.458 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-15 21:12:34, 总耗时: 4.84 秒)
2025-07-15 21:12:34.468 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-15 21:12:34.468 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-15 21:12:34.469 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-15 21:12:34.469 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-15 21:12:34.472 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-15 21:12:34.472 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-15 21:12:34.472 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-15 21:12:34.472 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-15 21:12:34.472 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-15 21:12:34.500 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-15 21:12:34.501 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-15 21:12:34.501 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-15 21:12:34.503 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-15 21:12:34.504 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-15 21:12:34.504 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-15 21:12:34.504 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-15 21:12:34.504 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-15 21:13:08.405 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 33229a1e-e085-4d9c-ac3a-7490acd05bf2, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:13:08.405 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 33229a1e-e085-4d9c-ac3a-7490acd05bf2) 登录成功。
2025-07-15 21:13:59.259 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 33229a1e-e085-4d9c-ac3a-7490acd05bf2) 已从状态管理器登出。
2025-07-15 21:13:59.259 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:14:16.654 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 67234d28-d115-4dd6-b31f-ee8af028adf4, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:14:16.654 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 67234d28-d115-4dd6-b31f-ee8af028adf4) 登录成功。
2025-07-15 21:22:30.565 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 67234d28-d115-4dd6-b31f-ee8af028adf4) 已从状态管理器登出。
2025-07-15 21:22:30.565 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:22:32.775 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:22:32.775 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6) 登录成功。
2025-07-15 21:22:38.494 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6) 的 WebSocket 已连接并关联。
2025-07-15 21:22:38.565 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:23:20.555 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:23:20.555 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6, 对话ID: 8ca32158-7f1b-4c1a-a15e-e9aca274c369, 查询: 告诉我目前系统里有哪些项目
2025-07-15 21:23:26.659 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "/ALL"}'}}]
2025-07-15 21:23:26.659 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "/ALL"}
2025-07-15 21:23:26.717 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='/ALL', 年份='None'
2025-07-15 21:23:26.717 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 收到全部项目查询请求
2025-07-15 21:24:22.963 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:24:22.963 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6, 对话ID: 8ca32158-7f1b-4c1a-a15e-e9aca274c369, 查询: 打开丹华的项目文件
2025-07-15 21:24:27.982 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "丹华初设"}'}}]
2025-07-15 21:24:27.982 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "丹华初设"}
2025-07-15 21:24:28.024 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='丹华初设', 年份='None'
2025-07-15 21:24:28.025 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '丹华初设', 年份: None
2025-07-15 21:24:28.026 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['丹华初设']
2025-07-15 21:24:28.026 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '丹华初设'
2025-07-15 21:24:28.030 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '丹华初设'，包含 153 个文件。
2025-07-15 21:24:28.033 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-15 21:24:33.638 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/544e05b0c7f940e883870de60c0dbce9/(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx
2025-07-15 21:24:33.646 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '544e05b0c7f940e883870de60c0dbce9', URL中的文件名: '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）_feb47c66.docx'
2025-07-15 21:24:33.646 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '544e05b0c7f940e883870de60c0dbce9' (文件: (01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 21:24:33.647 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）_feb47c66.docx' 与Token关联文件名 '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx' 不匹配。将使用Token关联文件名。
2025-07-15 21:24:33.647 | DEBUG    | core.routing:download_file_via_token:284 - Token '544e05b0c7f940e883870de60c0dbce9' 验证成功。准备下载文件: '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx', URL文件名: '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）_feb47c66.docx')
2025-07-15 21:25:21.872 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/24a57bd860cf4901be3872e8a1bf01ed/test.pdf
2025-07-15 21:25:22.048 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '24a57bd860cf4901be3872e8a1bf01ed', URL中的文件名: 'test_c2feba60.pdf'
2025-07-15 21:25:22.048 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '24a57bd860cf4901be3872e8a1bf01ed' (文件: test.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 21:25:22.048 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'test_c2feba60.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 21:25:22.048 | DEBUG    | core.routing:download_file_via_token:284 - Token '24a57bd860cf4901be3872e8a1bf01ed' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/送审/test.pdf', URL文件名: 'test_c2feba60.pdf')
2025-07-15 21:25:22.050 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '24a57bd860cf4901be3872e8a1bf01ed', URL中的文件名: 'test_c2feba60.pdf'
2025-07-15 21:25:22.051 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '24a57bd860cf4901be3872e8a1bf01ed' (文件: test.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 21:25:22.051 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'test_c2feba60.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 21:25:22.051 | DEBUG    | core.routing:download_file_via_token:284 - Token '24a57bd860cf4901be3872e8a1bf01ed' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/送审/test.pdf', URL文件名: 'test_c2feba60.pdf')
2025-07-15 21:25:56.234 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:25:56.234 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6, 对话ID: 8ca32158-7f1b-4c1a-a15e-e9aca274c369, 查询: 比较下送审版和收口版的材料清册
2025-07-15 21:26:16.004 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'diff_project_file:2', 'type': 'function', 'function': {'name': 'diff_project_file', 'arguments': '{"user": "admin", "relative_file1_path": "2025/丹华初设/送审/(01)泰州丹华110千伏输变电工程初步设计送审版/泰州丹华110千伏输变电工程初步设计送审版/丹华110千伏变电站新建工程送审版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册送审版.pdf", "relative_file2_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf", "document_type": "材料清册"}'}}]
2025-07-15 21:26:16.004 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: diff_project_file with args: {"user": "admin", "relative_file1_path": "2025/丹华初设/送审/(01)泰州丹华110千伏输变电工程初步设计送审版/泰州丹华110千伏输变电工程初步设计送审版/丹华110千伏变电站新建工程送审版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册送审版.pdf", "relative_file2_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf", "document_type": "材料清册"}
2025-07-15 21:26:16.051 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:296 - 工具调用: compare_project_file. 用户:admin, 文件1: '2025/丹华初设/送审/(01)泰州丹华110千伏输变电工程初步设计送审版/泰州丹华110千伏输变电工程初步设计送审版/丹华110千伏变电站新建工程送审版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册送审版.pdf', 文件2: '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf', 文件类型: '材料清册', Sheet名: 'None', All Sheets: False
2025-07-15 21:26:16.051 | ERROR    | my_mcp_tools.mcp_tools:diff_project_file:307 - 错误: 文件未找到: 2025/丹华初设/送审/(01)泰州丹华110千伏输变电工程初步设计送审版/泰州丹华110千伏输变电工程初步设计送审版/丹华110千伏变电站新建工程送审版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册送审版.pdf:False, 2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf:True
2025-07-15 21:26:24.195 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:3', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "丹华初设送审"}'}}]
2025-07-15 21:26:24.195 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "丹华初设送审"}
2025-07-15 21:26:24.238 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='丹华初设送审', 年份='None'
2025-07-15 21:26:24.238 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '丹华初设送审', 年份: None
2025-07-15 21:26:24.239 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-15 21:26:24.239 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-15 21:26:24.240 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-15 21:26:24.670 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('丹华初设', 0.8349444992611795), ('江苏龙王山～上党500千伏线路加装串联电抗器工程初设文件内审送审版20250303', 0.48637095622316645), ('江苏扬州仪征500千伏变电站第三台主变扩建工程 初设文件(1)', 0.46196014514095096)]
2025-07-15 21:26:24.670 | INFO     | my_mcp_tools.mcp_tools:query_project_files:821 - 向量检索找到高分匹配项 (分数 > 0.8): '丹华初设'
2025-07-15 21:26:24.672 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '丹华初设'，包含 153 个文件。
2025-07-15 21:26:24.674 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-15 21:26:33.449 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:4', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "丹华送审"}'}}]
2025-07-15 21:26:33.449 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "丹华送审"}
2025-07-15 21:26:33.492 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='丹华送审', 年份='None'
2025-07-15 21:26:33.492 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '丹华送审', 年份: None
2025-07-15 21:26:33.493 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-15 21:26:33.493 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-15 21:26:33.495 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-15 21:26:33.653 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('丹华初设', 0.7018396127563762), ('江苏龙王山～上党500千伏线路加装串联电抗器工程初设文件内审送审版20250303', 0.39392925466740536), ('江苏扬州仪征500千伏变电站第三台主变扩建工程 初设文件(1)', 0.34003950739327604)]
2025-07-15 21:26:48.402 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'read_project_file:5', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf", "file_category": "普通文档"}'}}]
2025-07-15 21:26:48.402 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf", "file_category": "普通文档"}
2025-07-15 21:26:48.445 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf', Category: '普通文档'
2025-07-15 21:26:48.445 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:59 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf (相对路径: 2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf)，分隔符: '	'
2025-07-15 21:26:53.350 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:64 - MCP Tool: 解析完成，文件: [2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf, 内容长度: 39005
2025-07-15 21:26:53.350 | INFO     | my_mcp_tools.mcp_tools:read_project_file:628 - 从文件 2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf成功读取（预览100字）:检索号：2023033-B3781C -A
编 号：B3781C -A-02
泰州丹华 变电站工程初步设计
110kV
主要设备材料清册
泰州开泰电力设计有限公司
设计证书号 A232016695
二
2025-07-15 21:26:53.350 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf 生成LLM工具下载token 7b1731723eb7417197f66b793352b6d7
2025-07-15 21:26:53.351 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf' (token: 7b1731723eb7417197f66b793352b6d7), 有效期至: Wed Jul 16 05:26:53 2025
2025-07-15 21:26:53.401 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/7b1731723eb7417197f66b793352b6d7/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf
2025-07-15 21:26:53.631 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '7b1731723eb7417197f66b793352b6d7', URL中的文件名: '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版_4fd5ca8e.pdf'
2025-07-15 21:26:53.631 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7b1731723eb7417197f66b793352b6d7' (文件: [2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-15 21:26:53.632 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版_4fd5ca8e.pdf' 与Token关联文件名 '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 21:26:53.632 | DEBUG    | core.routing:download_file_via_token:284 - Token '7b1731723eb7417197f66b793352b6d7' 验证成功。准备下载文件: '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf', URL文件名: '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版_4fd5ca8e.pdf')
2025-07-15 21:26:53.634 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '7b1731723eb7417197f66b793352b6d7', URL中的文件名: '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版_4fd5ca8e.pdf'
2025-07-15 21:26:53.634 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '7b1731723eb7417197f66b793352b6d7' (文件: [2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-15 21:26:53.634 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版_4fd5ca8e.pdf' 与Token关联文件名 '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 21:26:53.634 | DEBUG    | core.routing:download_file_via_token:284 - Token '7b1731723eb7417197f66b793352b6d7' 验证成功。准备下载文件: '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版.pdf', URL文件名: '[2023033-B3781C-A-02]泰州丹华110千伏变电站工程设备材料清册收口版_4fd5ca8e.pdf')
2025-07-15 21:27:56.212 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:27:56.212 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6, 对话ID: 8ca32158-7f1b-4c1a-a15e-e9aca274c369, 查询: 有没有送审和收口版的概算xlsx？
2025-07-15 21:28:03.367 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:6', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "丹华 概算"}'}}]
2025-07-15 21:28:03.367 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "丹华 概算"}
2025-07-15 21:28:03.412 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='丹华 概算', 年份='None'
2025-07-15 21:28:03.412 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '丹华 概算', 年份: None
2025-07-15 21:28:03.413 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-15 21:28:03.413 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-15 21:28:03.413 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-15 21:28:03.589 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('丹华初设', 0.7756166408530367), ('江苏扬州仪征500千伏变电站第三台主变扩建工程 初设文件(1)', 0.36816642777624037), ('盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程', 0.3549958662571688)]
2025-07-15 21:28:18.520 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'diff_project_file:7', 'type': 'function', 'function': {'name': 'diff_project_file', 'arguments': '{"user": "admin", "relative_file1_path": "2025/丹华初设/送审/test.pdf", "relative_file2_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx", "document_type": "概算表", "all_sheet": true}'}}]
2025-07-15 21:28:18.520 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: diff_project_file with args: {"user": "admin", "relative_file1_path": "2025/丹华初设/送审/test.pdf", "relative_file2_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx", "document_type": "概算表", "all_sheet": true}
2025-07-15 21:28:18.566 | INFO     | my_mcp_tools.mcp_tools:diff_project_file:296 - 工具调用: compare_project_file. 用户:admin, 文件1: '2025/丹华初设/送审/test.pdf', 文件2: '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx', 文件类型: '概算表', Sheet名: 'None', All Sheets: True
2025-07-15 21:28:18.566 | ERROR    | my_mcp_tools.mcp_tools:diff_project_file:324 - 错误: 2025/丹华初设/送审/test.pdf与2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx 扩展名不一致，需使用扩展名一致的文件进行比较。
2025-07-15 21:28:39.492 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'read_project_file:8', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx", "file_category": "概算书文档", "sheet_name": "总概算表"}'}}]
2025-07-15 21:28:39.492 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx", "file_category": "概算书文档", "sheet_name": "总概算表"}
2025-07-15 21:28:39.535 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx', Category: '概算书文档'
2025-07-15 21:28:39.571 | WARNING  | my_mcp_tools.mcp_tools:read_project_file:595 - Sheet '总概算表' 在文件 2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx 中未找到。可用Sheets: 封面
签字审批
编制说明
变电站工程总概算表
变电站建筑工程专业汇总概算表
变电站安装工程汇总概算表
变电站建筑工程概算表
变电站安装工程概算表
变电站建筑工程概算表（余物清理表三）
变电站安装工程概算表（余物清理表三）
变电站工程其他费用概算表
变电站工程建设场地征用及清理费用概算表
勘察费明细表
设计费明细表
2025-07-15 21:28:52.460 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'read_project_file:9', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx", "file_category": "概算书文档", "sheet_name": "变电站工程总概算表"}'}}]
2025-07-15 21:28:52.460 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx", "file_category": "概算书文档", "sheet_name": "变电站工程总概算表"}
2025-07-15 21:28:52.503 | INFO     | my_mcp_tools.mcp_tools:read_project_file:569 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx', Category: '概算书文档'
2025-07-15 21:28:52.565 | INFO     | my_mcp_tools.mcp_tools:read_project_file:607 - 从文件 2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx成功读取 sheet:变电站工程总概算表（预览100字）:表N.2 变电站工程总概算表								
表一   建设规模：10万kVA								金额单位:万元
序号	工程或费用名称	建筑工程费	设备购置费	安装工程费	其他费用	合计	各项占静态投资%
2025-07-15 21:28:52.565 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:637 - 为文件:2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx 生成LLM工具下载token 496be7c0772a4b3f99e1332fca62ecc4
2025-07-15 21:28:52.565 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx' (token: 496be7c0772a4b3f99e1332fca62ecc4), 有效期至: Wed Jul 16 05:28:52 2025
2025-07-15 21:28:52.605 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/496be7c0772a4b3f99e1332fca62ecc4/泰州丹华110千伏变电站新建工程初设收口版.xlsx
2025-07-15 21:28:52.612 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '496be7c0772a4b3f99e1332fca62ecc4', URL中的文件名: '泰州丹华110千伏变电站新建工程初设收口版_b34c3595.xlsx'
2025-07-15 21:28:52.612 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '496be7c0772a4b3f99e1332fca62ecc4' (文件: 泰州丹华110千伏变电站新建工程初设收口版.xlsx, 用户: admin) 在 working_files 中验证成功。
2025-07-15 21:28:52.612 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '泰州丹华110千伏变电站新建工程初设收口版_b34c3595.xlsx' 与Token关联文件名 '泰州丹华110千伏变电站新建工程初设收口版.xlsx' 不匹配。将使用Token关联文件名。
2025-07-15 21:28:52.613 | DEBUG    | core.routing:download_file_via_token:284 - Token '496be7c0772a4b3f99e1332fca62ecc4' 验证成功。准备下载文件: '泰州丹华110千伏变电站新建工程初设收口版.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx', URL文件名: '泰州丹华110千伏变电站新建工程初设收口版_b34c3595.xlsx')
2025-07-15 21:28:59.455 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:10', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "丹华 送审版 概算"}'}}]
2025-07-15 21:28:59.455 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "丹华 送审版 概算"}
2025-07-15 21:28:59.497 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='丹华 送审版 概算', 年份='None'
2025-07-15 21:28:59.498 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '丹华 送审版 概算', 年份: None
2025-07-15 21:28:59.498 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-15 21:28:59.499 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-15 21:28:59.499 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-15 21:28:59.677 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('丹华初设', 0.7205050228331772), ('江苏龙王山～上党500千伏线路加装串联电抗器工程初设文件内审送审版20250303', 0.46016376338502246), ('江苏扬州仪征500千伏变电站第三台主变扩建工程 初设文件(1)', 0.44251188767641875)]
2025-07-15 21:29:08.228 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:11', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "2025/丹华初设/送审"}'}}]
2025-07-15 21:29:08.229 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "2025/丹华初设/送审"}
2025-07-15 21:29:08.272 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='2025/丹华初设/送审', 年份='None'
2025-07-15 21:29:08.272 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '2025/丹华初设/送审', 年份: None
2025-07-15 21:29:08.273 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 0 个项目: []
2025-07-15 21:29:08.273 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:813 - 模糊匹配未找到，使用全局向量检索。
2025-07-15 21:29:08.273 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-15 21:29:08.428 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('丹华初设', 0.7600179208359465), ('江苏龙王山～上党500千伏线路加装串联电抗器工程初设文件内审送审版20250303', 0.5675978107427784), ('江苏扬州仪征500千伏变电站第三台主变扩建工程 初设文件(1)', 0.5124655613634899)]
2025-07-15 21:29:08.433 | WARNING  | sse_proxy.sse2websocket1:_handle_stream:106 - 递归深度超过最大限制(5)，终止工具调用
2025-07-15 21:31:17.698 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6) 已从状态管理器登出。
2025-07-15 21:31:17.698 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 21:31:17.728 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:31:17.728 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6 用户 admin 断开连接
2025-07-15 21:31:17.728 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:31:17.731 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/78c0c17e-9548-4ffc-ac86-bad0d3ec3ac6.json
2025-07-15 21:36:15.976 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 596ab723-ccd7-458c-bb11-6389412c72d1, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:36:15.976 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 596ab723-ccd7-458c-bb11-6389412c72d1) 登录成功。
2025-07-15 21:36:16.181 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 596ab723-ccd7-458c-bb11-6389412c72d1) 的 WebSocket 已连接并关联。
2025-07-15 21:36:16.256 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:47:43.287 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 596ab723-ccd7-458c-bb11-6389412c72d1) 已从状态管理器登出。
2025-07-15 21:47:43.287 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 21:47:43.396 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:47:43.397 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 596ab723-ccd7-458c-bb11-6389412c72d1 用户 admin 断开连接
2025-07-15 21:47:43.397 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:47:43.398 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/596ab723-ccd7-458c-bb11-6389412c72d1.json
2025-07-15 21:47:46.034 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 77718390-de50-43e5-a5df-ed4942b92be0, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:47:46.034 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 77718390-de50-43e5-a5df-ed4942b92be0) 登录成功。
2025-07-15 21:47:46.237 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 77718390-de50-43e5-a5df-ed4942b92be0) 的 WebSocket 已连接并关联。
2025-07-15 21:47:46.308 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:47:49.345 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 77718390-de50-43e5-a5df-ed4942b92be0 用户 admin 断开连接
2025-07-15 21:47:49.345 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:47:49.346 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/77718390-de50-43e5-a5df-ed4942b92be0.json
2025-07-15 21:47:49.346 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 21:47:49.445 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 77718390-de50-43e5-a5df-ed4942b92be0) 的 WebSocket 已连接并关联。
2025-07-15 21:47:49.520 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:47:52.691 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 77718390-de50-43e5-a5df-ed4942b92be0) 已从状态管理器登出。
2025-07-15 21:47:52.691 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 21:47:52.741 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:47:52.742 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 77718390-de50-43e5-a5df-ed4942b92be0 用户 admin 断开连接
2025-07-15 21:47:52.742 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:47:52.743 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/77718390-de50-43e5-a5df-ed4942b92be0.json
2025-07-15 21:48:46.649 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 0863b5aa-5f74-4b20-9694-9f7fa748a437, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:48:46.649 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 0863b5aa-5f74-4b20-9694-9f7fa748a437) 登录成功。
2025-07-15 21:48:46.993 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 0863b5aa-5f74-4b20-9694-9f7fa748a437) 的 WebSocket 已连接并关联。
2025-07-15 21:48:47.062 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:49:09.948 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 0863b5aa-5f74-4b20-9694-9f7fa748a437 用户 admin 断开连接
2025-07-15 21:49:09.948 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:49:09.949 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/0863b5aa-5f74-4b20-9694-9f7fa748a437.json
2025-07-15 21:49:09.949 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 21:49:10.202 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 0863b5aa-5f74-4b20-9694-9f7fa748a437) 的 WebSocket 已连接并关联。
2025-07-15 21:49:10.272 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:49:16.348 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 0863b5aa-5f74-4b20-9694-9f7fa748a437) 已从状态管理器登出。
2025-07-15 21:49:16.348 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 21:49:16.391 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:49:16.392 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 0863b5aa-5f74-4b20-9694-9f7fa748a437 用户 admin 断开连接
2025-07-15 21:49:16.392 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:49:16.392 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/0863b5aa-5f74-4b20-9694-9f7fa748a437.json
2025-07-15 21:49:20.705 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: cdcdc391-7860-4173-933c-44721f359bd2, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:49:20.705 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: cdcdc391-7860-4173-933c-44721f359bd2) 登录成功。
2025-07-15 21:49:21.002 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: cdcdc391-7860-4173-933c-44721f359bd2) 的 WebSocket 已连接并关联。
2025-07-15 21:49:21.079 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:49:45.790 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: cdcdc391-7860-4173-933c-44721f359bd2) 已从状态管理器登出。
2025-07-15 21:49:45.790 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 21:49:45.822 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:49:45.822 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 cdcdc391-7860-4173-933c-44721f359bd2 用户 admin 断开连接
2025-07-15 21:49:45.822 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:49:45.823 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/cdcdc391-7860-4173-933c-44721f359bd2.json
2025-07-15 21:49:48.106 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 1deb7d3f-2a54-490b-8b97-decf61725c92, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:49:48.106 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 1deb7d3f-2a54-490b-8b97-decf61725c92) 登录成功。
2025-07-15 21:49:48.786 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1deb7d3f-2a54-490b-8b97-decf61725c92) 的 WebSocket 已连接并关联。
2025-07-15 21:49:48.855 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:50:02.294 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:50:02.294 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 1deb7d3f-2a54-490b-8b97-decf61725c92, 对话ID: 0ad4060c-50a6-4827-88d6-f9ad009fd003, 查询: 你好
2025-07-15 21:53:18.020 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1deb7d3f-2a54-490b-8b97-decf61725c92 用户 admin 断开连接
2025-07-15 21:53:18.021 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:53:18.021 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1deb7d3f-2a54-490b-8b97-decf61725c92.json
2025-07-15 21:53:18.021 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 21:53:18.170 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1deb7d3f-2a54-490b-8b97-decf61725c92) 的 WebSocket 已连接并关联。
2025-07-15 21:53:18.241 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:55:18.993 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1deb7d3f-2a54-490b-8b97-decf61725c92 用户 admin 断开连接
2025-07-15 21:55:18.993 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:55:18.994 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1deb7d3f-2a54-490b-8b97-decf61725c92.json
2025-07-15 21:55:18.994 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 21:55:19.207 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1deb7d3f-2a54-490b-8b97-decf61725c92) 的 WebSocket 已连接并关联。
2025-07-15 21:55:19.276 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:58:54.951 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1deb7d3f-2a54-490b-8b97-decf61725c92 用户 admin 断开连接
2025-07-15 21:58:54.951 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:58:54.952 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1deb7d3f-2a54-490b-8b97-decf61725c92.json
2025-07-15 21:58:54.953 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 21:58:55.104 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1deb7d3f-2a54-490b-8b97-decf61725c92) 的 WebSocket 已连接并关联。
2025-07-15 21:58:55.181 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:58:57.117 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 1deb7d3f-2a54-490b-8b97-decf61725c92) 已从状态管理器登出。
2025-07-15 21:58:57.118 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 21:58:57.173 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 21:58:57.174 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 1deb7d3f-2a54-490b-8b97-decf61725c92 用户 admin 断开连接
2025-07-15 21:58:57.174 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:58:57.174 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/1deb7d3f-2a54-490b-8b97-decf61725c92.json
2025-07-15 21:59:00.601 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: d7cd6902-8214-4696-91f1-f3fd6b4eca25, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:59:00.601 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: d7cd6902-8214-4696-91f1-f3fd6b4eca25) 登录成功。
2025-07-15 21:59:00.775 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: d7cd6902-8214-4696-91f1-f3fd6b4eca25) 的 WebSocket 已连接并关联。
2025-07-15 21:59:00.845 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:59:19.752 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 587f1a40-3b37-4a00-988f-dc9bb82ad420, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 21:59:19.752 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: 587f1a40-3b37-4a00-988f-dc9bb82ad420) 登录成功。
2025-07-15 21:59:20.087 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 587f1a40-3b37-4a00-988f-dc9bb82ad420) 的 WebSocket 已连接并关联。
2025-07-15 21:59:20.171 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 21:59:33.785 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 d7cd6902-8214-4696-91f1-f3fd6b4eca25 用户 admin 断开连接
2025-07-15 21:59:33.785 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 21:59:33.786 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/d7cd6902-8214-4696-91f1-f3fd6b4eca25.json
2025-07-15 21:59:33.786 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-15 22:02:50.840 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 587f1a40-3b37-4a00-988f-dc9bb82ad420 用户 zhouxiang 断开连接
2025-07-15 22:02:50.840 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:02:50.841 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/587f1a40-3b37-4a00-988f-dc9bb82ad420.json
2025-07-15 22:02:50.842 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-15 22:02:51.236 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 587f1a40-3b37-4a00-988f-dc9bb82ad420) 的 WebSocket 已连接并关联。
2025-07-15 22:02:51.308 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 22:03:01.498 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:03:01.498 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 zhouxiang, 会话 587f1a40-3b37-4a00-988f-dc9bb82ad420, 对话ID: 58ecc256-e888-4715-a641-6ea32075c3b6, 查询: hello
2025-07-15 22:04:12.208 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 587f1a40-3b37-4a00-988f-dc9bb82ad420) 已从状态管理器登出。
2025-07-15 22:04:12.208 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 22:04:12.238 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 22:04:12.238 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 587f1a40-3b37-4a00-988f-dc9bb82ad420 用户 zhouxiang 断开连接
2025-07-15 22:04:12.238 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:04:12.239 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/587f1a40-3b37-4a00-988f-dc9bb82ad420.json
2025-07-15 22:04:21.940 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 d7cd6902-8214-4696-91f1-f3fd6b4eca25 最近有HTTP活动。
2025-07-15 22:04:21.940 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'd7cd6902-8214-4696-91f1-f3fd6b4eca25' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: 07866c2a-f0c0-4847-a8fc-ed44ac48336d。
2025-07-15 22:04:21.940 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-15 22:04:37.265 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 07866c2a-f0c0-4847-a8fc-ed44ac48336d, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-15 22:04:37.265 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: 07866c2a-f0c0-4847-a8fc-ed44ac48336d) 登录成功。
2025-07-15 22:04:37.560 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 07866c2a-f0c0-4847-a8fc-ed44ac48336d) 的 WebSocket 已连接并关联。
2025-07-15 22:04:37.634 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 22:04:55.727 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 07866c2a-f0c0-4847-a8fc-ed44ac48336d) 已从状态管理器登出。
2025-07-15 22:04:55.727 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 22:04:55.765 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-15 22:04:55.765 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 07866c2a-f0c0-4847-a8fc-ed44ac48336d 用户 zhouxiang 断开连接
2025-07-15 22:04:55.765 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:04:55.766 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/zhouxiang/07866c2a-f0c0-4847-a8fc-ed44ac48336d.json
2025-07-15 22:05:06.433 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: d7cd6902-8214-4696-91f1-f3fd6b4eca25) 的 WebSocket 已连接并关联。
2025-07-15 22:05:06.503 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-15 22:05:47.075 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:05:47.076 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 d7cd6902-8214-4696-91f1-f3fd6b4eca25, 对话ID: 14e1ea0b-b24c-4ab5-a381-5b31d670fd45, 查询: 帮我打开丹华的项目文件
2025-07-15 22:05:52.815 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:0', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "丹华"}'}}]
2025-07-15 22:05:52.815 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "丹华"}
2025-07-15 22:05:52.857 | INFO     | my_mcp_tools.mcp_tools:query_project_files:755 - 工具调用: query_project_files, 项目关键字='丹华', 年份='None'
2025-07-15 22:05:52.857 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:779 - 第一步: 开始模糊匹配，关键字: '丹华', 年份: None
2025-07-15 22:05:52.858 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:789 - 模糊匹配查询到 1 个项目: ['丹华初设']
2025-07-15 22:05:52.858 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 模糊匹配到唯一项目: '丹华初设'
2025-07-15 22:05:52.865 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '丹华初设'，包含 153 个文件。
2025-07-15 22:05:52.866 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-15 22:06:01.185 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/c101ffc5aa874ccd840c17def0833999/(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx
2025-07-15 22:06:01.196 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'c101ffc5aa874ccd840c17def0833999', URL中的文件名: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）_2a0bc070.docx'
2025-07-15 22:06:01.196 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'c101ffc5aa874ccd840c17def0833999' (文件: (01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 22:06:01.197 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）_2a0bc070.docx' 与Token关联文件名 '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx' 不匹配。将使用Token关联文件名。
2025-07-15 22:06:01.197 | DEBUG    | core.routing:download_file_via_token:284 - Token 'c101ffc5aa874ccd840c17def0833999' 验证成功。准备下载文件: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx', URL文件名: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）_2a0bc070.docx')
2025-07-15 22:06:34.806 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/634412d152164553bab9fab0f0e3787e/[2023033-B3781C-A-29]站址位置图.pdf
2025-07-15 22:06:34.990 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '634412d152164553bab9fab0f0e3787e', URL中的文件名: '[2023033-B3781C-A-29]站址位置图_a0afe40f.pdf'
2025-07-15 22:06:34.991 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '634412d152164553bab9fab0f0e3787e' (文件: [2023033-B3781C-A-29]站址位置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 22:06:34.991 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '[2023033-B3781C-A-29]站址位置图_a0afe40f.pdf' 与Token关联文件名 '[2023033-B3781C-A-29]站址位置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 22:06:34.991 | DEBUG    | core.routing:download_file_via_token:284 - Token '634412d152164553bab9fab0f0e3787e' 验证成功。准备下载文件: '[2023033-B3781C-A-29]站址位置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-29]站址位置图.pdf', URL文件名: '[2023033-B3781C-A-29]站址位置图_a0afe40f.pdf')
2025-07-15 22:06:34.993 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '634412d152164553bab9fab0f0e3787e', URL中的文件名: '[2023033-B3781C-A-29]站址位置图_a0afe40f.pdf'
2025-07-15 22:06:34.993 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '634412d152164553bab9fab0f0e3787e' (文件: [2023033-B3781C-A-29]站址位置图.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-15 22:06:34.993 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 '[2023033-B3781C-A-29]站址位置图_a0afe40f.pdf' 与Token关联文件名 '[2023033-B3781C-A-29]站址位置图.pdf' 不匹配。将使用Token关联文件名。
2025-07-15 22:06:34.994 | DEBUG    | core.routing:download_file_via_token:284 - Token '634412d152164553bab9fab0f0e3787e' 验证成功。准备下载文件: '[2023033-B3781C-A-29]站址位置图.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/[2023033-B3781C-A-29]站址位置图.pdf', URL文件名: '[2023033-B3781C-A-29]站址位置图_a0afe40f.pdf')
2025-07-15 22:10:00.007 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:10:00.008 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 d7cd6902-8214-4696-91f1-f3fd6b4eca25, 对话ID: d0a76d6e-f9b1-450e-8d28-f3bef70def07, 查询: 我们之前的对话内容是什么
2025-07-15 22:10:50.769 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: d7cd6902-8214-4696-91f1-f3fd6b4eca25) 已从状态管理器登出。
2025-07-15 22:10:50.770 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-15 22:10:50.802 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-15 22:10:50.803 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 d7cd6902-8214-4696-91f1-f3fd6b4eca25 用户 admin 断开连接
2025-07-15 22:10:50.803 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-15 22:10:50.804 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/d7cd6902-8214-4696-91f1-f3fd6b4eca25.json
2025-07-15 22:10:54.117 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 509563 - 服务器关闭中...
2025-07-15 22:10:54.117 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-15 22:10:54.117 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 08:42:02.136 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:44 - Session Secret Key: ********b1e2
2025-07-16 08:42:02.137 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:e1cc:10d1:cc4e:ccd8]:8888
2025-07-16 08:42:02.138 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 08:42:02.138 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 08:42:02.140 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 08:42:02.155 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1263752 - 服务器启动中...
2025-07-16 08:42:02.191 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 08:42:02.191 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 08:42:02.198 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 08:42:02.198 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 08:42:02.198 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 08:42:02.198 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 08:42:02.198 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 08:42:02.199 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 08:42:02)
2025-07-16 08:42:02.206 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 08:42:08.389 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 08:42:08, 总耗时: 6.19 秒)
2025-07-16 08:42:08.399 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 08:42:08.400 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 08:42:08.400 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 08:42:08.400 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 08:42:08.402 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 08:42:08.402 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 08:42:08.402 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 08:42:08.402 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 08:42:08.402 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 08:42:08.427 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 08:42:08.429 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 08:42:08.429 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 08:42:08.431 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 08:42:08.431 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 08:42:08.432 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 08:42:08.432 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 08:42:08.432 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 08:42:19.961 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 21ecd948-ca8d-48b1-876b-3d0bae2e79e1, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-16 08:42:19.962 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 21ecd948-ca8d-48b1-876b-3d0bae2e79e1) 登录成功。
2025-07-16 08:42:20.009 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 21ecd948-ca8d-48b1-876b-3d0bae2e79e1) 的 WebSocket 已连接并关联。
2025-07-16 08:42:20.088 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 09:43:08.432 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-16 09:43:08.432 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1) 因不活动被自动登出。
2025-07-16 09:43:08.433 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-16 09:43:08.433 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1 用户 admin 断开连接
2025-07-16 09:43:08.433 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 09:43:08.434 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/21ecd948-ca8d-48b1-876b-3d0bae2e79e1.json
2025-07-16 13:56:09.302 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 21ecd948-ca8d-48b1-876b-3d0bae2e79e1, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-16 13:56:09.302 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 127.0.0.1, Session: 21ecd948-ca8d-48b1-876b-3d0bae2e79e1) 登录成功。
2025-07-16 13:56:09.361 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 21ecd948-ca8d-48b1-876b-3d0bae2e79e1) 的 WebSocket 已连接并关联。
2025-07-16 13:56:09.439 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 13:57:01.978 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 13:57:01.978 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 告诉我有哪些规范
2025-07-16 13:57:16.463 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 13:57:16.463 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 二次
2025-07-16 13:57:33.744 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:0', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user" : "admin", "query_spec_filename": "/ALL", "category": "二次"}'}}]
2025-07-16 13:57:33.744 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user" : "admin", "query_spec_filename": "/ALL", "category": "二次"}
2025-07-16 13:57:33.788 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '/ALL', 类别: '二次', 读取文件: False, Top N: 3
2025-07-16 13:57:33.789 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 13:57:33.789 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 13:57:33.789 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:881 - 用户请求所有规范
2025-07-16 13:57:56.604 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 13:57:56.604 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 打开3
2025-07-16 13:58:13.375 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:1', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user" : "admin", "category": "二次", "query_spec_filename": "QGDW 10766-2024", "read_file": true}'}}]
2025-07-16 13:58:13.375 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user" : "admin", "category": "二次", "query_spec_filename": "QGDW 10766-2024", "read_file": true}
2025-07-16 13:58:13.419 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: 'QGDW 10766-2024', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 13:58:13.419 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 13:58:13.419 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 13:58:13.419 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 13:58:13.537 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.6851622030371203), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.4135570466328829), ('变电站辅助设备监控系统设计规范', 0.3962946345175341)]
2025-07-16 14:02:09.159 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 14:02:09.159 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 使用规范名匹配
2025-07-16 14:02:32.309 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:2', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user" : "admin", "category": "二次", "query_spec_filename": "10kV～110（66）kV 线路保护及辅助装置标准化设计规范", "read_file": true}'}}]
2025-07-16 14:02:32.310 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user" : "admin", "category": "二次", "query_spec_filename": "10kV～110（66）kV 线路保护及辅助装置标准化设计规范", "read_file": true}
2025-07-16 14:02:32.365 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: '10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 14:02:32.365 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 14:02:32.365 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 14:02:32.365 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 14:02:32.464 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.9204779999146728), ('变电站辅助设备监控系统设计规范', 0.6673649665949377), ('45_DLT-559-2018《220kV～750kV电网继电保护装置运行整定规程》_md', 0.6380381704872469)]
2025-07-16 14:02:32.464 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:902 - 找到最匹配的文件: '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (相似度: 0.9205)，相似度高于0.7，准备读取内容。
2025-07-16 14:02:32.465 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (token: b9091fa9d9b7468da501ad7dd3a16756), 有效期至: Wed Jul 16 22:02:32 2025
2025-07-16 14:02:32.475 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/b9091fa9d9b7468da501ad7dd3a16756/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf
2025-07-16 14:02:32.735 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'b9091fa9d9b7468da501ad7dd3a16756', URL中的文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_f45a1311.pdf'
2025-07-16 14:02:32.736 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'b9091fa9d9b7468da501ad7dd3a16756' (文件: QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 14:02:32.736 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_f45a1311.pdf' 与Token关联文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 14:02:32.736 | DEBUG    | core.routing:download_file_via_token:284 - Token 'b9091fa9d9b7468da501ad7dd3a16756' 验证成功。准备下载文件: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf', URL文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_f45a1311.pdf')
2025-07-16 14:02:32.738 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'b9091fa9d9b7468da501ad7dd3a16756', URL中的文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_f45a1311.pdf'
2025-07-16 14:02:32.738 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'b9091fa9d9b7468da501ad7dd3a16756' (文件: QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 14:02:32.738 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_f45a1311.pdf' 与Token关联文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 14:02:32.738 | DEBUG    | core.routing:download_file_via_token:284 - Token 'b9091fa9d9b7468da501ad7dd3a16756' 验证成功。准备下载文件: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf', URL文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_f45a1311.pdf')
2025-07-16 15:03:08.433 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-16 15:03:08.433 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1) 因不活动被自动登出。
2025-07-16 15:03:08.433 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-16 15:03:08.433 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 21ecd948-ca8d-48b1-876b-3d0bae2e79e1 用户 admin 断开连接
2025-07-16 15:03:08.433 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 15:03:08.434 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/21ecd948-ca8d-48b1-876b-3d0bae2e79e1.json
2025-07-16 16:09:40.329 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:859 - 工具调用: query_specification_files, 查询: 'QGDW 10766-2024', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 16:09:40.329 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 16:09:40.329 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 16:09:40.329 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:117 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 16:09:40.429 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:147 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.6851622030371203), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.4135570466328829), ('变电站辅助设备监控系统设计规范', 0.3962946345175341)]
2025-07-16 16:45:15.273 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1263752 - 服务器关闭中...
2025-07-16 16:45:15.273 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 16:45:15.273 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 16:45:20.912 | INFO     | __main__:<module>:44 - Session Secret Key: ********552f
2025-07-16 16:45:20.913 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 16:45:20.913 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 16:45:20.914 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 16:45:20.916 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 16:45:20.935 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1792423 - 服务器启动中...
2025-07-16 16:45:20.969 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 16:45:20.969 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 16:45:20.975 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 16:45:20.976 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 16:45:20.976 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 16:45:20.976 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 16:45:20.976 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 16:45:20.976 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 16:45:20)
2025-07-16 16:45:20.985 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 16:45:25.784 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 16:45:25, 总耗时: 4.81 秒)
2025-07-16 16:45:25.793 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 16:45:25.794 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 16:45:25.794 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 16:45:25.794 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 16:45:25.796 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 16:45:25.796 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 16:45:25.797 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 16:45:25.797 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 16:45:25.797 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 16:45:25.824 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 16:45:25.825 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 16:45:25.825 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 16:45:25.827 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 16:45:25.828 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 16:45:25.828 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 16:45:25.829 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 16:45:25.829 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 16:46:19.741 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:867 - 工具调用: open_specification_files, 查询: 'QGDW 10766-2024', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 16:46:19.741 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 16:46:19.742 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 16:46:19.742 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:127 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 16:46:19.993 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:157 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.6851622030371203), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.4135570466328829), ('变电站辅助设备监控系统设计规范', 0.3962946345175341)]
2025-07-16 16:46:19.993 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:911 - 准备读取最匹配的文件: '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (相似度: 0.6852)
2025-07-16 16:46:19.994 | DEBUG    | my_mcp_tools.mcp_tools:_get_spec_file_content:82 - MCP Tool: 尝试读取规程文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf
2025-07-16 16:46:19.996 | ERROR    | my_mcp_tools.mcp_tools:_get_spec_file_content:92 - MCP Tool: 读取规程文件 /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf 失败: 'utf-8' codec can't decode byte 0xe2 in position 10: invalid continuation byte
2025-07-16 17:12:41.366 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1792423 - 服务器关闭中...
2025-07-16 17:12:41.366 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 17:12:41.366 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 17:12:44.591 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 17:12:44.591 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 17:12:44.592 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 17:12:44.592 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 17:12:44.592 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 17:12:44.592 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 17:12:44.592 | INFO     | __main__:<module>:44 - Session Secret Key: ********011a
2025-07-16 17:12:44.592 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 17:12:44.593 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 17:12:44.593 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 17:12:44.597 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 17:12:44.612 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1822716 - 服务器启动中...
2025-07-16 17:12:44.648 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 17:12:44.648 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 17:12:44.655 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 17:12:44.655 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 17:12:44.655 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 17:12:44.655 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 17:12:44.655 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 17:12:44.656 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 17:12:44)
2025-07-16 17:12:44.663 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 17:12:49.254 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 17:12:49, 总耗时: 4.60 秒)
2025-07-16 17:12:49.266 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 17:12:49.266 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 17:12:49.266 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 17:12:49.266 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 17:12:49.268 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 17:12:49.268 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 17:12:49.268 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 17:12:49.268 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 17:12:49.269 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 17:12:49.293 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 17:12:49.294 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 17:12:49.294 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 17:12:49.296 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 17:12:49.297 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 17:12:49.297 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 17:12:49.297 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 17:12:49.297 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 17:13:52.335 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:867 - 工具调用: open_specification_files, 查询: 'QGDW 10766-2024', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 17:13:52.336 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 17:13:52.336 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 17:13:52.336 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:127 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 17:13:52.584 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:157 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.6851622030371203), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.4135570466328829), ('变电站辅助设备监控系统设计规范', 0.3962946345175341)]
2025-07-16 17:13:52.584 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:948 - 最匹配文件 '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 相似度(0.6852) 不足 0.7，不读取文件内容，返回列表。
2025-07-16 17:25:52.952 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1822716 - 服务器关闭中...
2025-07-16 17:25:52.952 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 17:25:52.952 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 19:44:32.022 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 19:44:32.022 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 19:44:32.023 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 19:44:32.023 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 19:44:32.023 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 19:44:32.023 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 19:44:32.023 | INFO     | __main__:<module>:44 - Session Secret Key: ********0c4e
2025-07-16 19:44:32.023 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 19:44:32.024 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 19:44:32.024 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 19:44:32.027 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 19:44:32.041 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 1991251 - 服务器启动中...
2025-07-16 19:44:32.075 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 19:44:32.076 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 19:44:32.082 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 19:44:32.082 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 19:44:32.082 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 19:44:32.082 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 19:44:32.082 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 19:44:32.083 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 19:44:32)
2025-07-16 19:44:32.090 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 19:44:38.078 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 19:44:38, 总耗时: 6.00 秒)
2025-07-16 19:44:38.088 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 19:44:38.088 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 19:44:38.088 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 19:44:38.089 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 19:44:38.146 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 19:44:38.146 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 19:44:38.146 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 19:44:38.146 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 19:44:38.146 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 19:44:38.224 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.14 秒。
2025-07-16 19:44:38.225 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 19:44:38.225 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 19:44:38.229 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 19:44:38.229 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 19:44:38.229 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 19:44:38.230 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 19:44:38.230 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 19:44:45.272 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 19:44:45.272 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9) 登录成功。
2025-07-16 19:44:45.551 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9) 的 WebSocket 已连接并关联。
2025-07-16 19:44:45.624 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 19:44:59.599 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:44:59.599 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我找下二次的规范
2025-07-16 19:45:06.809 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:0', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "/ALL", "category": "二次", "read_file": false}'}}]
2025-07-16 19:45:06.810 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "/ALL", "category": "二次", "read_file": false}
2025-07-16 19:45:06.853 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: '/ALL', 类别: '二次', 读取文件: False, Top N: 3
2025-07-16 19:45:06.853 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 19:45:06.854 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 19:45:06.854 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:897 - 用户请求 '二次' 类别下的所有规范。
2025-07-16 19:45:29.111 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:45:29.111 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 打开10766那个
2025-07-16 19:45:37.954 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:1', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "QGDW 10766-2024", "category": "二次", "read_file": true}'}}]
2025-07-16 19:45:37.954 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "QGDW 10766-2024", "category": "二次", "read_file": true}
2025-07-16 19:45:38.001 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: 'QGDW 10766-2024', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 19:45:38.001 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 19:45:38.001 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 19:45:38.001 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 19:45:38.127 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.6851622030371203), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.4135570466328829), ('变电站辅助设备监控系统设计规范', 0.3962946345175341)]
2025-07-16 19:45:38.127 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:957 - 最匹配文件 '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 相似度(0.6852) 不足 0.7，不读取文件内容，返回列表。
2025-07-16 19:46:05.470 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:46:05.471 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我打开
2025-07-16 19:46:17.420 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'read_project_file:2', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf", "file_category": "普通文档"}'}}]
2025-07-16 19:46:17.420 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf", "file_category": "普通文档"}
2025-07-16 19:46:17.464 | INFO     | my_mcp_tools.mcp_tools:read_project_file:588 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf', Category: '普通文档'
2025-07-16 19:46:17.464 | ERROR    | my_mcp_tools.mcp_tools:read_project_file:592 - 请求的文件路径不存在: /media/zhouxiang/FC7C74827C743A0A/Projects1/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf
2025-07-16 19:46:28.944 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_specification_knowledge_base:3', 'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'arguments': '{"user_query": "QGDW 10766-2024 10kV～110kV线路保护标准化设计规范", "knowledge_base_name": "二次", "top_k": 5}'}}]
2025-07-16 19:46:28.944 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_specification_knowledge_base with args: {"user_query": "QGDW 10766-2024 10kV～110kV线路保护标准化设计规范", "knowledge_base_name": "二次", "top_k": 5}
2025-07-16 19:46:28.989 | DEBUG    | my_mcp_tools.mcp_tools:query_specification_knowledge_base:211 - 工具调用: query_specification_knowledge_base, 知识库: 二次, 用户查询: 'QGDW 10766-2024 10kV～110kV线路保护标准化设计规范...', top_k: 5
2025-07-16 19:46:28.989 | DEBUG    | my_mcp_tools.mcp_tools:query_specification_knowledge_base:224 - 正在从 http://127.0.0.1/v1/datasets 获取知识库ID，参数: {'keyword': '二次', 'page': 1, 'limit': 10}
2025-07-16 19:46:29.524 | INFO     | my_mcp_tools.mcp_tools:query_specification_knowledge_base:238 - 成功获取到知识库 '二次' 的ID: eaee81cc-3cb5-4649-89b0-9e702a659131
2025-07-16 19:46:29.524 | DEBUG    | my_mcp_tools.mcp_tools:query_specification_knowledge_base:252 - 正在向 http://127.0.0.1/v1/datasets/eaee81cc-3cb5-4649-89b0-9e702a659131/retrieve 发起检索请求。Payload (部分): query='QGDW 10766-2024 10kV～110kV线路保护标准化设计规范...', top_k=5
2025-07-16 19:46:30.178 | INFO     | my_mcp_tools.mcp_tools:query_specification_knowledge_base:259 - 从知识库 '二次' 检索到 5 条结果。
2025-07-16 19:50:07.227 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:50:07.227 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 继续尝试打开10766
2025-07-16 19:50:13.757 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_project_files:4', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "QGDW 10766"}'}}]
2025-07-16 19:50:13.757 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "QGDW 10766"}
2025-07-16 19:50:13.802 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='QGDW 10766', 年份='None'
2025-07-16 19:50:13.802 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: 'QGDW 10766', 年份: None
2025-07-16 19:50:13.804 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 0 个项目: []
2025-07-16 19:50:13.804 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:832 - 模糊匹配未找到，使用全局向量检索。
2025-07-16 19:50:13.805 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 19:50:13.980 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('丹华初设', 0.379841826941), ('南京姚庄110千伏变电站改造工程', 0.378927244038484), ('江苏龙王山～上党500千伏线路加装串联电抗器工程初设文件内审送审版20250303', 0.3778258497353217)]
2025-07-16 19:50:23.689 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'read_project_file:5', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "二次/QGDW-10766-2024_10kV～110（66）kV_线路保护及辅助装置标准化设计规范.md", "file_category": "普通文档"}'}}]
2025-07-16 19:50:23.689 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "二次/QGDW-10766-2024_10kV～110（66）kV_线路保护及辅助装置标准化设计规范.md", "file_category": "普通文档"}
2025-07-16 19:50:23.731 | INFO     | my_mcp_tools.mcp_tools:read_project_file:588 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '二次/QGDW-10766-2024_10kV～110（66）kV_线路保护及辅助装置标准化设计规范.md', Category: '普通文档'
2025-07-16 19:50:23.732 | ERROR    | my_mcp_tools.mcp_tools:read_project_file:592 - 请求的文件路径不存在: /media/zhouxiang/FC7C74827C743A0A/Projects1/二次/QGDW-10766-2024_10kV～110（66）kV_线路保护及辅助装置标准化设计规范.md
2025-07-16 19:50:31.404 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'query_specification_knowledge_base:6', 'type': 'function', 'function': {'name': 'query_specification_knowledge_base', 'arguments': '{"user_query": "QGDW-10766-2024", "knowledge_base_name": "二次", "top_k": 10}'}}]
2025-07-16 19:50:31.404 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: query_specification_knowledge_base with args: {"user_query": "QGDW-10766-2024", "knowledge_base_name": "二次", "top_k": 10}
2025-07-16 19:50:31.453 | DEBUG    | my_mcp_tools.mcp_tools:query_specification_knowledge_base:211 - 工具调用: query_specification_knowledge_base, 知识库: 二次, 用户查询: 'QGDW-10766-2024...', top_k: 10
2025-07-16 19:50:31.453 | DEBUG    | my_mcp_tools.mcp_tools:query_specification_knowledge_base:224 - 正在从 http://127.0.0.1/v1/datasets 获取知识库ID，参数: {'keyword': '二次', 'page': 1, 'limit': 10}
2025-07-16 19:50:31.559 | INFO     | my_mcp_tools.mcp_tools:query_specification_knowledge_base:238 - 成功获取到知识库 '二次' 的ID: eaee81cc-3cb5-4649-89b0-9e702a659131
2025-07-16 19:50:31.559 | DEBUG    | my_mcp_tools.mcp_tools:query_specification_knowledge_base:252 - 正在向 http://127.0.0.1/v1/datasets/eaee81cc-3cb5-4649-89b0-9e702a659131/retrieve 发起检索请求。Payload (部分): query='QGDW-10766-2024...', top_k=10
2025-07-16 19:50:31.830 | INFO     | my_mcp_tools.mcp_tools:query_specification_knowledge_base:259 - 从知识库 '二次' 检索到 10 条结果。
2025-07-16 19:50:48.505 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:50:48.505 | INFO     | sse_proxy.sse2websocket1:run:235 - 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9 用户 admin 中止响应流任务
2025-07-16 19:50:48.505 | INFO     | sse_proxy.sse2websocket1:_start:92 - 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9 被取消
2025-07-16 19:52:20.731 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9 用户 admin 断开连接
2025-07-16 19:52:20.731 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:52:20.732 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/4bee9b4d-d8b8-4ab6-96b9-02770e8c35e9.json
2025-07-16 19:52:20.732 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-16 19:52:20.832 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 1991251 - 服务器关闭中...
2025-07-16 19:52:20.832 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 19:52:20.832 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 19:52:29.648 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:44 - Session Secret Key: ********d54e
2025-07-16 19:52:29.649 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 19:52:29.650 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 19:52:29.650 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 19:52:29.652 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 19:52:29.667 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2000309 - 服务器启动中...
2025-07-16 19:52:29.701 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 19:52:29.702 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 19:52:29.708 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 19:52:29.708 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 19:52:29.708 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 19:52:29.708 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 19:52:29.709 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 19:52:29.709 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 19:52:29)
2025-07-16 19:52:29.716 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 19:52:34.612 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 19:52:34, 总耗时: 4.90 秒)
2025-07-16 19:52:34.621 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 19:52:34.621 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 19:52:34.621 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 19:52:34.621 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 19:52:34.623 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 19:52:34.623 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 19:52:34.623 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 19:52:34.623 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 19:52:34.623 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 19:52:34.648 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 19:52:34.649 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 19:52:34.649 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 19:52:34.651 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 19:52:34.652 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 19:52:34.652 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 19:52:34.652 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 19:52:34.652 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 19:52:46.024 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 07df7403-c2cb-4ebc-a8ed-487d05092971, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 19:52:46.024 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 07df7403-c2cb-4ebc-a8ed-487d05092971) 登录成功。
2025-07-16 19:52:46.217 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 07df7403-c2cb-4ebc-a8ed-487d05092971) 的 WebSocket 已连接并关联。
2025-07-16 19:52:46.294 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 19:52:59.355 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:52:59.355 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我看看二次有哪些规范
2025-07-16 19:53:05.295 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:0', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "/ALL", "category": "二次"}'}}]
2025-07-16 19:53:05.295 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "/ALL", "category": "二次"}
2025-07-16 19:53:05.338 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: '/ALL', 类别: '二次', 读取文件: False, Top N: 3
2025-07-16 19:53:05.338 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 19:53:05.338 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 19:53:05.338 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:897 - 用户请求 '二次' 类别下的所有规范。
2025-07-16 19:53:25.990 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:53:25.991 | INFO     | sse_proxy.sse2websocket1:run:235 - 会话 07df7403-c2cb-4ebc-a8ed-487d05092971 用户 admin 中止响应流任务
2025-07-16 19:53:25.991 | INFO     | sse_proxy.sse2websocket1:_start:92 - 会话 07df7403-c2cb-4ebc-a8ed-487d05092971 被取消
2025-07-16 19:53:27.882 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:53:27.882 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我打开3
2025-07-16 19:53:38.272 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:1', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范", "category": "二次", "read_file": true}'}}]
2025-07-16 19:53:38.272 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范", "category": "二次", "read_file": true}
2025-07-16 19:53:38.315 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 19:53:38.315 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 19:53:38.316 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 19:53:38.316 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 19:53:38.432 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 1.0000000000000007), ('45_DLT-559-2018《220kV～750kV电网继电保护装置运行整定规程》_md', 0.6295324438025799), ('变电站辅助设备监控系统设计规范', 0.6237254964098293)]
2025-07-16 19:53:38.432 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:922 - 最匹配文件 '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 相似度(1.0000) > 0.7，准备读取内容。
2025-07-16 19:53:38.432 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:78 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf (相对路径: 二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf)，分隔符: '
'
2025-07-16 19:54:11.040 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:83 - MCP Tool: 解析完成，文件: QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf, 内容长度: 1165719
2025-07-16 19:54:11.040 | WARNING  | my_mcp_tools.mcp_tools:open_specification_files:941 - 文件 '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 内容过长，可能超过模型上下文窗口。
2025-07-16 19:54:11.040 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (token: b79d036cf9d84add854085b82caaaf73), 有效期至: Thu Jul 17 03:54:11 2025
2025-07-16 19:54:11.122 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/b79d036cf9d84add854085b82caaaf73/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf
2025-07-16 19:54:11.357 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'b79d036cf9d84add854085b82caaaf73', URL中的文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_d4c44348.pdf'
2025-07-16 19:54:11.358 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'b79d036cf9d84add854085b82caaaf73' (文件: QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 19:54:11.358 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_d4c44348.pdf' 与Token关联文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 19:54:11.358 | DEBUG    | core.routing:download_file_via_token:284 - Token 'b79d036cf9d84add854085b82caaaf73' 验证成功。准备下载文件: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf', URL文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_d4c44348.pdf')
2025-07-16 19:54:11.359 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'b79d036cf9d84add854085b82caaaf73', URL中的文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_d4c44348.pdf'
2025-07-16 19:54:11.360 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'b79d036cf9d84add854085b82caaaf73' (文件: QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 19:54:11.360 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_d4c44348.pdf' 与Token关联文件名 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 19:54:11.360 | DEBUG    | core.routing:download_file_via_token:284 - Token 'b79d036cf9d84add854085b82caaaf73' 验证成功。准备下载文件: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范/QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范.pdf', URL文件名: 'QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范_d4c44348.pdf')
2025-07-16 19:56:37.666 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:56:37.666 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 再帮我看看通信有什么规范
2025-07-16 19:56:43.810 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:2', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "/ALL", "category": "通信"}'}}]
2025-07-16 19:56:43.810 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "/ALL", "category": "通信"}
2025-07-16 19:56:43.856 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: '/ALL', 类别: '通信', 读取文件: False, Top N: 3
2025-07-16 19:56:43.856 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '通信' 的规程规范...
2025-07-16 19:56:43.857 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '通信' 查询到 1 条规程记录。
2025-07-16 19:56:43.857 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:897 - 用户请求 '通信' 类别下的所有规范。
2025-07-16 19:57:11.899 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:57:11.899 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 打开它
2025-07-16 19:57:20.562 | INFO     | sse_proxy.sse2websocket1:_handle_stream:135 - 触发工具调用: [{'id': 'open_specification_files:3', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范", "category": "通信", "read_file": true}'}}]
2025-07-16 19:57:20.563 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:171 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范", "category": "通信", "read_file": true}
2025-07-16 19:57:20.614 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范', 类别: '通信', 读取文件: True, Top N: 3
2025-07-16 19:57:20.615 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '通信' 的规程规范...
2025-07-16 19:57:20.615 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '通信' 查询到 1 条规程记录。
2025-07-16 19:57:20.615 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 19:57:20.698 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范', 1.0000000000000002)]
2025-07-16 19:57:20.698 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:922 - 最匹配文件 '通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' 相似度(1.0000) > 0.7，准备读取内容。
2025-07-16 19:57:20.698 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:78 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf (相对路径: 通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf)，分隔符: '
'
2025-07-16 19:57:25.128 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:83 - MCP Tool: 解析完成，文件: GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf, 内容长度: 45650
2025-07-16 19:57:25.128 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (token: f33de4d730b7412c839f366465a49a0b), 有效期至: Thu Jul 17 03:57:25 2025
2025-07-16 19:57:25.212 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/f33de4d730b7412c839f366465a49a0b/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf
2025-07-16 19:57:25.416 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'f33de4d730b7412c839f366465a49a0b', URL中的文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_becc4150.pdf'
2025-07-16 19:57:25.416 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'f33de4d730b7412c839f366465a49a0b' (文件: GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 19:57:25.416 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_becc4150.pdf' 与Token关联文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 19:57:25.416 | DEBUG    | core.routing:download_file_via_token:284 - Token 'f33de4d730b7412c839f366465a49a0b' 验证成功。准备下载文件: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf', URL文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_becc4150.pdf')
2025-07-16 19:57:25.418 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: 'f33de4d730b7412c839f366465a49a0b', URL中的文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_becc4150.pdf'
2025-07-16 19:57:25.418 | INFO     | core.session:get_downloadable_file_info:305 - 下载token 'f33de4d730b7412c839f366465a49a0b' (文件: GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 19:57:25.418 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_becc4150.pdf' 与Token关联文件名 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 19:57:25.418 | DEBUG    | core.routing:download_file_via_token:284 - Token 'f33de4d730b7412c839f366465a49a0b' 验证成功。准备下载文件: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/通信/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范/GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范.pdf', URL文件名: 'GBT 51152-2015 波分复用(WDM)光纤传输系统工程设计规范_becc4150.pdf')
2025-07-16 19:58:39.457 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 19:58:39.457 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 这里面对机柜房间布置的间距有什么要求
2025-07-16 20:03:31.525 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 20:03:31.525 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 40/80 40
2025-07-16 20:10:24.286 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 20:10:24.286 | INFO     | sse_proxy.sse2websocket1:run:253 - 启动OpenAI转发：用户 admin, 会话 07df7403-c2cb-4ebc-a8ed-487d05092971, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 波分系统对光纤衰耗裕量有什么要求
2025-07-16 20:22:37.817 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 07df7403-c2cb-4ebc-a8ed-487d05092971 用户 admin 断开连接
2025-07-16 20:22:37.817 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 20:22:37.819 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/07df7403-c2cb-4ebc-a8ed-487d05092971.json
2025-07-16 20:22:37.819 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-16 20:22:37.933 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 07df7403-c2cb-4ebc-a8ed-487d05092971) 的 WebSocket 已连接并关联。
2025-07-16 20:22:38.005 | DEBUG    | sse_proxy.sse2websocket1:run:221 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 20:22:43.228 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 07df7403-c2cb-4ebc-a8ed-487d05092971) 已从状态管理器登出。
2025-07-16 20:22:43.228 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-16 20:22:43.256 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 20:22:43.256 | INFO     | sse_proxy.sse2websocket1:run:258 - WebSocket 会话 07df7403-c2cb-4ebc-a8ed-487d05092971 用户 admin 断开连接
2025-07-16 20:22:43.256 | DEBUG    | sse_proxy.sse2websocket1:_stop:85 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 20:22:43.257 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:202 - 会话历史已保存到: chat_history/admin/07df7403-c2cb-4ebc-a8ed-487d05092971.json
2025-07-16 20:25:01.565 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2000309 - 服务器关闭中...
2025-07-16 20:25:01.565 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 20:25:01.565 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 21:16:38.004 | INFO     | __main__:<module>:44 - Session Secret Key: ********cb44
2025-07-16 21:16:38.005 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 21:16:38.005 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 21:16:38.005 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 21:16:38.007 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 21:16:38.022 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2094447 - 服务器启动中...
2025-07-16 21:16:38.058 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 21:16:38.058 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 21:16:38.066 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 21:16:38.066 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 21:16:38.066 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 21:16:38.066 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 21:16:38.067 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 21:16:38.067 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 21:16:38)
2025-07-16 21:16:38.141 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 21:16:42.636 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 21:16:42, 总耗时: 4.57 秒)
2025-07-16 21:16:42.645 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 21:16:42.645 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 21:16:42.646 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 21:16:42.646 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 21:16:42.648 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 21:16:42.648 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 21:16:42.648 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 21:16:42.648 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 21:16:42.648 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 21:16:42.675 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 21:16:42.676 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 21:16:42.676 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 21:16:42.678 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 21:16:42.678 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 21:16:42.678 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 21:16:42.679 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 21:16:42.679 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 21:16:51.499 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: ea5ff91a-5ebf-4929-bb2b-96457bc63674, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:16:51.499 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: ea5ff91a-5ebf-4929-bb2b-96457bc63674) 登录成功。
2025-07-16 21:16:51.645 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: ea5ff91a-5ebf-4929-bb2b-96457bc63674) 的 WebSocket 已连接并关联。
2025-07-16 21:16:51.723 | DEBUG    | sse_proxy.sse2websocket1:run:222 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 21:17:02.905 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:17:02.905 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我看下二次的规范有哪些
2025-07-16 21:17:07.375 | INFO     | sse_proxy.sse2websocket1:_handle_stream:136 - 触发工具调用: [{'id': 'open_specification_files:0', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "/ALL", "category": "二次", "read_file": false}'}}]
2025-07-16 21:17:07.375 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:172 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "/ALL", "category": "二次", "read_file": false}
2025-07-16 21:17:07.417 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: '/ALL', 类别: '二次', 读取文件: False, Top N: 3
2025-07-16 21:17:07.417 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 21:17:07.418 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 21:17:07.418 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:897 - 用户请求 '二次' 类别下的所有规范。
2025-07-16 21:17:46.803 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:17:46.803 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我打开10688 那个
2025-07-16 21:17:53.180 | INFO     | sse_proxy.sse2websocket1:_handle_stream:136 - 触发工具调用: [{'id': 'open_specification_files:1', 'type': 'function', 'function': {'name': 'open_specification_files', 'arguments': '{"user": "admin", "query_spec_filename": "Q/GDW 10688-2024 变电站辅助监控系统设计规范", "category": "二次", "read_file": true}'}}]
2025-07-16 21:17:53.180 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:172 - 执行工具调用: open_specification_files with args: {"user": "admin", "query_spec_filename": "Q/GDW 10688-2024 变电站辅助监控系统设计规范", "category": "二次", "read_file": true}
2025-07-16 21:17:53.223 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:876 - 工具调用: open_specification_files, 查询: 'Q/GDW 10688-2024 变电站辅助监控系统设计规范', 类别: '二次', 读取文件: True, Top N: 3
2025-07-16 21:17:53.224 | DEBUG    | database.specbase:query_specs_by_category:25 - 正在从数据库 '/home/zhouxiang/mcp_file_server/data/spec_files.db' 查询类别为 '二次' 的规程规范...
2025-07-16 21:17:53.224 | INFO     | database.specbase:query_specs_by_category:37 - 成功为类别 '二次' 查询到 4 条规程记录。
2025-07-16 21:17:53.224 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-16 21:17:53.339 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('变电站辅助设备监控系统设计规范', 0.870192660933805), ('QGDW 10766-2024 10kV～110（66）kV 线路保护及辅助装置标准化设计规范', 0.7623336808494068), ('GB／T-14285—2023《继电保护和安全自动装置技术规程》_md', 0.6379395311634324)]
2025-07-16 21:17:53.339 | INFO     | my_mcp_tools.mcp_tools:open_specification_files:922 - 最匹配文件 '二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 相似度(0.8702) > 0.7，准备读取内容。
2025-07-16 21:17:53.339 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:78 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf (相对路径: 二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf)，分隔符: '
'
2025-07-16 21:18:01.760 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:83 - MCP Tool: 解析完成，文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 内容长度: 25215
2025-07-16 21:18:01.760 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (token: 1d27c843279745abbca83bf97f21b27f), 有效期至: Thu Jul 17 05:18:01 2025
2025-07-16 21:18:01.819 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:490 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/1d27c843279745abbca83bf97f21b27f/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf
2025-07-16 21:18:02.001 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '1d27c843279745abbca83bf97f21b27f', URL中的文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_ff205b48.pdf'
2025-07-16 21:18:02.001 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '1d27c843279745abbca83bf97f21b27f' (文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 21:18:02.002 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范_ff205b48.pdf' 与Token关联文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 21:18:02.002 | DEBUG    | core.routing:download_file_via_token:284 - Token '1d27c843279745abbca83bf97f21b27f' 验证成功。准备下载文件: 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', URL文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_ff205b48.pdf')
2025-07-16 21:18:02.004 | DEBUG    | core.routing:download_file_via_token:261 - 接收到下载请求，Token: '1d27c843279745abbca83bf97f21b27f', URL中的文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_ff205b48.pdf'
2025-07-16 21:18:02.004 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '1d27c843279745abbca83bf97f21b27f' (文件: QGDW 10688-2024 变电站辅助监控系统设计规范.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-16 21:18:02.005 | WARNING  | core.routing:download_file_via_token:278 - 下载请求中URL文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范_ff205b48.pdf' 与Token关联文件名 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' 不匹配。将使用Token关联文件名。
2025-07-16 21:18:02.005 | DEBUG    | core.routing:download_file_via_token:284 - Token '1d27c843279745abbca83bf97f21b27f' 验证成功。准备下载文件: 'QGDW 10688-2024 变电站辅助监控系统设计规范.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/规程规范/二次/变电站辅助设备监控系统设计规范/QGDW 10688-2024 变电站辅助监控系统设计规范.pdf', URL文件名: 'QGDW 10688-2024 变电站辅助监控系统设计规范_ff205b48.pdf')
2025-07-16 21:18:52.834 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:18:52.835 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 你叫什么名字
2025-07-16 21:19:50.194 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:19:50.195 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 帮我打开船闸的项目文件
2025-07-16 21:19:54.087 | INFO     | sse_proxy.sse2websocket1:_handle_stream:136 - 触发工具调用: [{'id': 'query_project_files:2', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-16 21:19:54.087 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:172 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-16 21:19:54.131 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-16 21:19:54.132 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-16 21:19:54.133 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-16 21:19:54.133 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-16 21:19:54.134 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-16 21:19:54.135 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-16 21:20:14.979 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:20:14.979 | INFO     | sse_proxy.sse2websocket1:run:236 - 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674 用户 admin 中止响应流任务
2025-07-16 21:20:14.980 | INFO     | sse_proxy.sse2websocket1:_start:93 - 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674 被取消
2025-07-16 21:20:53.671 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:20:53.672 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674, 对话ID: a874f9cd-bfbf-4e89-8647-554c813c89c4, 查询: 我们之前已经聊了什么
2025-07-16 21:25:22.198 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:25:22.199 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674, 对话ID: c6b8e5c1-54a7-4cfc-86d6-ad7e522fdc04, 查询: 我们之前聊了什么
2025-07-16 21:35:06.281 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: ea5ff91a-5ebf-4929-bb2b-96457bc63674) 已从状态管理器登出。
2025-07-16 21:35:06.281 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-16 21:35:06.322 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 21:35:06.323 | INFO     | sse_proxy.sse2websocket1:run:269 - WebSocket 会话 ea5ff91a-5ebf-4929-bb2b-96457bc63674 用户 admin 断开连接
2025-07-16 21:35:06.323 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:35:06.324 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:203 - 会话历史已保存到: chat_history/admin/ea5ff91a-5ebf-4929-bb2b-96457bc63674.json
2025-07-16 21:35:12.255 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 5c9cb39f-ac05-4b8a-98a1-d592a6c49e8f, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:35:12.255 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 5c9cb39f-ac05-4b8a-98a1-d592a6c49e8f) 登录成功。
2025-07-16 21:35:31.341 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 5c9cb39f-ac05-4b8a-98a1-d592a6c49e8f 最近有HTTP活动。
2025-07-16 21:35:31.341 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'5c9cb39f-ac05-4b8a-98a1-d592a6c49e8f' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: 4714cff9-b383-42b5-8b8f-a82016220b70。
2025-07-16 21:35:31.342 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-16 21:36:45.388 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 5c9cb39f-ac05-4b8a-98a1-d592a6c49e8f) 已从状态管理器登出。
2025-07-16 21:36:45.388 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 21:37:01.583 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 4714cff9-b383-42b5-8b8f-a82016220b70, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:37:01.583 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 4714cff9-b383-42b5-8b8f-a82016220b70) 登录成功。
2025-07-16 21:37:24.733 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 4714cff9-b383-42b5-8b8f-a82016220b70) 已从状态管理器登出。
2025-07-16 21:37:24.733 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 21:37:35.805 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: a20153c5-0802-4c67-9d48-60667bc61b6d, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:37:35.805 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: a20153c5-0802-4c67-9d48-60667bc61b6d) 登录成功。
2025-07-16 21:38:34.344 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: a20153c5-0802-4c67-9d48-60667bc61b6d) 已从状态管理器登出。
2025-07-16 21:38:34.344 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 21:38:37.957 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 71cb97e9-354e-4ff7-ae85-4c2a6e754075, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:38:37.958 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 71cb97e9-354e-4ff7-ae85-4c2a6e754075) 登录成功。
2025-07-16 21:39:14.832 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 71cb97e9-354e-4ff7-ae85-4c2a6e754075) 已从状态管理器登出。
2025-07-16 21:39:14.832 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 21:39:17.845 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 606c271c-55e4-4d94-8268-72901a5ef9bf, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:39:17.846 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 606c271c-55e4-4d94-8268-72901a5ef9bf) 登录成功。
2025-07-16 21:39:33.754 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2094447 - 服务器关闭中...
2025-07-16 21:39:33.754 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 21:39:33.754 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 21:39:37.709 | INFO     | __main__:<module>:44 - Session Secret Key: ********7ac5
2025-07-16 21:39:37.710 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 21:39:37.710 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 21:39:37.710 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 21:39:37.712 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 21:39:37.726 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2120171 - 服务器启动中...
2025-07-16 21:39:37.760 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 21:39:37.760 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 21:39:37.766 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 21:39:37.766 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 21:39:37.766 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 21:39:37.766 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 21:39:37.767 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 21:39:37.767 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 21:39:37)
2025-07-16 21:39:37.774 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 21:39:42.214 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 21:39:42, 总耗时: 4.45 秒)
2025-07-16 21:39:42.223 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 21:39:42.224 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 21:39:42.224 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 21:39:42.224 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 21:39:42.226 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 21:39:42.226 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 21:39:42.226 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 21:39:42.226 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 21:39:42.226 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 21:39:42.251 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 21:39:42.252 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 21:39:42.252 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 21:39:42.254 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 21:39:42.254 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 21:39:42.255 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 21:39:42.255 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 21:39:42.255 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 21:39:46.995 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 8fe084e6-b44e-400d-a3e4-d58d66ce1487, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:39:46.995 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 8fe084e6-b44e-400d-a3e4-d58d66ce1487) 登录成功。
2025-07-16 21:40:41.484 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 8fe084e6-b44e-400d-a3e4-d58d66ce1487 最近有HTTP活动。
2025-07-16 21:40:41.484 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'8fe084e6-b44e-400d-a3e4-d58d66ce1487' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: 2292ce99-1dfd-43eb-94ec-6f80c9cf1862。
2025-07-16 21:40:41.484 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-16 21:40:48.028 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 2292ce99-1dfd-43eb-94ec-6f80c9cf1862, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:40:48.028 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: 2292ce99-1dfd-43eb-94ec-6f80c9cf1862) 登录成功。
2025-07-16 21:41:42.267 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 8fe084e6-b44e-400d-a3e4-d58d66ce1487 最近有HTTP活动。
2025-07-16 21:41:42.267 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'8fe084e6-b44e-400d-a3e4-d58d66ce1487' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: a92283de-fced-4032-bae7-3eb96aa4b9ec。
2025-07-16 21:41:42.267 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-16 21:42:02.387 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 2292ce99-1dfd-43eb-94ec-6f80c9cf1862) 已从状态管理器登出。
2025-07-16 21:42:02.387 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-16 21:42:16.777 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: a92283de-fced-4032-bae7-3eb96aa4b9ec, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:42:16.777 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: a92283de-fced-4032-bae7-3eb96aa4b9ec) 登录成功。
2025-07-16 21:45:17.730 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: a92283de-fced-4032-bae7-3eb96aa4b9ec) 已从状态管理器登出。
2025-07-16 21:45:17.731 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-16 21:45:19.337 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 8fe084e6-b44e-400d-a3e4-d58d66ce1487 最近有HTTP活动。
2025-07-16 21:45:19.337 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'8fe084e6-b44e-400d-a3e4-d58d66ce1487' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: 138fa6c2-8835-44ca-a787-e3fc6048fed1。
2025-07-16 21:45:19.337 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-16 21:45:25.488 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 138fa6c2-8835-44ca-a787-e3fc6048fed1, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:45:25.488 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: 138fa6c2-8835-44ca-a787-e3fc6048fed1) 登录成功。
2025-07-16 21:45:25.713 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 138fa6c2-8835-44ca-a787-e3fc6048fed1) 的 WebSocket 已连接并关联。
2025-07-16 21:45:25.785 | DEBUG    | sse_proxy.sse2websocket1:run:222 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 21:45:30.198 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:45:30.198 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 zhouxiang, 会话 138fa6c2-8835-44ca-a787-e3fc6048fed1, 对话ID: 8308bf39-e82e-4bda-a5bc-f29576df1468, 查询: nihao
2025-07-16 21:48:10.041 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: 138fa6c2-8835-44ca-a787-e3fc6048fed1) 已从状态管理器登出。
2025-07-16 21:48:10.041 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-16 21:48:10.109 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-16 21:48:10.109 | INFO     | sse_proxy.sse2websocket1:run:269 - WebSocket 会话 138fa6c2-8835-44ca-a787-e3fc6048fed1 用户 zhouxiang 断开连接
2025-07-16 21:48:10.109 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:48:10.110 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:203 - 会话历史已保存到: chat_history/zhouxiang/138fa6c2-8835-44ca-a787-e3fc6048fed1.json
2025-07-16 21:48:30.268 | DEBUG    | core.session:attempt_login:125 - 用户 admin 的旧会话 8fe084e6-b44e-400d-a3e4-d58d66ce1487 最近有HTTP活动。
2025-07-16 21:48:30.269 | WARNING  | core.session:attempt_login:128 - 登录尝试失败: 用户 'admin' 已在会话'8fe084e6-b44e-400d-a3e4-d58d66ce1487' (IP: 240e:3a1:7d1:2440::e7) 活动。新尝试来自 IP: 240e:3a1:7d1:2440::e7, 会话: 704aedd1-3bc6-452a-956e-e60aa92abce2。
2025-07-16 21:48:30.269 | WARNING  | core.routing:login:117 - 登录尝试失败: 用户 'admin' (IP: 240e:3a1:7d1:2440::e7) 因排他性登录控制被拒绝。
2025-07-16 21:48:36.182 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: 704aedd1-3bc6-452a-956e-e60aa92abce2, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 21:48:36.182 | INFO     | core.routing:login:114 - 用户 'zhouxiang' (IP: 240e:3a1:7d1:2440::e7, Session: 704aedd1-3bc6-452a-956e-e60aa92abce2) 登录成功。
2025-07-16 21:48:36.522 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 704aedd1-3bc6-452a-956e-e60aa92abce2) 的 WebSocket 已连接并关联。
2025-07-16 21:48:36.593 | DEBUG    | sse_proxy.sse2websocket1:run:222 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 21:48:41.275 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:48:41.276 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 zhouxiang, 会话 704aedd1-3bc6-452a-956e-e60aa92abce2, 对话ID: 55eef816-d54c-42f5-adf5-61096df34bf3, 查询: nihao
2025-07-16 21:48:50.722 | INFO     | sse_proxy.sse2websocket1:run:241 - 收到新对话开始事件，对话ID: 588e54a1-88e1-4092-8944-d01da862397c。清空历史记录。
2025-07-16 21:49:18.375 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:49:18.375 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 zhouxiang, 会话 704aedd1-3bc6-452a-956e-e60aa92abce2, 对话ID: 588e54a1-88e1-4092-8944-d01da862397c, 查询: 我们之前聊了什么
2025-07-16 21:51:32.943 | INFO     | sse_proxy.sse2websocket1:run:269 - WebSocket 会话 704aedd1-3bc6-452a-956e-e60aa92abce2 用户 zhouxiang 断开连接
2025-07-16 21:51:32.943 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:51:32.944 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:203 - 会话历史已保存到: chat_history/zhouxiang/704aedd1-3bc6-452a-956e-e60aa92abce2.json
2025-07-16 21:51:32.944 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-16 21:51:33.327 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: 704aedd1-3bc6-452a-956e-e60aa92abce2) 的 WebSocket 已连接并关联。
2025-07-16 21:51:33.400 | DEBUG    | sse_proxy.sse2websocket1:run:222 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 21:52:14.083 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:52:14.083 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 zhouxiang, 会话 704aedd1-3bc6-452a-956e-e60aa92abce2, 对话ID: 55eef816-d54c-42f5-adf5-61096df34bf3, 查询: hello阿
2025-07-16 21:52:17.869 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 21:52:17.870 | INFO     | sse_proxy.sse2websocket1:run:236 - 会话 704aedd1-3bc6-452a-956e-e60aa92abce2 用户 zhouxiang 中止响应流任务
2025-07-16 21:52:17.870 | INFO     | sse_proxy.sse2websocket1:_start:93 - 会话 704aedd1-3bc6-452a-956e-e60aa92abce2 被取消
2025-07-16 22:35:17.428 | INFO     | sse_proxy.sse2websocket1:run:269 - WebSocket 会话 704aedd1-3bc6-452a-956e-e60aa92abce2 用户 zhouxiang 断开连接
2025-07-16 22:35:17.428 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 22:35:17.429 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:203 - 会话历史已保存到: chat_history/zhouxiang/704aedd1-3bc6-452a-956e-e60aa92abce2.json
2025-07-16 22:35:17.429 | INFO     | core.session:disconnect_websocket:107 - 用户 'zhouxiang' 的 WebSocket 已断开。
2025-07-16 22:35:17.529 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2120171 - 服务器关闭中...
2025-07-16 22:35:17.530 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-16 22:35:17.530 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-16 22:35:21.181 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:44 - Session Secret Key: ********d380
2025-07-16 22:35:21.182 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-16 22:35:21.183 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-16 22:35:21.183 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-16 22:35:21.186 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-16 22:35:21.201 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2181775 - 服务器启动中...
2025-07-16 22:35:21.234 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-16 22:35:21.234 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-16 22:35:21.240 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-16 22:35:21.240 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-16 22:35:21.240 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-16 22:35:21.240 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-16 22:35:21.240 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-16 22:35:21.241 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-16 22:35:21)
2025-07-16 22:35:21.248 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-16 22:35:25.744 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-16 22:35:25, 总耗时: 4.50 秒)
2025-07-16 22:35:25.756 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-16 22:35:25.757 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-16 22:35:25.757 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-16 22:35:25.757 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-16 22:35:25.759 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-16 22:35:25.759 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-16 22:35:25.759 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-16 22:35:25.759 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-16 22:35:25.759 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-16 22:35:25.785 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-16 22:35:25.786 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-16 22:35:25.787 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-16 22:35:25.789 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-16 22:35:25.789 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-16 22:35:25.789 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-16 22:35:25.790 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-16 22:35:25.790 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-16 22:35:34.795 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 1e3cd577-41c1-42bd-86a8-f71f69a44dda, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-16 22:35:34.795 | INFO     | core.routing:login:114 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 1e3cd577-41c1-42bd-86a8-f71f69a44dda) 登录成功。
2025-07-16 22:35:35.039 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1e3cd577-41c1-42bd-86a8-f71f69a44dda) 的 WebSocket 已连接并关联。
2025-07-16 22:35:35.113 | DEBUG    | sse_proxy.sse2websocket1:run:222 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-16 22:35:43.329 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 1e3cd577-41c1-42bd-86a8-f71f69a44dda) 已从状态管理器登出。
2025-07-16 22:35:43.329 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-16 22:35:43.359 | INFO     | core.routing:logout:125 - HTTP会话已清除 (用户: admin)。
2025-07-16 22:35:43.359 | INFO     | sse_proxy.sse2websocket1:run:269 - WebSocket 会话 1e3cd577-41c1-42bd-86a8-f71f69a44dda 用户 admin 断开连接
2025-07-16 22:35:43.359 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-16 22:35:43.360 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:203 - 会话历史已保存到: chat_history/admin/1e3cd577-41c1-42bd-86a8-f71f69a44dda.json
2025-07-17 07:16:36.243 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 07:16:36.243 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 07:16:36.244 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 07:16:36.244 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 07:16:36.244 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 07:16:36.244 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 07:16:36.244 | INFO     | __main__:<module>:44 - Session Secret Key: ********de38
2025-07-17 07:16:36.244 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 07:16:36.245 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 07:16:36.245 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 07:16:36.248 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 07:16:36.263 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2743554 - 服务器启动中...
2025-07-17 07:16:36.296 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 07:16:36.296 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 07:16:36.302 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 07:16:36.302 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 07:16:36.302 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 07:16:36.302 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 07:16:36.303 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 07:16:36.303 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 07:16:36)
2025-07-17 07:16:36.311 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 07:16:40.764 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 07:16:40, 总耗时: 4.46 秒)
2025-07-17 07:16:40.774 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 07:16:40.774 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 07:16:40.774 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 07:16:40.774 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 07:16:40.776 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 07:16:40.776 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 07:16:40.776 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 07:16:40.776 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 07:16:40.776 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 07:16:40.802 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 07:16:40.803 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 07:16:40.803 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 07:16:40.805 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 07:16:40.805 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 07:16:40.805 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 07:16:40.806 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 07:16:40.806 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 07:16:50.257 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 97e650c5-1e89-4a8e-9395-4d00d6ebe53a, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 07:16:50.257 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 97e650c5-1e89-4a8e-9395-4d00d6ebe53a) 登录成功。
2025-07-17 07:16:50.454 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 97e650c5-1e89-4a8e-9395-4d00d6ebe53a) 的 WebSocket 已连接并关联。
2025-07-17 07:16:50.524 | DEBUG    | sse_proxy.sse2websocket1:run:222 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 07:17:02.752 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 07:17:02.752 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 97e650c5-1e89-4a8e-9395-4d00d6ebe53a, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 帮我打开船闸的项目文件
2025-07-17 07:17:05.665 | INFO     | sse_proxy.sse2websocket1:_handle_stream:136 - 触发工具调用: [{'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"project_name":"船闸","user":"admin"}'}}]
2025-07-17 07:17:05.665 | WARNING  | sse_proxy.sse2websocket1:_execute_tool_calls:169 - 无效的工具调用，缺少名称或ID: {'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"project_name":"船闸","user":"admin"}'}}
2025-07-17 07:17:56.212 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 07:17:56.212 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 97e650c5-1e89-4a8e-9395-4d00d6ebe53a, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 似乎有错误，重新打开
2025-07-17 07:17:58.645 | INFO     | sse_proxy.sse2websocket1:_handle_stream:136 - 触发工具调用: [{'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 07:17:58.645 | WARNING  | sse_proxy.sse2websocket1:_execute_tool_calls:169 - 无效的工具调用，缺少名称或ID: {'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}
2025-07-17 07:18:00.924 | INFO     | sse_proxy.sse2websocket1:_handle_stream:136 - 触发工具调用: [{'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 07:18:00.924 | WARNING  | sse_proxy.sse2websocket1:_execute_tool_calls:169 - 无效的工具调用，缺少名称或ID: {'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}
2025-07-17 07:18:30.417 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 07:18:30.417 | INFO     | sse_proxy.sse2websocket1:run:264 - 启动OpenAI转发：用户 admin, 会话 97e650c5-1e89-4a8e-9395-4d00d6ebe53a, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 你的参数里少了个id，随便填一个重新调用
2025-07-17 07:23:46.749 | INFO     | sse_proxy.sse2websocket1:run:269 - WebSocket 会话 97e650c5-1e89-4a8e-9395-4d00d6ebe53a 用户 admin 断开连接
2025-07-17 07:23:46.749 | DEBUG    | sse_proxy.sse2websocket1:_stop:86 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 07:23:46.751 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:203 - 会话历史已保存到: chat_history/admin/97e650c5-1e89-4a8e-9395-4d00d6ebe53a.json
2025-07-17 07:23:46.751 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 07:23:46.850 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2743554 - 服务器关闭中...
2025-07-17 07:23:46.850 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 07:23:46.850 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 07:23:50.276 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 07:23:50.276 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 07:23:50.277 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 07:23:50.277 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 07:23:50.277 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 07:23:50.277 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 07:23:50.277 | INFO     | __main__:<module>:44 - Session Secret Key: ********79d3
2025-07-17 07:23:50.277 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 07:23:50.278 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 07:23:50.278 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 07:23:50.281 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 07:23:50.296 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2751475 - 服务器启动中...
2025-07-17 07:23:50.330 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 07:23:50.330 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 07:23:50.336 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 07:23:50.336 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 07:23:50.336 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 07:23:50.337 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 07:23:50.337 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 07:23:50.337 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 07:23:50)
2025-07-17 07:23:50.344 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 07:23:54.844 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 07:23:54, 总耗时: 4.51 秒)
2025-07-17 07:23:54.853 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 07:23:54.853 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 07:23:54.854 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 07:23:54.854 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 07:23:54.856 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 07:23:54.856 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 07:23:54.856 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 07:23:54.856 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 07:23:54.856 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 07:23:54.882 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 07:23:54.883 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 07:23:54.883 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 07:23:54.885 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 07:23:54.885 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 07:23:54.885 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 07:23:54.886 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 07:23:54.886 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 07:23:55.694 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: 未知)。
2025-07-17 07:23:58.619 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: c4014ae3-9034-495f-a187-acdde7a030fd, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 07:23:58.620 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: c4014ae3-9034-495f-a187-acdde7a030fd) 登录成功。
2025-07-17 07:23:58.780 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: c4014ae3-9034-495f-a187-acdde7a030fd) 的 WebSocket 已连接并关联。
2025-07-17 07:23:58.858 | DEBUG    | sse_proxy.sse2websocket1:run:225 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 07:24:02.928 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 07:24:02.929 | INFO     | sse_proxy.sse2websocket1:run:267 - 启动OpenAI转发：用户 admin, 会话 c4014ae3-9034-495f-a187-acdde7a030fd, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 帮我打开船闸的项目文件
2025-07-17 07:24:05.901 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 07:24:05.901 | WARNING  | sse_proxy.sse2websocket1:_execute_tool_calls:172 - 无效的工具调用，缺少名称或ID: {'id': '', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}
2025-07-17 07:35:06.838 | INFO     | sse_proxy.sse2websocket1:run:272 - WebSocket 会话 c4014ae3-9034-495f-a187-acdde7a030fd 用户 admin 断开连接
2025-07-17 07:35:06.838 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 07:35:06.839 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:206 - 会话历史已保存到: chat_history/admin/c4014ae3-9034-495f-a187-acdde7a030fd.json
2025-07-17 07:35:06.839 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 07:35:06.939 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2751475 - 服务器关闭中...
2025-07-17 07:35:06.939 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 07:35:06.939 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 08:48:41.470 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 08:48:41.470 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 08:48:41.470 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 08:48:41.471 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 08:48:41.471 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 08:48:41.471 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 08:48:41.471 | INFO     | __main__:<module>:44 - Session Secret Key: ********2860
2025-07-17 08:48:41.471 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 08:48:41.471 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 08:48:41.472 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 08:48:41.474 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 08:48:41.492 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2842925 - 服务器启动中...
2025-07-17 08:48:41.528 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 08:48:41.528 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 08:48:41.535 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 08:48:41.535 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 08:48:41.535 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 08:48:41.535 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 08:48:41.536 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 08:48:41.536 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 08:48:41)
2025-07-17 08:48:41.544 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 08:48:46.253 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 08:48:46, 总耗时: 4.72 秒)
2025-07-17 08:48:46.264 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 08:48:46.264 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 08:48:46.264 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 08:48:46.264 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 08:48:46.266 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 08:48:46.266 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 08:48:46.267 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 08:48:46.267 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 08:48:46.267 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 08:48:46.292 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 08:48:46.294 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 08:48:46.294 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 08:48:46.296 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 08:48:46.296 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 08:48:46.296 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 08:48:46.297 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 08:48:46.297 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 08:48:47.553 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: cfc542be-11d2-4247-a09d-8f86b1097564, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 08:48:47.553 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: cfc542be-11d2-4247-a09d-8f86b1097564) 登录成功。
2025-07-17 08:48:47.608 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: cfc542be-11d2-4247-a09d-8f86b1097564) 的 WebSocket 已连接并关联。
2025-07-17 08:48:47.696 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 08:49:01.088 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 08:49:01.089 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 cfc542be-11d2-4247-a09d-8f86b1097564, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 帮我打开船闸的项目文件
2025-07-17 08:49:04.250 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': 14, 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 08:49:04.250 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 08:49:04.302 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 08:49:04.302 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 08:49:04.304 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 08:49:04.304 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 08:49:04.309 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 08:49:04.310 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 08:49:07.976 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 08:49:27.579 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:626 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/d06ce28a6de64f33bf1cf97d94eff5e8/382-S230168C-A-08 电缆支架示意图 Model (1).pdf
2025-07-17 08:49:27.767 | DEBUG    | core.routing:download_file_via_token:263 - 接收到下载请求，Token: 'd06ce28a6de64f33bf1cf97d94eff5e8', URL中的文件名: '382-S230168C-A-08 电缆支架示意图 Model (1)_28fb4abd.pdf'
2025-07-17 08:49:27.768 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd06ce28a6de64f33bf1cf97d94eff5e8' (文件: 382-S230168C-A-08 电缆支架示意图 Model (1).pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 08:49:27.768 | WARNING  | core.routing:download_file_via_token:280 - 下载请求中URL文件名 '382-S230168C-A-08 电缆支架示意图 Model (1)_28fb4abd.pdf' 与Token关联文件名 '382-S230168C-A-08 电缆支架示意图 Model (1).pdf' 不匹配。将使用Token关联文件名。
2025-07-17 08:49:27.768 | DEBUG    | core.routing:download_file_via_token:286 - Token 'd06ce28a6de64f33bf1cf97d94eff5e8' 验证成功。准备下载文件: '382-S230168C-A-08 电缆支架示意图 Model (1).pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf', URL文件名: '382-S230168C-A-08 电缆支架示意图 Model (1)_28fb4abd.pdf')
2025-07-17 08:49:27.770 | DEBUG    | core.routing:download_file_via_token:263 - 接收到下载请求，Token: 'd06ce28a6de64f33bf1cf97d94eff5e8', URL中的文件名: '382-S230168C-A-08 电缆支架示意图 Model (1)_28fb4abd.pdf'
2025-07-17 08:49:27.770 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'd06ce28a6de64f33bf1cf97d94eff5e8' (文件: 382-S230168C-A-08 电缆支架示意图 Model (1).pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 08:49:27.770 | WARNING  | core.routing:download_file_via_token:280 - 下载请求中URL文件名 '382-S230168C-A-08 电缆支架示意图 Model (1)_28fb4abd.pdf' 与Token关联文件名 '382-S230168C-A-08 电缆支架示意图 Model (1).pdf' 不匹配。将使用Token关联文件名。
2025-07-17 08:49:27.770 | DEBUG    | core.routing:download_file_via_token:286 - Token 'd06ce28a6de64f33bf1cf97d94eff5e8' 验证成功。准备下载文件: '382-S230168C-A-08 电缆支架示意图 Model (1).pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf', URL文件名: '382-S230168C-A-08 电缆支架示意图 Model (1)_28fb4abd.pdf')
2025-07-17 08:50:18.484 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 08:50:18.484 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 cfc542be-11d2-4247-a09d-8f86b1097564, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 帮我看看二次的规范有哪些
2025-07-17 08:50:43.196 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 cfc542be-11d2-4247-a09d-8f86b1097564 用户 admin 断开连接
2025-07-17 08:50:43.196 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 08:50:43.198 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/cfc542be-11d2-4247-a09d-8f86b1097564.json
2025-07-17 08:50:43.198 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 08:50:43.296 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2842925 - 服务器关闭中...
2025-07-17 08:50:43.296 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 08:50:43.297 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 08:57:34.200 | INFO     | __main__:<module>:44 - Session Secret Key: ********3625
2025-07-17 08:57:34.201 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 08:57:34.201 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 08:57:34.201 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 08:57:34.205 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 08:57:34.221 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2853021 - 服务器启动中...
2025-07-17 08:57:34.267 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 08:57:34.267 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 08:57:34.274 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 08:57:34.274 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 08:57:34.275 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 08:57:34.275 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 08:57:34.275 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 08:57:34.275 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 08:57:34)
2025-07-17 08:57:34.285 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 08:57:38.967 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 08:57:38, 总耗时: 4.69 秒)
2025-07-17 08:57:38.978 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 08:57:38.978 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 08:57:38.978 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 08:57:38.978 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 08:57:38.981 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 08:57:38.981 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 08:57:38.981 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 08:57:38.981 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 08:57:38.981 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 08:57:39.009 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 08:57:39.010 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 08:57:39.010 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 08:57:39.012 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 08:57:39.013 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 08:57:39.013 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 08:57:39.013 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 08:57:39.014 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 08:57:43.372 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: 未知)。
2025-07-17 08:57:45.485 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 42e7df42-50cc-4329-854f-6adfa318a460, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 08:57:45.485 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 42e7df42-50cc-4329-854f-6adfa318a460) 登录成功。
2025-07-17 08:57:45.536 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 42e7df42-50cc-4329-854f-6adfa318a460) 的 WebSocket 已连接并关联。
2025-07-17 08:57:45.613 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 08:57:57.356 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 08:57:57.356 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 42e7df42-50cc-4329-854f-6adfa318a460, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 帮我打开船闸的项目文件
2025-07-17 08:58:00.303 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 08:58:00.303 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 08:58:00.351 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 08:58:00.351 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 08:58:00.352 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 08:58:00.353 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 08:58:00.355 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 08:58:00.356 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 08:58:42.227 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 08:59:36.984 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 08:59:36.984 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 42e7df42-50cc-4329-854f-6adfa318a460, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 读取下test.pdf
2025-07-17 08:59:43.935 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '76', 'type': 'function', 'function': {'name': 'read_project_file', 'arguments': '{"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}'}}]
2025-07-17 08:59:43.935 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: read_project_file with args: {"user": "admin", "relative_file_path": "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "file_category": "普通文档"}
2025-07-17 08:59:43.978 | INFO     | my_mcp_tools.mcp_tools:read_project_file:588 - 工具调用 (LLM): read_project_file. User: 'admin', Path: '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', Category: '普通文档'
2025-07-17 08:59:43.979 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:78 - MCP Tool: 尝试解析文件: /media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf (相对路径: 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf)，分隔符: '	'
2025-07-17 08:59:44.045 | DEBUG    | my_mcp_tools.mcp_tools:_get_file_content:83 - MCP Tool: 解析完成，文件: test.pdf, 内容长度: 721
2025-07-17 08:59:44.045 | INFO     | my_mcp_tools.mcp_tools:read_project_file:647 - 从文件 2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf成功读取（预览100字）:2．系统部分
2.0 主要技术方案
2.0.1 系统继电保护
本期工程新架设双回线路开断刘桃园～爱园线，并双回接入前圩变，并将刘
桃园～前圩线改为 T 接至刘桃园~卢廷线，形成 110kV 前圩~爱园
2025-07-17 08:59:44.046 | DEBUG    | my_mcp_tools.mcp_tools:read_project_file:656 - 为文件:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf 生成LLM工具下载token 1cbc4a15161f4cbf96d68ba5e02f402b
2025-07-17 08:59:44.046 | INFO     | core.session:update_opened_file:216 - 用户 'admin' 已打开文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf' (token: 1cbc4a15161f4cbf96d68ba5e02f402b), 有效期至: Thu Jul 17 16:59:44 2025
2025-07-17 08:59:44.057 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:626 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/1cbc4a15161f4cbf96d68ba5e02f402b/test.pdf
2025-07-17 08:59:44.356 | DEBUG    | core.routing:download_file_via_token:263 - 接收到下载请求，Token: '1cbc4a15161f4cbf96d68ba5e02f402b', URL中的文件名: 'test_267e7d7a.pdf'
2025-07-17 08:59:44.356 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '1cbc4a15161f4cbf96d68ba5e02f402b' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-17 08:59:44.356 | WARNING  | core.routing:download_file_via_token:280 - 下载请求中URL文件名 'test_267e7d7a.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-17 08:59:44.356 | DEBUG    | core.routing:download_file_via_token:286 - Token '1cbc4a15161f4cbf96d68ba5e02f402b' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_267e7d7a.pdf')
2025-07-17 08:59:44.358 | DEBUG    | core.routing:download_file_via_token:263 - 接收到下载请求，Token: '1cbc4a15161f4cbf96d68ba5e02f402b', URL中的文件名: 'test_267e7d7a.pdf'
2025-07-17 08:59:44.359 | INFO     | core.session:get_downloadable_file_info:305 - 下载token '1cbc4a15161f4cbf96d68ba5e02f402b' (文件: test.pdf, 用户: admin) 在 working_files 中验证成功。
2025-07-17 08:59:44.359 | WARNING  | core.routing:download_file_via_token:280 - 下载请求中URL文件名 'test_267e7d7a.pdf' 与Token关联文件名 'test.pdf' 不匹配。将使用Token关联文件名。
2025-07-17 08:59:44.359 | DEBUG    | core.routing:download_file_via_token:286 - Token '1cbc4a15161f4cbf96d68ba5e02f402b' 验证成功。准备下载文件: 'test.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf', URL文件名: 'test_267e7d7a.pdf')
2025-07-17 09:01:25.760 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 42e7df42-50cc-4329-854f-6adfa318a460) 已从状态管理器登出。
2025-07-17 09:01:25.760 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 09:01:25.761 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: admin)。
2025-07-17 09:01:25.761 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 42e7df42-50cc-4329-854f-6adfa318a460 用户 admin 断开连接
2025-07-17 09:01:25.761 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:01:25.763 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/42e7df42-50cc-4329-854f-6adfa318a460.json
2025-07-17 09:01:29.162 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 27ddfdd1-9408-49d0-858c-e0416265b777, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 09:01:29.162 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 27ddfdd1-9408-49d0-858c-e0416265b777) 登录成功。
2025-07-17 09:01:29.210 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 27ddfdd1-9408-49d0-858c-e0416265b777) 的 WebSocket 已连接并关联。
2025-07-17 09:01:29.299 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 09:02:27.043 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:02:27.043 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 27ddfdd1-9408-49d0-858c-e0416265b777, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 帮我打开船闸的项目文件
2025-07-17 09:02:30.277 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 09:02:30.277 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 09:02:30.321 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 09:02:30.321 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 09:02:30.322 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 09:02:30.322 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 09:02:30.324 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 09:02:30.324 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 09:02:32.066 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:06:16.352 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 27ddfdd1-9408-49d0-858c-e0416265b777) 已从状态管理器登出。
2025-07-17 09:06:16.353 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 09:06:16.353 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: admin)。
2025-07-17 09:06:16.354 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 27ddfdd1-9408-49d0-858c-e0416265b777 用户 admin 断开连接
2025-07-17 09:06:16.354 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:06:16.355 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/27ddfdd1-9408-49d0-858c-e0416265b777.json
2025-07-17 09:06:30.556 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2853021 - 服务器关闭中...
2025-07-17 09:06:30.556 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 09:06:30.556 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 09:08:39.990 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 09:08:39.990 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 09:08:39.990 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 09:08:39.991 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 09:08:39.991 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 09:08:39.991 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 09:08:39.991 | INFO     | __main__:<module>:44 - Session Secret Key: ********7951
2025-07-17 09:08:39.991 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 09:08:39.992 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 09:08:39.992 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 09:08:39.994 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 09:08:40.010 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2864379 - 服务器启动中...
2025-07-17 09:08:40.044 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 09:08:40.044 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 09:08:40.050 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 09:08:40.050 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 09:08:40.050 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 09:08:40.051 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 09:08:40.051 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 09:08:40.051 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 09:08:40)
2025-07-17 09:08:40.059 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 09:08:45.049 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 09:08:45, 总耗时: 5.00 秒)
2025-07-17 09:08:45.059 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 09:08:45.059 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 09:08:45.060 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 09:08:45.060 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 09:08:45.062 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 09:08:45.062 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 09:08:45.063 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 09:08:45.063 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 09:08:45.063 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 09:08:45.089 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 09:08:45.091 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 09:08:45.091 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 09:08:45.093 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 09:08:45.093 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 09:08:45.093 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 09:08:45.094 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 09:08:45.094 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 09:08:58.939 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 81e684d2-d244-4821-85ef-e2ad14e8c939, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 09:08:58.940 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 81e684d2-d244-4821-85ef-e2ad14e8c939) 登录成功。
2025-07-17 09:08:58.986 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 81e684d2-d244-4821-85ef-e2ad14e8c939) 的 WebSocket 已连接并关联。
2025-07-17 09:08:59.070 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 09:09:14.187 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:09:14.188 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 81e684d2-d244-4821-85ef-e2ad14e8c939, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 帮我阿开船闸的项目文件
2025-07-17 09:09:18.246 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '16', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "阿开船闸"}'}}]
2025-07-17 09:09:18.246 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "阿开船闸"}
2025-07-17 09:09:18.291 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='阿开船闸', 年份='None'
2025-07-17 09:09:18.291 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '阿开船闸', 年份: None
2025-07-17 09:09:18.292 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 0 个项目: []
2025-07-17 09:09:18.292 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:832 - 模糊匹配未找到，使用全局向量检索。
2025-07-17 09:09:18.293 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-17 09:09:18.454 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计', 0.5127567058332443), ('南通沙家圩', 0.4037550518538396), ('白衣河输变电工程初设收口版', 0.3405282532156132)]
2025-07-17 09:09:28.171 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:09:28.171 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 81e684d2-d244-4821-85ef-e2ad14e8c939, 对话ID: 65d686c3-a7ef-418b-ab11-4112be8a7d19, 查询: 打开项目1
2025-07-17 09:09:31.750 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '45', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计"}'}}]
2025-07-17 09:09:31.750 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计"}
2025-07-17 09:09:31.795 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计', 年份='None'
2025-07-17 09:09:31.795 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计', 年份: None
2025-07-17 09:09:31.796 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 09:09:31.796 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 09:09:31.798 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 09:09:31.799 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 09:09:34.308 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:22:42.326 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:27:14.824 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 81e684d2-d244-4821-85ef-e2ad14e8c939) 已从状态管理器登出。
2025-07-17 09:27:14.824 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 09:27:14.824 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: admin)。
2025-07-17 09:27:14.825 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 81e684d2-d244-4821-85ef-e2ad14e8c939 用户 admin 断开连接
2025-07-17 09:27:14.825 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:27:14.826 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/81e684d2-d244-4821-85ef-e2ad14e8c939.json
2025-07-17 09:27:30.838 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 277e2811-5498-4333-b490-d05e84749e6a, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 09:27:30.838 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 277e2811-5498-4333-b490-d05e84749e6a) 登录成功。
2025-07-17 09:27:32.511 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 277e2811-5498-4333-b490-d05e84749e6a) 的 WebSocket 已连接并关联。
2025-07-17 09:27:32.584 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 09:27:42.981 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:27:42.982 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 277e2811-5498-4333-b490-d05e84749e6a, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 09:27:47.280 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 09:27:47.280 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 09:27:47.326 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 09:27:47.326 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 09:27:47.328 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 09:27:47.328 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 09:27:47.330 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 09:27:47.331 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 09:27:49.911 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:32:50.071 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:32:55.523 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 277e2811-5498-4333-b490-d05e84749e6a 用户 admin 断开连接
2025-07-17 09:32:55.523 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:32:55.524 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/277e2811-5498-4333-b490-d05e84749e6a.json
2025-07-17 09:32:55.524 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 09:32:55.624 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2864379 - 服务器关闭中...
2025-07-17 09:32:55.624 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 09:32:55.624 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 09:32:58.655 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:44 - Session Secret Key: ********d91f
2025-07-17 09:32:58.656 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 09:32:58.657 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 09:32:58.657 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 09:32:58.660 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 09:32:58.677 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2886774 - 服务器启动中...
2025-07-17 09:32:58.709 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 09:32:58.709 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 09:32:58.716 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 09:32:58.716 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 09:32:58.716 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 09:32:58.717 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 09:32:58.717 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 09:32:58.717 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 09:32:58)
2025-07-17 09:32:58.724 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 09:33:04.782 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 09:33:04, 总耗时: 6.06 秒)
2025-07-17 09:33:04.794 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 09:33:04.795 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 09:33:04.795 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 09:33:04.795 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 09:33:04.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 09:33:04.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 09:33:04.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 09:33:04.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 09:33:04.849 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 09:33:04.927 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.13 秒。
2025-07-17 09:33:04.928 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 09:33:04.928 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 09:33:04.931 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 09:33:04.931 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 09:33:04.931 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 09:33:04.932 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 09:33:04.932 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 09:33:10.305 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 0c2e3262-b42e-4af5-adce-00e9eb1f0d06, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 09:33:10.305 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 0c2e3262-b42e-4af5-adce-00e9eb1f0d06) 登录成功。
2025-07-17 09:33:10.363 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 0c2e3262-b42e-4af5-adce-00e9eb1f0d06) 的 WebSocket 已连接并关联。
2025-07-17 09:33:10.438 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 09:33:28.089 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:33:28.090 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 0c2e3262-b42e-4af5-adce-00e9eb1f0d06, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 09:33:31.583 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 09:33:31.583 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 09:33:31.626 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 09:33:31.627 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 09:33:31.628 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 09:33:31.628 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 09:33:31.629 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 09:33:31.630 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 09:33:32.762 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:34:11.947 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 09:38:55.876 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 0c2e3262-b42e-4af5-adce-00e9eb1f0d06 用户 admin 断开连接
2025-07-17 09:38:55.876 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:38:55.878 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/0c2e3262-b42e-4af5-adce-00e9eb1f0d06.json
2025-07-17 09:38:55.878 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 09:38:55.977 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2886774 - 服务器关闭中...
2025-07-17 09:38:55.977 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 09:38:55.977 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 09:38:59.443 | INFO     | __main__:<module>:44 - Session Secret Key: ********f3ec
2025-07-17 09:38:59.444 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 09:38:59.444 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 09:38:59.445 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 09:38:59.447 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 09:38:59.464 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2892568 - 服务器启动中...
2025-07-17 09:38:59.498 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 09:38:59.498 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 09:38:59.505 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 09:38:59.506 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 09:38:59.506 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 09:38:59.506 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 09:38:59.506 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 09:38:59.507 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 09:38:59)
2025-07-17 09:38:59.517 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 09:39:04.269 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 09:39:04, 总耗时: 4.76 秒)
2025-07-17 09:39:04.280 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 09:39:04.281 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 09:39:04.281 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 09:39:04.281 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 09:39:04.284 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 09:39:04.284 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 09:39:04.284 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 09:39:04.284 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 09:39:04.284 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 09:39:04.312 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 09:39:04.313 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 09:39:04.313 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 09:39:04.315 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 09:39:04.315 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 09:39:04.316 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 09:39:04.316 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 09:39:04.316 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 09:39:16.383 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 4f4bba13-4aed-4fa6-8714-936c8d7e9e49, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 09:39:16.384 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 4f4bba13-4aed-4fa6-8714-936c8d7e9e49) 登录成功。
2025-07-17 09:39:16.492 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 4f4bba13-4aed-4fa6-8714-936c8d7e9e49) 的 WebSocket 已连接并关联。
2025-07-17 09:39:16.568 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 09:39:25.223 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 09:39:25.223 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 4f4bba13-4aed-4fa6-8714-936c8d7e9e49, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 09:39:28.970 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 09:39:28.970 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 09:39:29.019 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 09:39:29.019 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 09:39:29.021 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 09:39:29.021 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 09:39:29.022 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 09:39:29.023 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 09:39:30.632 | INFO     | core.routing:get_file_edit_info_jwt_v2:549 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:02:57.689 | INFO     | main:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:02:57.689 | INFO     | main:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:02:57.689 | INFO     | main:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:02:57.689 | INFO     | main:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:02:57.689 | INFO     | main:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:02:57.689 | INFO     | main:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:02:57.689 | INFO     | main:<module>:44 - Session Secret Key: ********c6b9
2025-07-17 10:02:57.689 | INFO     | main:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:02:57.693 | INFO     | main:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:02:57.693 | INFO     | main:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:02:57.696 | INFO     | main:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:02:57.696 | INFO     | main:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2915491 - 服务器启动中...
2025-07-17 10:02:57.729 | INFO     | main:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:02:57.730 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:02:57.733 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:02:57.733 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:02:57.733 | INFO     | main:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:02:57.733 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:02:57.733 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:02:57.733 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:02:57)
2025-07-17 10:02:57.743 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:03:02.999 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:03:02, 总耗时: 5.27 秒)
2025-07-17 10:03:03.010 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:03:03.010 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:03:03.011 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:03:03.011 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:03:03.013 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:03:03.013 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:03:03.013 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:03:03.013 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:03:03.013 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:03:03.041 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:03:03.042 | INFO     | main:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:03:03.042 | INFO     | main:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:03:03.044 | INFO     | main:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:03:03.045 | INFO     | main:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:03:03.045 | INFO     | main:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:03:03.046 | INFO     | main:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:03:03.046 | INFO     | main:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:03:12.078 | INFO     | main:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2915491 - 服务器关闭中...
2025-07-17 10:03:12.078 | INFO     | main:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:03:12.078 | INFO     | main:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:03:19.926 | INFO     | main:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:03:19.926 | INFO     | main:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:03:19.926 | INFO     | main:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:03:19.927 | INFO     | main:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:03:19.927 | INFO     | main:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:03:19.927 | INFO     | main:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:03:19.927 | INFO     | main:<module>:44 - Session Secret Key: ********02c7
2025-07-17 10:03:19.927 | INFO     | main:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:03:19.931 | INFO     | main:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:03:19.931 | INFO     | main:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:03:19.934 | INFO     | main:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:03:19.935 | INFO     | main:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2915935 - 服务器启动中...
2025-07-17 10:03:19.970 | INFO     | main:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:03:19.971 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:03:19.974 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:03:19.974 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:03:19.974 | INFO     | main:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:03:19.974 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:03:19.975 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:03:19.975 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:03:19)
2025-07-17 10:03:19.983 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:03:24.717 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:03:24, 总耗时: 4.74 秒)
2025-07-17 10:03:24.730 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:03:24.730 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:03:24.731 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:03:24.731 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:03:24.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:03:24.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:03:24.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:03:24.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:03:24.733 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:03:24.761 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:03:24.762 | INFO     | main:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:03:24.762 | INFO     | main:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:03:24.764 | INFO     | main:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:03:24.764 | INFO     | main:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:03:24.764 | INFO     | main:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:03:24.765 | INFO     | main:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:03:24.765 | INFO     | main:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:03:30.586 | INFO     | main:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2915935 - 服务器关闭中...
2025-07-17 10:03:30.586 | INFO     | main:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:03:30.586 | INFO     | main:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:03:42.987 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 4f4bba13-4aed-4fa6-8714-936c8d7e9e49 用户 admin 断开连接
2025-07-17 10:03:42.987 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:03:42.988 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/4f4bba13-4aed-4fa6-8714-936c8d7e9e49.json
2025-07-17 10:03:42.988 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 10:03:43.088 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2892568 - 服务器关闭中...
2025-07-17 10:03:43.088 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:03:43.088 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:03:57.965 | INFO     | main:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:03:57.965 | INFO     | main:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:03:57.965 | INFO     | main:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:03:57.965 | INFO     | main:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:03:57.965 | INFO     | main:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:03:57.965 | INFO     | main:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:03:57.965 | INFO     | main:<module>:44 - Session Secret Key: ********4e94
2025-07-17 10:03:57.966 | INFO     | main:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:03:57.970 | INFO     | main:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:03:57.970 | INFO     | main:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:03:57.973 | INFO     | main:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:03:57.974 | INFO     | main:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2916659 - 服务器启动中...
2025-07-17 10:03:58.011 | INFO     | main:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:03:58.011 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:03:58.014 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:03:58.015 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:03:58.015 | INFO     | main:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:03:58.015 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:03:58.015 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:03:58.015 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:03:58)
2025-07-17 10:03:58.025 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:04:02.867 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:04:02, 总耗时: 4.85 秒)
2025-07-17 10:04:02.881 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:04:02.882 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:04:02.882 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:04:02.882 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:04:02.886 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:04:02.886 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:04:02.886 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:04:02.886 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:04:02.886 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:04:02.915 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:04:02.917 | INFO     | main:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:04:02.917 | INFO     | main:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:04:02.920 | INFO     | main:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:04:02.920 | INFO     | main:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:04:02.921 | INFO     | main:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:04:02.921 | INFO     | main:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:04:02.921 | INFO     | main:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:04:32.827 | INFO     | main:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2916659 - 服务器关闭中...
2025-07-17 10:04:32.827 | INFO     | main:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:04:32.827 | INFO     | main:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:25:47.245 | INFO     | __main__:<module>:44 - Session Secret Key: ********e47e
2025-07-17 10:25:47.246 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:25:47.246 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:25:47.246 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:25:47.249 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:25:47.265 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2937423 - 服务器启动中...
2025-07-17 10:25:47.301 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:25:47.302 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:25:47.308 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:25:47.308 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:25:47.308 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:25:47.308 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:25:47.309 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:25:47.309 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:25:47)
2025-07-17 10:25:47.317 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:25:52.100 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:25:52, 总耗时: 4.79 秒)
2025-07-17 10:25:52.110 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:25:52.111 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:25:52.111 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:25:52.111 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:25:52.113 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:25:52.114 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:25:52.114 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:25:52.114 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:25:52.114 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:25:52.142 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:25:52.143 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:25:52.143 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:25:52.145 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:25:52.145 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:25:52.145 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:25:52.146 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:25:52.146 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:26:11.623 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 1ce606f5-b9c1-4ae5-a16e-9704aff5b40a, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 10:26:11.623 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 1ce606f5-b9c1-4ae5-a16e-9704aff5b40a) 登录成功。
2025-07-17 10:26:11.685 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1ce606f5-b9c1-4ae5-a16e-9704aff5b40a) 的 WebSocket 已连接并关联。
2025-07-17 10:26:11.774 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 10:26:19.837 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:26:19.837 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 1ce606f5-b9c1-4ae5-a16e-9704aff5b40a, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 打开船闸的项目文件
2025-07-17 10:26:26.020 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 10:26:26.020 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 10:26:26.082 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 10:26:26.083 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 10:26:26.084 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 10:26:26.084 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 10:26:26.086 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 10:26:26.087 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 10:26:27.859 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:29:34.780 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:29:46.187 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 1ce606f5-b9c1-4ae5-a16e-9704aff5b40a) 已从状态管理器登出。
2025-07-17 10:29:46.187 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 10:29:46.188 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: admin)。
2025-07-17 10:29:46.188 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 1ce606f5-b9c1-4ae5-a16e-9704aff5b40a 用户 admin 断开连接
2025-07-17 10:29:46.189 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:29:46.190 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/1ce606f5-b9c1-4ae5-a16e-9704aff5b40a.json
2025-07-17 10:29:48.901 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: bbe13a1d-45fe-4d10-9df6-3019fd801619, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 10:29:48.901 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: bbe13a1d-45fe-4d10-9df6-3019fd801619) 登录成功。
2025-07-17 10:29:48.966 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: bbe13a1d-45fe-4d10-9df6-3019fd801619) 的 WebSocket 已连接并关联。
2025-07-17 10:29:49.049 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 10:30:03.806 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:30:03.806 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 bbe13a1d-45fe-4d10-9df6-3019fd801619, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 10:30:08.669 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 10:30:08.670 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 10:30:08.713 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 10:30:08.714 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 10:30:08.715 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 10:30:08.715 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 10:30:08.716 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 10:30:08.717 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 10:30:10.471 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:34:04.560 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 bbe13a1d-45fe-4d10-9df6-3019fd801619 用户 admin 断开连接
2025-07-17 10:34:04.560 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:34:04.561 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/bbe13a1d-45fe-4d10-9df6-3019fd801619.json
2025-07-17 10:34:04.561 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 10:34:04.661 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2937423 - 服务器关闭中...
2025-07-17 10:34:04.661 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:34:04.661 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:34:07.691 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:44 - Session Secret Key: ********d958
2025-07-17 10:34:07.692 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:34:07.693 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:34:07.693 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:34:07.696 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:34:07.712 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2945247 - 服务器启动中...
2025-07-17 10:34:07.745 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:34:07.745 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:34:07.751 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:34:07.752 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:34:07.752 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:34:07.752 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:34:07.752 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:34:07.752 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:34:07)
2025-07-17 10:34:07.760 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:34:12.653 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:34:12, 总耗时: 4.90 秒)
2025-07-17 10:34:12.666 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:34:12.666 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:34:12.667 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:34:12.667 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:34:12.670 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:34:12.670 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:34:12.670 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:34:12.671 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:34:12.671 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:34:12.699 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:34:12.701 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:34:12.702 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:34:12.705 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:34:12.705 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:34:12.706 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:34:12.706 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:34:12.706 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:34:13.949 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 15728a5d-4f24-47b3-b851-e5f9225cd34a, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 10:34:13.949 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 15728a5d-4f24-47b3-b851-e5f9225cd34a) 登录成功。
2025-07-17 10:34:14.006 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 15728a5d-4f24-47b3-b851-e5f9225cd34a) 的 WebSocket 已连接并关联。
2025-07-17 10:34:14.084 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 10:34:21.172 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:34:21.173 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 15728a5d-4f24-47b3-b851-e5f9225cd34a, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 10:34:26.270 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 10:34:26.270 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 10:34:26.318 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 10:34:26.318 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 10:34:26.319 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 10:34:26.319 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 10:34:26.321 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 10:34:26.322 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 10:34:29.516 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:501 - download_url:http://192.168.43.48:8888/download/557137c39e264537b11a854a537648fb/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx, callback_url:http://192.168.43.48:8888/callback?filename=%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx
2025-07-17 10:34:29.516 | INFO     | core.routing:get_file_edit_info_jwt_v2:547 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:34:52.318 | DEBUG    | core.routing:download_file_via_token:263 - 接收到下载请求，Token: '557137c39e264537b11a854a537648fb', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 10:34:52.319 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '557137c39e264537b11a854a537648fb' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 10:34:52.319 | DEBUG    | core.routing:download_file_via_token:286 - Token '557137c39e264537b11a854a537648fb' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-17 10:39:00.396 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 15728a5d-4f24-47b3-b851-e5f9225cd34a 用户 admin 断开连接
2025-07-17 10:39:00.396 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:39:00.398 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/15728a5d-4f24-47b3-b851-e5f9225cd34a.json
2025-07-17 10:39:00.398 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 10:39:00.496 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2945247 - 服务器关闭中...
2025-07-17 10:39:00.496 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:39:00.497 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:39:04.117 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:44 - Session Secret Key: ********bc1b
2025-07-17 10:39:04.118 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:39:04.119 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:39:04.119 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:39:04.122 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:39:04.138 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2950307 - 服务器启动中...
2025-07-17 10:39:04.171 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:39:04.171 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:39:04.178 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:39:04.179 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:39:04.179 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:39:04.179 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:39:04.179 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:39:04.179 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:39:04)
2025-07-17 10:39:04.188 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:39:08.982 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:39:08, 总耗时: 4.80 秒)
2025-07-17 10:39:08.992 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:39:08.992 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:39:08.993 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:39:08.993 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:39:08.995 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:39:08.996 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:39:08.996 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:39:08.996 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:39:08.996 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:39:09.025 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:39:09.027 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:39:09.027 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:39:09.030 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:39:09.030 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:39:09.031 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:39:09.031 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:39:09.032 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:39:11.560 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: ce3dc282-76ea-4c67-8a1a-2399266467d0, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 10:39:11.560 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: ce3dc282-76ea-4c67-8a1a-2399266467d0) 登录成功。
2025-07-17 10:39:11.623 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: ce3dc282-76ea-4c67-8a1a-2399266467d0) 的 WebSocket 已连接并关联。
2025-07-17 10:39:11.706 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 10:39:21.432 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:39:21.433 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 ce3dc282-76ea-4c67-8a1a-2399266467d0, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 10:39:28.443 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 10:39:28.443 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 10:39:28.489 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 10:39:28.489 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 10:39:28.490 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 10:39:28.491 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 10:39:28.493 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 10:39:28.494 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 10:39:30.049 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:503 - download_url:http://192.168.43.48:8888/download/ddb9462b47e448ce977be62da617a988/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx, callback_url:http://192.168.43.48:8888/callback?filename=%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx
2025-07-17 10:39:30.049 | INFO     | core.routing:get_file_edit_info_jwt_v2:549 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:41:38.163 | DEBUG    | core.routing:download_file_via_token:265 - 接收到下载请求，Token: '557137c39e264537b11a854a537648fb', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 10:41:38.163 | WARNING  | core.session:get_downloadable_file_info:337 - 下载token '557137c39e264537b11a854a537648fb' 在任何活动用户会话中均未找到。
2025-07-17 10:41:38.163 | WARNING  | core.routing:download_file_via_token:271 - 下载token '557137c39e264537b11a854a537648fb' 无效、未找到或已过期。
2025-07-17 10:42:17.286 | DEBUG    | core.routing:download_file_via_token:265 - 接收到下载请求，Token: 'ddb9462b47e448ce977be62da617a988', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 10:42:17.286 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'ddb9462b47e448ce977be62da617a988' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 10:42:17.286 | DEBUG    | core.routing:download_file_via_token:288 - Token 'ddb9462b47e448ce977be62da617a988' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-17 10:45:17.559 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:503 - download_url:http://192.168.43.48:8888/download/47889be28efd4e7f8c6cabe2bb301868/382-B230168C-A-01%20%E5%88%9D%E6%AD%A5%E8%AE%BE%E8%AE%A1%E8%AF%B4%E6%98%8E%E4%B9%A6.docx, callback_url:http://192.168.43.48:8888/callback?filename=382-B230168C-A-01%20%E5%88%9D%E6%AD%A5%E8%AE%BE%E8%AE%A1%E8%AF%B4%E6%98%8E%E4%B9%A6.docx
2025-07-17 10:45:17.559 | INFO     | core.routing:get_file_edit_info_jwt_v2:549 - 为用户 'admin' 的文件 '2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx' 生成了OnlyOffice编辑配置。
2025-07-17 10:50:48.084 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 ce3dc282-76ea-4c67-8a1a-2399266467d0 用户 admin 断开连接
2025-07-17 10:50:48.085 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:50:48.086 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/ce3dc282-76ea-4c67-8a1a-2399266467d0.json
2025-07-17 10:50:48.086 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 10:50:48.185 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2950307 - 服务器关闭中...
2025-07-17 10:50:48.186 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 10:50:48.186 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 10:50:51.069 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 10:50:51.069 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:50:51.070 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:50:51.070 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 10:50:51.070 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 10:50:51.070 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 10:50:51.070 | INFO     | __main__:<module>:44 - Session Secret Key: ********1ff7
2025-07-17 10:50:51.070 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 10:50:51.071 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 10:50:51.071 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 10:50:51.074 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 10:50:51.090 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2961152 - 服务器启动中...
2025-07-17 10:50:51.122 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 10:50:51.123 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 10:50:51.129 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 10:50:51.129 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 10:50:51.129 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 10:50:51.130 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 10:50:51.130 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 10:50:51.130 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 10:50:51)
2025-07-17 10:50:51.138 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 10:50:55.824 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 10:50:55, 总耗时: 4.69 秒)
2025-07-17 10:50:55.835 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 10:50:55.835 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 10:50:55.836 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 10:50:55.836 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 10:50:55.838 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 10:50:55.838 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 10:50:55.838 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 10:50:55.839 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 10:50:55.839 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 10:50:55.865 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 10:50:55.866 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 10:50:55.866 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 10:50:55.868 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 10:50:55.869 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 10:50:55.869 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 10:50:55.869 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 10:50:55.870 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 10:51:08.055 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 52e3fc0b-15d8-40cd-ab10-131e1d9cd80e, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 10:51:08.055 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 52e3fc0b-15d8-40cd-ab10-131e1d9cd80e) 登录成功。
2025-07-17 10:51:08.111 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 52e3fc0b-15d8-40cd-ab10-131e1d9cd80e) 的 WebSocket 已连接并关联。
2025-07-17 10:51:08.193 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 10:51:17.374 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 10:51:17.374 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 52e3fc0b-15d8-40cd-ab10-131e1d9cd80e, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 10:51:23.094 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 10:51:23.094 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 10:51:23.142 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 10:51:23.143 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 10:51:23.144 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 10:51:23.144 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 10:51:23.146 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 10:51:23.147 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 10:51:24.607 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:567 - [编辑器] 下载链接: http://192.168.43.48:8888/download/0d0b0d0df70b4d2098e5bc5f5e161565/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx
2025-07-17 10:51:24.607 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:568 - [编辑器] 回调链接: http://192.168.43.48:8888/onlyoffice/callback?filename=%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx
2025-07-17 11:06:58.576 | DEBUG    | core.routing:download_file_via_token:265 - 接收到下载请求，Token: '0d0b0d0df70b4d2098e5bc5f5e161565', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 11:06:58.576 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '0d0b0d0df70b4d2098e5bc5f5e161565' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 11:06:58.577 | DEBUG    | core.routing:download_file_via_token:288 - Token '0d0b0d0df70b4d2098e5bc5f5e161565' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-17 11:20:10.419 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 52e3fc0b-15d8-40cd-ab10-131e1d9cd80e 用户 admin 断开连接
2025-07-17 11:20:10.419 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:20:10.420 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/52e3fc0b-15d8-40cd-ab10-131e1d9cd80e.json
2025-07-17 11:20:10.420 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 11:20:10.519 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2961152 - 服务器关闭中...
2025-07-17 11:20:10.519 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 11:20:10.519 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 11:20:13.890 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 11:20:13.891 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:20:13.891 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:20:13.891 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 11:20:13.891 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 11:20:13.891 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 11:20:13.891 | INFO     | __main__:<module>:44 - Session Secret Key: ********dcc6
2025-07-17 11:20:13.892 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 11:20:13.892 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 11:20:13.892 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 11:20:13.896 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 11:20:13.914 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2988390 - 服务器启动中...
2025-07-17 11:20:13.949 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 11:20:13.949 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 11:20:13.957 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 11:20:13.957 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 11:20:13.957 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 11:20:13.958 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:20:13.958 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 11:20:13.958 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 11:20:13)
2025-07-17 11:20:13.966 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 11:20:18.630 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 11:20:18, 总耗时: 4.67 秒)
2025-07-17 11:20:18.641 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:20:18.641 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 11:20:18.641 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 11:20:18.641 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 11:20:18.643 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 11:20:18.643 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 11:20:18.643 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 11:20:18.644 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 11:20:18.644 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 11:20:18.669 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 11:20:18.670 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 11:20:18.671 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 11:20:18.673 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 11:20:18.673 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 11:20:18.673 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 11:20:18.674 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 11:20:18.674 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 11:20:41.976 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: d3c6965f-07f0-4203-80f6-4579d298f3a9, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 11:20:41.976 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: d3c6965f-07f0-4203-80f6-4579d298f3a9) 登录成功。
2025-07-17 11:20:42.047 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: d3c6965f-07f0-4203-80f6-4579d298f3a9) 的 WebSocket 已连接并关联。
2025-07-17 11:20:42.141 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 11:20:49.630 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:20:49.630 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 d3c6965f-07f0-4203-80f6-4579d298f3a9, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 打开船闸的项目文件
2025-07-17 11:20:54.262 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 11:20:54.262 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 11:20:54.315 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 11:20:54.315 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 11:20:54.317 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 11:20:54.317 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 11:20:54.319 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 11:20:54.319 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 11:20:58.609 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:567 - [编辑器] 下载链接: http://192.168.43.48:8888/download/e0449eb7c6094533bc7320b6f10ff63e/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx
2025-07-17 11:20:58.609 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:568 - [编辑器] 回调链接: http://192.168.43.48:8888/onlyoffice/callback?filename=%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81_%E6%B1%9F%E8%8B%8F%E8%8B%8F%E5%B7%9E%E8%88%B9%E9%97%B8110%E5%8D%83%E4%BC%8F%E5%8F%98%E7%94%B5%E7%AB%992%E5%8F%B73%E5%8F%B7%E4%B8%BB%E5%8F%98%E6%89%A9%E5%BB%BA%E5%B7%A5%E7%A8%8B2024.7.23.docx
2025-07-17 11:26:12.017 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 d3c6965f-07f0-4203-80f6-4579d298f3a9 用户 admin 断开连接
2025-07-17 11:26:12.017 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:26:12.018 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/d3c6965f-07f0-4203-80f6-4579d298f3a9.json
2025-07-17 11:26:12.018 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 11:26:12.118 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2988390 - 服务器关闭中...
2025-07-17 11:26:12.118 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 11:26:12.118 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 11:26:15.388 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 11:26:15.388 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:26:15.389 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:26:15.389 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 11:26:15.389 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 11:26:15.389 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 11:26:15.389 | INFO     | __main__:<module>:44 - Session Secret Key: ********4637
2025-07-17 11:26:15.389 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 11:26:15.390 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 11:26:15.390 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 11:26:15.393 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 11:26:15.409 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2993968 - 服务器启动中...
2025-07-17 11:26:15.442 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 11:26:15.442 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 11:26:15.449 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 11:26:15.449 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 11:26:15.449 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 11:26:15.449 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:26:15.450 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 11:26:15.450 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 11:26:15)
2025-07-17 11:26:15.458 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 11:26:20.259 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 11:26:20, 总耗时: 4.81 秒)
2025-07-17 11:26:20.269 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:26:20.269 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 11:26:20.270 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 11:26:20.270 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 11:26:20.272 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 11:26:20.272 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 11:26:20.272 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 11:26:20.272 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 11:26:20.272 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 11:26:20.301 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 11:26:20.302 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 11:26:20.302 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 11:26:20.305 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 11:26:20.306 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 11:26:20.306 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 11:26:20.307 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 11:26:20.307 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 11:26:22.142 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 336daec5-0fbc-47c9-8856-ad219dd37b1c, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 11:26:22.142 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 336daec5-0fbc-47c9-8856-ad219dd37b1c) 登录成功。
2025-07-17 11:26:22.204 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 336daec5-0fbc-47c9-8856-ad219dd37b1c) 的 WebSocket 已连接并关联。
2025-07-17 11:26:22.299 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 11:26:32.547 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:26:32.548 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 336daec5-0fbc-47c9-8856-ad219dd37b1c, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 帮我打开船闸的项目文件
2025-07-17 11:26:37.821 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 11:26:37.821 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 11:26:37.870 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 11:26:37.870 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 11:26:37.871 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 11:26:37.871 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 11:26:37.875 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 11:26:37.876 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 11:26:39.292 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:568 - secret-key:{secret_key}
2025-07-17 11:26:39.292 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:569 - [编辑器] 下载链接: http://192.168.43.48:8888/download/99d57c0443fa43e49bbbaa8b65ec742e/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 11:26:39.292 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:570 - [编辑器] 回调链接: http://192.168.43.48:8888/callback?filename=会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 11:29:56.158 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 336daec5-0fbc-47c9-8856-ad219dd37b1c 用户 admin 断开连接
2025-07-17 11:29:56.158 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:29:56.159 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/336daec5-0fbc-47c9-8856-ad219dd37b1c.json
2025-07-17 11:29:56.159 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 11:29:56.259 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2993968 - 服务器关闭中...
2025-07-17 11:29:56.259 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 11:29:56.259 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 11:29:59.389 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 11:29:59.389 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:29:59.389 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:29:59.389 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 11:29:59.389 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 11:29:59.389 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 11:29:59.390 | INFO     | __main__:<module>:44 - Session Secret Key: ********d4cf
2025-07-17 11:29:59.390 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 11:29:59.390 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 11:29:59.390 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 11:29:59.393 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 11:29:59.410 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2997562 - 服务器启动中...
2025-07-17 11:29:59.443 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 11:29:59.444 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 11:29:59.451 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 11:29:59.451 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 11:29:59.451 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 11:29:59.451 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:29:59.451 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 11:29:59.452 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 11:29:59)
2025-07-17 11:29:59.462 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 11:30:04.156 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 11:30:04, 总耗时: 4.70 秒)
2025-07-17 11:30:04.167 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:30:04.168 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 11:30:04.168 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 11:30:04.168 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 11:30:04.170 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 11:30:04.170 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 11:30:04.170 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 11:30:04.170 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 11:30:04.170 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 11:30:04.197 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 11:30:04.199 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 11:30:04.199 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 11:30:04.201 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 11:30:04.201 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 11:30:04.201 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 11:30:04.202 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 11:30:04.202 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 11:31:09.911 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2997562 - 服务器关闭中...
2025-07-17 11:31:09.911 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 11:31:09.911 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 11:31:14.477 | INFO     | __main__:<module>:44 - Session Secret Key: ********67c4
2025-07-17 11:31:14.478 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 11:31:14.478 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 11:31:14.478 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 11:31:14.482 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 11:31:14.498 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 2998772 - 服务器启动中...
2025-07-17 11:31:14.535 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 11:31:14.535 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 11:31:14.542 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 11:31:14.542 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 11:31:14.542 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 11:31:14.542 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:31:14.543 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 11:31:14.543 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 11:31:14)
2025-07-17 11:31:14.554 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 11:31:19.271 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 11:31:19, 总耗时: 4.73 秒)
2025-07-17 11:31:19.283 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:31:19.283 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 11:31:19.284 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 11:31:19.284 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 11:31:19.287 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 11:31:19.287 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 11:31:19.287 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 11:31:19.287 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 11:31:19.287 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 11:31:19.314 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 11:31:19.316 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 11:31:19.316 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 11:31:19.318 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 11:31:19.318 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 11:31:19.318 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 11:31:19.319 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 11:31:19.319 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 11:31:32.596 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 91bfdbae-ca62-47e4-9b88-7f6c1d26aeb9, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 11:31:32.596 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 91bfdbae-ca62-47e4-9b88-7f6c1d26aeb9) 登录成功。
2025-07-17 11:31:32.667 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 91bfdbae-ca62-47e4-9b88-7f6c1d26aeb9) 的 WebSocket 已连接并关联。
2025-07-17 11:31:32.746 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 11:31:38.291 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:31:38.292 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 91bfdbae-ca62-47e4-9b88-7f6c1d26aeb9, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 打开船闸的项目文件
2025-07-17 11:31:43.951 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 11:31:43.951 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 11:31:44.001 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 11:31:44.001 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 11:31:44.002 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 11:31:44.002 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 11:31:44.004 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 11:31:44.004 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 11:31:45.527 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:592 - secret-key:{secret_key}
2025-07-17 11:31:45.527 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:593 - [编辑器] 下载链接: http://192.168.43.48:8888/download/36858d5af8c240a88cc9dd98dd71da14/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 11:31:45.527 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:594 - [编辑器] 回调链接: http://192.168.43.48:8888/callback?filename=会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 11:33:44.877 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 91bfdbae-ca62-47e4-9b88-7f6c1d26aeb9 用户 admin 断开连接
2025-07-17 11:33:44.877 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:33:44.878 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/91bfdbae-ca62-47e4-9b88-7f6c1d26aeb9.json
2025-07-17 11:33:44.879 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 11:33:44.978 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 2998772 - 服务器关闭中...
2025-07-17 11:33:44.978 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 11:33:44.978 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 11:33:48.050 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 11:33:48.050 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:33:48.050 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:33:48.051 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 11:33:48.051 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 11:33:48.051 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 11:33:48.051 | INFO     | __main__:<module>:44 - Session Secret Key: ********380d
2025-07-17 11:33:48.051 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:4115:f758:9b72:2f9c]:8888
2025-07-17 11:33:48.052 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 11:33:48.052 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 11:33:48.055 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 11:33:48.072 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3001212 - 服务器启动中...
2025-07-17 11:33:48.106 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 11:33:48.106 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 11:33:48.113 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 11:33:48.113 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 11:33:48.113 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 11:33:48.113 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 11:33:48.114 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 11:33:48.114 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 11:33:48)
2025-07-17 11:33:48.122 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 11:33:52.877 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 11:33:52, 总耗时: 4.76 秒)
2025-07-17 11:33:52.889 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 11:33:52.890 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 11:33:52.890 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 11:33:52.890 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 11:33:52.892 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 11:33:52.892 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 11:33:52.892 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 11:33:52.893 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 11:33:52.893 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 11:33:52.920 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 11:33:52.921 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 11:33:52.921 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 11:33:52.924 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 11:33:52.924 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 11:33:52.925 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 11:33:52.925 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 11:33:52.925 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 11:34:43.720 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: b43af667-8914-437e-81c3-f45b3f299474, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 11:34:43.720 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: b43af667-8914-437e-81c3-f45b3f299474) 登录成功。
2025-07-17 11:34:43.786 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: b43af667-8914-437e-81c3-f45b3f299474) 的 WebSocket 已连接并关联。
2025-07-17 11:34:43.866 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 11:34:45.785 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 11:34:45.785 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 b43af667-8914-437e-81c3-f45b3f299474, 对话ID: 6a091d8e-5673-43b4-b8cb-a3075d87ff98, 查询: 打开船闸的项目文件
2025-07-17 11:34:50.807 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 11:34:50.807 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 11:34:50.852 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 11:34:50.853 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 11:34:50.854 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 11:34:50.854 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 11:34:50.856 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 11:34:50.857 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 11:34:51.969 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:592 - secret-key:6955cd123336471f917122f777e35f227f97d2c7bfa1f54612cbac3d73d11995
2025-07-17 11:34:51.969 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:593 - [编辑器] 下载链接: http://192.168.43.48:8888/download/1945d49434e748508ce3db6e31970483/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 11:34:51.969 | DEBUG    | core.routing:get_file_edit_info_jwt_v2:594 - [编辑器] 回调链接: http://192.168.43.48:8888/callback?filename=会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 11:36:46.934 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '1945d49434e748508ce3db6e31970483' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 12:34:52.925 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-17 12:34:52.925 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 b43af667-8914-437e-81c3-f45b3f299474) 因不活动被自动登出。
2025-07-17 12:34:52.925 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-17 12:34:52.926 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 b43af667-8914-437e-81c3-f45b3f299474 用户 admin 断开连接
2025-07-17 12:34:52.926 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 12:34:52.927 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/b43af667-8914-437e-81c3-f45b3f299474.json
2025-07-17 13:36:30.061 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: e93638af-7363-43da-b407-0f99d3155137, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 13:36:30.061 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: e93638af-7363-43da-b407-0f99d3155137) 登录成功。
2025-07-17 13:36:30.123 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: e93638af-7363-43da-b407-0f99d3155137) 的 WebSocket 已连接并关联。
2025-07-17 13:36:30.202 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 13:36:41.416 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 13:36:41.416 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e93638af-7363-43da-b407-0f99d3155137, 对话ID: f186ab1c-a054-4be7-a90f-42b4734a6e82, 查询: 帮我打开船闸的项目文件
2025-07-17 13:36:47.614 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 13:36:47.614 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 13:36:47.663 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 13:36:47.663 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 13:36:47.664 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 13:36:47.664 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 13:36:47.666 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 13:36:47.667 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 13:42:06.919 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: e93638af-7363-43da-b407-0f99d3155137) 已从状态管理器登出。
2025-07-17 13:42:06.920 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 13:42:06.920 | INFO     | core.routing:logout:127 - HTTP会话已清除 (用户: admin)。
2025-07-17 13:42:06.921 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 e93638af-7363-43da-b407-0f99d3155137 用户 admin 断开连接
2025-07-17 13:42:06.921 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 13:42:06.922 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/e93638af-7363-43da-b407-0f99d3155137.json
2025-07-17 13:42:10.136 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 397d1a5f-b827-43ac-b178-59f09100c41b, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 13:42:10.137 | INFO     | core.routing:login:116 - 用户 'admin' (IP: 127.0.0.1, Session: 397d1a5f-b827-43ac-b178-59f09100c41b) 登录成功。
2025-07-17 13:42:10.182 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 397d1a5f-b827-43ac-b178-59f09100c41b) 的 WebSocket 已连接并关联。
2025-07-17 13:42:10.272 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 13:44:39.852 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 397d1a5f-b827-43ac-b178-59f09100c41b 用户 admin 断开连接
2025-07-17 13:44:39.852 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 13:44:39.853 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/397d1a5f-b827-43ac-b178-59f09100c41b.json
2025-07-17 13:44:39.853 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 13:44:39.953 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3001212 - 服务器关闭中...
2025-07-17 13:44:39.954 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 13:44:39.954 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 13:44:43.960 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:44 - Session Secret Key: ********66ff
2025-07-17 13:44:43.961 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 13:44:43.962 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 13:44:43.962 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 13:44:43.965 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 13:44:43.981 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3118872 - 服务器启动中...
2025-07-17 13:44:44.014 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 13:44:44.014 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 13:44:44.020 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 13:44:44.020 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 13:44:44.020 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 13:44:44.021 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 13:44:44.021 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 13:44:44.021 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 13:44:44)
2025-07-17 13:44:44.029 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 13:44:48.695 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 13:44:48, 总耗时: 4.67 秒)
2025-07-17 13:44:48.705 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 13:44:48.705 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 13:44:48.706 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 13:44:48.706 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 13:44:48.708 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 13:44:48.708 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 13:44:48.708 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 13:44:48.708 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 13:44:48.708 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 13:44:48.737 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 13:44:48.738 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 13:44:48.739 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 13:44:48.741 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 13:44:48.741 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 13:44:48.741 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 13:44:48.742 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 13:44:48.742 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 13:44:49.793 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 6e23aafb-f726-4957-8a2d-678f788b8650, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 13:44:49.793 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 127.0.0.1, Session: 6e23aafb-f726-4957-8a2d-678f788b8650) 登录成功。
2025-07-17 13:44:49.880 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6e23aafb-f726-4957-8a2d-678f788b8650) 的 WebSocket 已连接并关联。
2025-07-17 13:44:49.977 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 14:45:48.743 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-17 14:45:48.743 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 6e23aafb-f726-4957-8a2d-678f788b8650) 因不活动被自动登出。
2025-07-17 14:45:48.743 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-17 14:45:48.744 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 6e23aafb-f726-4957-8a2d-678f788b8650 用户 admin 断开连接
2025-07-17 14:45:48.744 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 14:45:48.745 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/6e23aafb-f726-4957-8a2d-678f788b8650.json
2025-07-17 16:11:44.002 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3118872 - 服务器关闭中...
2025-07-17 16:11:44.002 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 16:11:44.002 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 16:11:47.219 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:44 - Session Secret Key: ********ddc1
2025-07-17 16:11:47.220 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 16:11:47.221 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 16:11:47.221 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 16:11:47.224 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 16:11:47.240 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3249233 - 服务器启动中...
2025-07-17 16:11:47.273 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 16:11:47.273 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 16:11:47.280 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 16:11:47.280 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 16:11:47.280 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 16:11:47.280 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 16:11:47.281 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 16:11:47.281 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 16:11:47)
2025-07-17 16:11:47.289 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 16:11:51.993 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 16:11:51, 总耗时: 4.71 秒)
2025-07-17 16:11:52.004 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 16:11:52.005 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 16:11:52.005 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 16:11:52.005 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 16:11:52.007 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 16:11:52.008 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 16:11:52.008 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 16:11:52.008 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 16:11:52.008 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 16:11:52.037 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 16:11:52.038 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 16:11:52.038 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 16:11:52.040 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 16:11:52.041 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 16:11:52.041 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 16:11:52.041 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 16:11:52.041 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 16:11:54.443 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: e71beaa4-3c34-42cd-a031-18f41540657e, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 16:11:54.443 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 127.0.0.1, Session: e71beaa4-3c34-42cd-a031-18f41540657e) 登录成功。
2025-07-17 16:11:54.487 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: e71beaa4-3c34-42cd-a031-18f41540657e) 的 WebSocket 已连接并关联。
2025-07-17 16:11:54.590 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 16:12:07.320 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:12:07.320 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e71beaa4-3c34-42cd-a031-18f41540657e, 对话ID: f186ab1c-a054-4be7-a90f-42b4734a6e82, 查询: 帮我打开船闸的项目文件
2025-07-17 16:12:12.327 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 16:12:12.327 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 16:12:12.378 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 16:12:12.379 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 16:12:12.380 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 16:12:12.380 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 16:12:12.384 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 16:12:12.385 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 16:20:48.998 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 e71beaa4-3c34-42cd-a031-18f41540657e 用户 admin 断开连接
2025-07-17 16:20:48.999 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:20:49.000 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/e71beaa4-3c34-42cd-a031-18f41540657e.json
2025-07-17 16:20:49.000 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 16:20:49.100 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3249233 - 服务器关闭中...
2025-07-17 16:20:49.100 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 16:20:49.100 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 16:21:34.056 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 16:21:34.056 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 16:21:34.056 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 16:21:34.057 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 16:21:34.057 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 16:21:34.057 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 16:21:34.057 | INFO     | __main__:<module>:44 - Session Secret Key: ********35aa
2025-07-17 16:21:34.057 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 16:21:34.058 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 16:21:34.058 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 16:21:34.062 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 16:21:34.078 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3258116 - 服务器启动中...
2025-07-17 16:21:34.111 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 16:21:34.111 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 16:21:34.118 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 16:21:34.118 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 16:21:34.118 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 16:21:34.118 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 16:21:34.118 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 16:21:34.119 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 16:21:34)
2025-07-17 16:21:34.127 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 16:21:38.836 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 16:21:38, 总耗时: 4.72 秒)
2025-07-17 16:21:38.847 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 16:21:38.847 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 16:21:38.847 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 16:21:38.847 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 16:21:38.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 16:21:38.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 16:21:38.849 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 16:21:38.850 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 16:21:38.850 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 16:21:38.878 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 16:21:38.879 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 16:21:38.879 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 16:21:38.881 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 16:21:38.881 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 16:21:38.881 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 16:21:38.882 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 16:21:38.882 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 16:21:41.233 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: cd90f277-2afb-434d-b444-58fa54b7adf9, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 16:21:41.233 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 127.0.0.1, Session: cd90f277-2afb-434d-b444-58fa54b7adf9) 登录成功。
2025-07-17 16:21:41.297 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: cd90f277-2afb-434d-b444-58fa54b7adf9) 的 WebSocket 已连接并关联。
2025-07-17 16:21:41.375 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 16:21:54.110 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:21:54.110 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 cd90f277-2afb-434d-b444-58fa54b7adf9, 对话ID: f186ab1c-a054-4be7-a90f-42b4734a6e82, 查询: 帮我打开船闸的项目文件
2025-07-17 16:22:05.024 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 16:22:05.025 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 16:22:05.075 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 16:22:05.075 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 16:22:05.076 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 16:22:05.076 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 16:22:05.078 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 16:22:05.079 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 16:22:07.878 | DEBUG    | core.routing:callback:670 - onlyoffice callback
2025-07-17 16:23:25.734 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 cd90f277-2afb-434d-b444-58fa54b7adf9 用户 admin 断开连接
2025-07-17 16:23:25.734 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:23:25.736 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/cd90f277-2afb-434d-b444-58fa54b7adf9.json
2025-07-17 16:23:25.736 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 16:23:25.835 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3258116 - 服务器关闭中...
2025-07-17 16:23:25.836 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 16:23:25.836 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 16:23:30.401 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 16:23:30.401 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 16:23:30.401 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 16:23:30.401 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 16:23:30.402 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 16:23:30.402 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 16:23:30.402 | INFO     | __main__:<module>:44 - Session Secret Key: ********faed
2025-07-17 16:23:30.402 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 16:23:30.402 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 16:23:30.402 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 16:23:30.406 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 16:23:30.422 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3260038 - 服务器启动中...
2025-07-17 16:23:30.455 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 16:23:30.455 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 16:23:30.461 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 16:23:30.461 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 16:23:30.461 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 16:23:30.462 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 16:23:30.462 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 16:23:30.462 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 16:23:30)
2025-07-17 16:23:30.470 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 16:23:35.033 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 16:23:35, 总耗时: 4.57 秒)
2025-07-17 16:23:35.043 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 16:23:35.043 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 16:23:35.044 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 16:23:35.044 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 16:23:35.046 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 16:23:35.046 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 16:23:35.047 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 16:23:35.047 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 16:23:35.047 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 16:23:35.072 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 16:23:35.074 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 16:23:35.074 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 16:23:35.076 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 16:23:35.076 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 16:23:35.077 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 16:23:35.077 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 16:23:35.077 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 16:23:42.699 | DEBUG    | core.routing:callback:636 - onlyoffice callback
2025-07-17 16:23:43.757 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 6ac2bacb-1929-460f-81e9-e89f89ff14c2, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-17 16:23:43.758 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 127.0.0.1, Session: 6ac2bacb-1929-460f-81e9-e89f89ff14c2) 登录成功。
2025-07-17 16:23:43.804 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 6ac2bacb-1929-460f-81e9-e89f89ff14c2) 的 WebSocket 已连接并关联。
2025-07-17 16:23:43.885 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 16:23:54.525 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:23:54.526 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 6ac2bacb-1929-460f-81e9-e89f89ff14c2, 对话ID: f186ab1c-a054-4be7-a90f-42b4734a6e82, 查询: 打开船闸的项目文件
2025-07-17 16:24:00.470 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "admin", "project_name": "船闸"}'}}]
2025-07-17 16:24:00.470 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "admin", "project_name": "船闸"}
2025-07-17 16:24:00.512 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 16:24:00.512 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 16:24:00.513 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 16:24:00.514 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 16:24:00.516 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 16:24:00.517 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 16:24:02.756 | DEBUG    | core.routing:callback:636 - onlyoffice callback
2025-07-17 16:24:02.772 | DEBUG    | core.routing:download_file_via_token:290 - 接收到下载请求，Token: '80f5331aa9ca4b13b68630fa8ee1a850', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 16:24:02.772 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '80f5331aa9ca4b13b68630fa8ee1a850' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 16:24:02.773 | DEBUG    | core.routing:download_file_via_token:313 - Token '80f5331aa9ca4b13b68630fa8ee1a850' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-17 16:24:25.806 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:758 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/80f5331aa9ca4b13b68630fa8ee1a850/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 16:24:25.816 | DEBUG    | core.routing:download_file_via_token:290 - 接收到下载请求，Token: '80f5331aa9ca4b13b68630fa8ee1a850', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_93551867.docx'
2025-07-17 16:24:25.816 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '80f5331aa9ca4b13b68630fa8ee1a850' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 16:24:25.816 | WARNING  | core.routing:download_file_via_token:307 - 下载请求中URL文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_93551867.docx' 与Token关联文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 不匹配。将使用Token关联文件名。
2025-07-17 16:24:25.817 | DEBUG    | core.routing:download_file_via_token:313 - Token '80f5331aa9ca4b13b68630fa8ee1a850' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_93551867.docx')
2025-07-17 16:33:10.306 | INFO     | core.session:attempt_login:141 - 用户 'zhouxiang' (会话: aeffe126-02f2-4e9c-8070-7d4198627764, IP: 240e:479:668:3c1c:5035:d8c6:cc00:a547) 登录/状态更新成功。
2025-07-17 16:33:10.306 | INFO     | core.routing:login:117 - 用户 'zhouxiang' (IP: 240e:479:668:3c1c:5035:d8c6:cc00:a547, Session: aeffe126-02f2-4e9c-8070-7d4198627764) 登录成功。
2025-07-17 16:33:11.222 | INFO     | core.session:connect_websocket:92 - 用户 'zhouxiang' (会话: aeffe126-02f2-4e9c-8070-7d4198627764) 的 WebSocket 已连接并关联。
2025-07-17 16:33:11.295 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 16:33:25.404 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:33:25.405 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 zhouxiang, 会话 aeffe126-02f2-4e9c-8070-7d4198627764, 对话ID: a0d9e2f5-facb-4c21-b6cd-f1459b55cac2, 查询: 找下有哪些项目
2025-07-17 16:33:34.692 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '14', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "zhouxiang", "project_name": "/ALL"}'}}]
2025-07-17 16:33:34.692 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "zhouxiang", "project_name": "/ALL"}
2025-07-17 16:33:34.743 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='/ALL', 年份='None'
2025-07-17 16:33:34.743 | INFO     | my_mcp_tools.mcp_tools:query_project_files:793 - 收到全部项目查询请求
2025-07-17 16:33:55.820 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:33:55.820 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 zhouxiang, 会话 aeffe126-02f2-4e9c-8070-7d4198627764, 对话ID: a0d9e2f5-facb-4c21-b6cd-f1459b55cac2, 查询: 打开丹华的项目文件
2025-07-17 16:34:01.352 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '31', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user": "zhouxiang", "project_name": "丹华初设"}'}}]
2025-07-17 16:34:01.352 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user": "zhouxiang", "project_name": "丹华初设"}
2025-07-17 16:34:01.396 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='丹华初设', 年份='None'
2025-07-17 16:34:01.396 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '丹华初设', 年份: None
2025-07-17 16:34:01.397 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['丹华初设']
2025-07-17 16:34:01.397 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '丹华初设'
2025-07-17 16:34:01.400 | INFO     | core.session:update_opened_dir:268 - 用户 'zhouxiang' 的工作目录已更新为 '丹华初设'，包含 153 个文件。
2025-07-17 16:34:01.401 | INFO     | core.session:update_opened_dir:292 - 已向用户 'zhouxiang' 发送工作目录更新通知。
2025-07-17 16:34:05.973 | DEBUG    | core.routing:callback:636 - onlyoffice callback
2025-07-17 16:34:05.986 | DEBUG    | core.routing:download_file_via_token:290 - 接收到下载请求，Token: '365aeb232f2346c58fd68a72d3e34975', URL中的文件名: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx'
2025-07-17 16:34:05.987 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '365aeb232f2346c58fd68a72d3e34975' (文件: (01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-17 16:34:05.987 | DEBUG    | core.routing:download_file_via_token:313 - Token '365aeb232f2346c58fd68a72d3e34975' 验证成功。准备下载文件: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx', URL文件名: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx')
2025-07-17 16:35:05.576 | DEBUG    | core.routing:callback:636 - onlyoffice callback
2025-07-17 16:35:06.389 | DEBUG    | core.routing:callback:636 - onlyoffice callback
2025-07-17 16:35:06.401 | DEBUG    | core.routing:download_file_via_token:290 - 接收到下载请求，Token: 'b9a239f681914b3097cd9173497d597e', URL中的文件名: '泰州丹华110千伏变电站新建工程初设收口版.xlsx'
2025-07-17 16:35:06.401 | INFO     | core.session:get_downloadable_file_info:327 - 下载token 'b9a239f681914b3097cd9173497d597e' (文件: 泰州丹华110千伏变电站新建工程初设收口版.xlsx, 用户: zhouxiang) 在 working_directory 中验证成功。
2025-07-17 16:35:06.401 | DEBUG    | core.routing:download_file_via_token:313 - Token 'b9a239f681914b3097cd9173497d597e' 验证成功。准备下载文件: '泰州丹华110千伏变电站新建工程初设收口版.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/丹华110千伏变电站新建工程收口版/概算收口版/泰州丹华110千伏变电站新建工程初设收口版.xlsx', URL文件名: '泰州丹华110千伏变电站新建工程初设收口版.xlsx')
2025-07-17 16:35:45.718 | INFO     | core.session:logout_user:151 - 用户 'zhouxiang' (会话: aeffe126-02f2-4e9c-8070-7d4198627764) 已从状态管理器登出。
2025-07-17 16:35:45.718 | INFO     | core.session:logout_user:153 - 用户 'zhouxiang' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 16:35:45.732 | INFO     | core.routing:logout:128 - HTTP会话已清除 (用户: zhouxiang)。
2025-07-17 16:35:45.732 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 aeffe126-02f2-4e9c-8070-7d4198627764 用户 zhouxiang 断开连接
2025-07-17 16:35:45.733 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 16:35:45.734 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/zhouxiang/aeffe126-02f2-4e9c-8070-7d4198627764.json
2025-07-17 17:22:49.176 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 6ac2bacb-1929-460f-81e9-e89f89ff14c2) 已从状态管理器登出。
2025-07-17 17:22:49.176 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 17:22:49.176 | INFO     | core.routing:logout:128 - HTTP会话已清除 (用户: admin)。
2025-07-17 17:22:49.177 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 6ac2bacb-1929-460f-81e9-e89f89ff14c2 用户 admin 断开连接
2025-07-17 17:22:49.177 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 17:22:49.178 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/6ac2bacb-1929-460f-81e9-e89f89ff14c2.json
2025-07-17 17:22:59.204 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3260038 - 服务器关闭中...
2025-07-17 17:22:59.204 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 17:22:59.204 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 19:37:55.222 | INFO     | __main__:<module>:44 - Session Secret Key: ********31c2
2025-07-17 19:37:55.223 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 19:37:55.223 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 19:37:55.224 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 19:37:55.226 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 19:37:55.243 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3434184 - 服务器启动中...
2025-07-17 19:37:55.276 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 19:37:55.277 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 19:37:55.283 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 19:37:55.283 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 19:37:55.283 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 19:37:55.284 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:37:55.284 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 19:37:55.284 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 19:37:55)
2025-07-17 19:37:55.292 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 19:37:59.715 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 19:37:59, 总耗时: 4.43 秒)
2025-07-17 19:37:59.724 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:37:59.725 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 19:37:59.725 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 19:37:59.725 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 19:37:59.727 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 19:37:59.727 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 19:37:59.727 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 19:37:59.727 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 19:37:59.727 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 19:37:59.752 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 19:37:59.753 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 19:37:59.753 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 19:37:59.755 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 19:37:59.755 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 19:37:59.756 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 19:37:59.756 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 19:37:59.756 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 19:38:39.974 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 33025784-f650-4342-a9ce-4e4134e034fc, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 19:38:39.974 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 33025784-f650-4342-a9ce-4e4134e034fc) 登录成功。
2025-07-17 19:38:40.183 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 33025784-f650-4342-a9ce-4e4134e034fc) 的 WebSocket 已连接并关联。
2025-07-17 19:38:40.261 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 19:38:48.569 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:38:48.569 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 33025784-f650-4342-a9ce-4e4134e034fc, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 帮我打开船闸的项目文件
2025-07-17 19:38:51.430 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"project_name":"船闸","user":"admin"}'}}]
2025-07-17 19:38:51.430 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"project_name":"船闸","user":"admin"}
2025-07-17 19:38:51.473 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 19:38:51.474 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 19:38:51.475 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 19:38:51.475 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 19:38:51.476 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 19:38:51.477 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 19:41:55.998 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 33025784-f650-4342-a9ce-4e4134e034fc 用户 admin 断开连接
2025-07-17 19:41:55.998 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:41:55.999 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/33025784-f650-4342-a9ce-4e4134e034fc.json
2025-07-17 19:41:55.999 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 19:41:56.099 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3434184 - 服务器关闭中...
2025-07-17 19:41:56.099 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 19:41:56.099 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 19:42:00.678 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 19:42:00.678 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:44 - Session Secret Key: ********ecef
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 19:42:00.679 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 19:42:00.680 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 19:42:00.682 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 19:42:00.697 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3437953 - 服务器启动中...
2025-07-17 19:42:00.730 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 19:42:00.731 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 19:42:00.736 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 19:42:00.737 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 19:42:00.737 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 19:42:00.737 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:42:00.737 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 19:42:00.737 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 19:42:00)
2025-07-17 19:42:00.745 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 19:42:05.250 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 19:42:05, 总耗时: 4.51 秒)
2025-07-17 19:42:05.259 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:42:05.260 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 19:42:05.260 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 19:42:05.260 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 19:42:05.262 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 19:42:05.262 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 19:42:05.262 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 19:42:05.262 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 19:42:05.262 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 19:42:05.287 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 19:42:05.288 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 19:42:05.288 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 19:42:05.290 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 19:42:05.290 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 19:42:05.291 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 19:42:05.291 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 19:42:05.291 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 19:42:15.112 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 93d20fdc-6982-4da2-b32e-2a64321cb611, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 19:42:15.113 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 93d20fdc-6982-4da2-b32e-2a64321cb611) 登录成功。
2025-07-17 19:42:15.242 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 93d20fdc-6982-4da2-b32e-2a64321cb611) 的 WebSocket 已连接并关联。
2025-07-17 19:42:15.312 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 19:42:26.498 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:42:26.498 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 93d20fdc-6982-4da2-b32e-2a64321cb611, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 帮我打开船闸的项目文件
2025-07-17 19:42:28.814 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 19:42:28.815 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"船闸"}
2025-07-17 19:42:28.859 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 19:42:28.859 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 19:42:28.860 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 19:42:28.860 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 19:42:28.861 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 19:42:28.862 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 19:50:34.666 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 93d20fdc-6982-4da2-b32e-2a64321cb611) 已从状态管理器登出。
2025-07-17 19:50:34.666 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 19:50:34.695 | INFO     | core.routing:logout:128 - HTTP会话已清除 (用户: admin)。
2025-07-17 19:50:34.696 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 93d20fdc-6982-4da2-b32e-2a64321cb611 用户 admin 断开连接
2025-07-17 19:50:34.696 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:50:34.697 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/93d20fdc-6982-4da2-b32e-2a64321cb611.json
2025-07-17 19:50:38.074 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: dfabbe11-adb4-4179-bffe-643338d5923f, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 19:50:38.074 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: dfabbe11-adb4-4179-bffe-643338d5923f) 登录成功。
2025-07-17 19:50:38.249 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: dfabbe11-adb4-4179-bffe-643338d5923f) 的 WebSocket 已连接并关联。
2025-07-17 19:50:38.321 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 19:50:46.837 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:50:46.837 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 dfabbe11-adb4-4179-bffe-643338d5923f, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 打开船闸的项目文件
2025-07-17 19:50:48.640 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 19:50:48.640 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"船闸"}
2025-07-17 19:50:48.687 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 19:50:48.687 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 19:50:48.688 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 19:50:48.688 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 19:50:48.690 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 19:50:48.691 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 19:52:54.102 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 dfabbe11-adb4-4179-bffe-643338d5923f 用户 admin 断开连接
2025-07-17 19:52:54.102 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:52:54.103 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/dfabbe11-adb4-4179-bffe-643338d5923f.json
2025-07-17 19:52:54.103 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 19:52:54.203 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3437953 - 服务器关闭中...
2025-07-17 19:52:54.203 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 19:52:54.203 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 19:53:03.141 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 19:53:03.141 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:53:03.141 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:44 - Session Secret Key: ********5661
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 19:53:03.142 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 19:53:03.146 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 19:53:03.161 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3448069 - 服务器启动中...
2025-07-17 19:53:03.195 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 19:53:03.195 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 19:53:03.201 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 19:53:03.202 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 19:53:03.202 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 19:53:03.202 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:53:03.202 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 19:53:03.202 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 19:53:03)
2025-07-17 19:53:03.210 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 19:53:07.652 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 19:53:07, 总耗时: 4.45 秒)
2025-07-17 19:53:07.661 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:53:07.662 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 19:53:07.662 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 19:53:07.662 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 19:53:07.664 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 19:53:07.664 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 19:53:07.664 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 19:53:07.664 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 19:53:07.664 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 19:53:07.688 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 19:53:07.689 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 19:53:07.689 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 19:53:07.691 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 19:53:07.692 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 19:53:07.692 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 19:53:07.692 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 19:53:07.692 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 19:53:16.422 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: e99c3ce3-c13e-46cb-8c69-fcd169696c41, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 19:53:16.422 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: e99c3ce3-c13e-46cb-8c69-fcd169696c41) 登录成功。
2025-07-17 19:53:17.007 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: e99c3ce3-c13e-46cb-8c69-fcd169696c41) 的 WebSocket 已连接并关联。
2025-07-17 19:53:17.082 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 19:53:23.597 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:53:23.597 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e99c3ce3-c13e-46cb-8c69-fcd169696c41, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 打开船闸的项目文件
2025-07-17 19:53:39.163 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:53:39.163 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e99c3ce3-c13e-46cb-8c69-fcd169696c41, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: admin
2025-07-17 19:53:44.578 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:53:44.579 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e99c3ce3-c13e-46cb-8c69-fcd169696c41, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 2024
2025-07-17 19:53:46.335 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"project_name":"船闸","year":"2024","user":"admin"}'}}]
2025-07-17 19:53:46.335 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"project_name":"船闸","year":"2024","user":"admin"}
2025-07-17 19:53:46.380 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='2024'
2025-07-17 19:53:46.380 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: 2024
2025-07-17 19:53:46.381 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 19:53:46.381 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 19:53:46.383 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 19:53:46.383 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 19:54:31.491 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 e99c3ce3-c13e-46cb-8c69-fcd169696c41 用户 admin 断开连接
2025-07-17 19:54:31.491 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:54:31.493 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/e99c3ce3-c13e-46cb-8c69-fcd169696c41.json
2025-07-17 19:54:31.493 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 19:54:31.592 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3448069 - 服务器关闭中...
2025-07-17 19:54:31.593 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 19:54:31.593 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 19:56:26.730 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 19:56:26.730 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:44 - Session Secret Key: ********efd6
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 19:56:26.731 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 19:56:26.732 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 19:56:26.734 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 19:56:26.749 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3451267 - 服务器启动中...
2025-07-17 19:56:26.782 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 19:56:26.783 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 19:56:26.789 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 19:56:26.789 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 19:56:26.790 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 19:56:26.790 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 19:56:26.790 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 19:56:26.790 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 19:56:26)
2025-07-17 19:56:26.797 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 19:56:31.305 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 19:56:31, 总耗时: 4.52 秒)
2025-07-17 19:56:31.315 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 19:56:31.315 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 19:56:31.315 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 19:56:31.315 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 19:56:31.317 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 19:56:31.318 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 19:56:31.318 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 19:56:31.318 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 19:56:31.318 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 19:56:31.343 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 19:56:31.344 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 19:56:31.344 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 19:56:31.346 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 19:56:31.346 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 19:56:31.346 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 19:56:31.347 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 19:56:31.347 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 19:56:36.482 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 2c05e8cd-bee6-4971-8be4-b5d5c0b6baac, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 19:56:36.482 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 2c05e8cd-bee6-4971-8be4-b5d5c0b6baac) 登录成功。
2025-07-17 19:56:36.639 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 2c05e8cd-bee6-4971-8be4-b5d5c0b6baac) 的 WebSocket 已连接并关联。
2025-07-17 19:56:36.709 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 19:56:43.722 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:56:43.722 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 2c05e8cd-bee6-4971-8be4-b5d5c0b6baac, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 帮我打开船闸的项目文件
2025-07-17 19:56:47.201 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 19:56:47.201 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"船闸"}
2025-07-17 19:56:47.245 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 19:56:47.245 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 19:56:47.246 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 19:56:47.246 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 19:56:47.247 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 19:56:47.248 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 19:59:59.992 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 2c05e8cd-bee6-4971-8be4-b5d5c0b6baac 用户 admin 断开连接
2025-07-17 19:59:59.992 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 19:59:59.993 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/2c05e8cd-bee6-4971-8be4-b5d5c0b6baac.json
2025-07-17 19:59:59.993 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-17 20:00:00.093 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3451267 - 服务器关闭中...
2025-07-17 20:00:00.093 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 20:00:00.093 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:44 - Session Secret Key: ********862c
2025-07-17 20:00:02.987 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 20:00:02.988 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 20:00:02.988 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 20:00:02.991 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 20:00:03.006 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3454550 - 服务器启动中...
2025-07-17 20:00:03.038 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 20:00:03.039 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 20:00:03.044 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 20:00:03.045 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 20:00:03.045 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 20:00:03.045 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 20:00:03.045 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 20:00:03.045 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 20:00:03)
2025-07-17 20:00:03.052 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 20:00:07.480 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 20:00:07, 总耗时: 4.43 秒)
2025-07-17 20:00:07.488 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 20:00:07.489 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 20:00:07.489 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 20:00:07.489 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 20:00:07.491 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 20:00:07.491 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 20:00:07.491 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 20:00:07.491 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 20:00:07.491 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 20:00:07.516 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 20:00:07.517 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 20:00:07.517 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 20:00:07.519 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 20:00:07.520 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 20:00:07.520 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 20:00:07.521 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 20:00:07.521 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 20:00:15.970 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: eb8a0404-62a2-427d-badc-9926211a1739, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 20:00:15.970 | INFO     | core.routing:login:117 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: eb8a0404-62a2-427d-badc-9926211a1739) 登录成功。
2025-07-17 20:00:16.129 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: eb8a0404-62a2-427d-badc-9926211a1739) 的 WebSocket 已连接并关联。
2025-07-17 20:00:16.199 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 20:00:21.571 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 20:00:21.572 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 eb8a0404-62a2-427d-badc-9926211a1739, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 打开船闸的项目文件
2025-07-17 20:00:26.796 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"project_name":"船闸","user":"admin"}'}}]
2025-07-17 20:00:26.797 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"project_name":"船闸","user":"admin"}
2025-07-17 20:00:26.839 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 20:00:26.839 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 20:00:26.841 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 20:00:26.841 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 20:00:26.843 | INFO     | core.session:update_opened_dir:268 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 20:00:26.844 | INFO     | core.session:update_opened_dir:292 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 20:00:30.267 | DEBUG    | core.routing:callback:602 - onlyoffice callback
2025-07-17 20:00:30.279 | DEBUG    | core.routing:download_file_via_token:263 - 接收到下载请求，Token: '5a12e96797e647e19263240f8d8040c8', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 20:00:30.280 | INFO     | core.session:get_downloadable_file_info:327 - 下载token '5a12e96797e647e19263240f8d8040c8' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 20:00:30.280 | DEBUG    | core.routing:download_file_via_token:286 - Token '5a12e96797e647e19263240f8d8040c8' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-17 21:01:07.521 | INFO     | core.session:process_inactive_sessions:375 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-17 21:01:07.521 | INFO     | core.session:process_inactive_sessions:381 - APScheduler: 用户 'admin' (会话 eb8a0404-62a2-427d-badc-9926211a1739) 因不活动被自动登出。
2025-07-17 21:01:07.521 | INFO     | core.session:process_inactive_sessions:383 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-17 21:01:07.556 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 eb8a0404-62a2-427d-badc-9926211a1739 用户 admin 断开连接
2025-07-17 21:01:07.557 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 21:01:07.557 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/eb8a0404-62a2-427d-badc-9926211a1739.json
2025-07-17 22:08:16.428 | DEBUG    | core.routing:callback:602 - onlyoffice callback
2025-07-17 22:27:12.598 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3454550 - 服务器关闭中...
2025-07-17 22:27:12.598 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 22:27:12.598 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-17 22:30:12.526 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:44 - Session Secret Key: ********649c
2025-07-17 22:30:12.527 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-17 22:30:12.528 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-17 22:30:12.528 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-17 22:30:12.531 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-17 22:30:12.546 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 3586325 - 服务器启动中...
2025-07-17 22:30:12.579 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-17 22:30:12.579 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-17 22:30:12.585 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-17 22:30:12.585 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-17 22:30:12.586 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-17 22:30:12.586 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-17 22:30:12.586 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-17 22:30:12.586 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-17 22:30:12)
2025-07-17 22:30:12.593 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-17 22:30:17.058 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-17 22:30:17, 总耗时: 4.47 秒)
2025-07-17 22:30:17.067 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-17 22:30:17.068 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-17 22:30:17.068 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-17 22:30:17.068 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-17 22:30:17.070 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-17 22:30:17.070 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-17 22:30:17.070 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-17 22:30:17.070 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-17 22:30:17.070 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-17 22:30:17.096 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-17 22:30:17.097 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-17 22:30:17.097 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-17 22:30:17.099 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-17 22:30:17.100 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-17 22:30:17.100 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-17 22:30:17.100 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-17 22:30:17.101 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-17 22:30:26.459 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: e517d41a-7dfe-4f62-ae64-41723b61758e, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-17 22:30:26.460 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: e517d41a-7dfe-4f62-ae64-41723b61758e) 登录成功。
2025-07-17 22:30:26.610 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: e517d41a-7dfe-4f62-ae64-41723b61758e) 的 WebSocket 已连接并关联。
2025-07-17 22:30:26.690 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-17 22:30:34.648 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 22:30:34.649 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e517d41a-7dfe-4f62-ae64-41723b61758e, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 帮我打开船闸的项目文件
2025-07-17 22:30:45.298 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 22:30:45.298 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e517d41a-7dfe-4f62-ae64-41723b61758e, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: admin
2025-07-17 22:30:51.239 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 22:30:51.239 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 e517d41a-7dfe-4f62-ae64-41723b61758e, 对话ID: 727b30ef-8a45-4151-8186-c035a816fc86, 查询: 是的
2025-07-17 22:30:53.870 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-17 22:30:53.870 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"船闸"}
2025-07-17 22:30:53.917 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-17 22:30:53.918 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-17 22:30:53.919 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-17 22:30:53.919 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-17 22:30:53.920 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-17 22:30:53.921 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-17 22:30:59.227 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:e769f9c6027f4338b49d58c020a3168f_1752762659
2025-07-17 22:31:00.365 | INFO     | core.routing:onlyoffice_callback:611 - 接收到回调：status=1, key=e769f9c6027f4338b49d58c020a3168f_1752762659, url=None
2025-07-17 22:31:00.365 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑keye769f9c6027f4338b49d58c020a3168f_1752762659的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 22:31:00.365 | INFO     | core.routing:onlyoffice_callback:636 - 状态码为 1，无需保存
2025-07-17 22:31:00.382 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'e769f9c6027f4338b49d58c020a3168f', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-17 22:31:00.382 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'e769f9c6027f4338b49d58c020a3168f' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 22:31:00.382 | DEBUG    | core.routing:download_file_via_token:287 - Token 'e769f9c6027f4338b49d58c020a3168f' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-17 22:31:55.657 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:644 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/e769f9c6027f4338b49d58c020a3168f/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 22:31:55.665 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'e769f9c6027f4338b49d58c020a3168f', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_783b1e1e.docx'
2025-07-17 22:31:55.665 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'e769f9c6027f4338b49d58c020a3168f' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 22:31:55.665 | WARNING  | core.routing:download_file_via_token:281 - 下载请求中URL文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_783b1e1e.docx' 与Token关联文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 不匹配。将使用Token关联文件名。
2025-07-17 22:31:55.665 | DEBUG    | core.routing:download_file_via_token:287 - Token 'e769f9c6027f4338b49d58c020a3168f' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_783b1e1e.docx')
2025-07-17 22:32:39.913 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:644 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/e769f9c6027f4338b49d58c020a3168f/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-17 22:32:39.920 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'e769f9c6027f4338b49d58c020a3168f', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_7c1579e0.docx'
2025-07-17 22:32:39.920 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'e769f9c6027f4338b49d58c020a3168f' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-17 22:32:39.920 | WARNING  | core.routing:download_file_via_token:281 - 下载请求中URL文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_7c1579e0.docx' 与Token关联文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 不匹配。将使用Token关联文件名。
2025-07-17 22:32:39.920 | DEBUG    | core.routing:download_file_via_token:287 - Token 'e769f9c6027f4338b49d58c020a3168f' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_7c1579e0.docx')
2025-07-17 22:32:45.704 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: e517d41a-7dfe-4f62-ae64-41723b61758e) 已从状态管理器登出。
2025-07-17 22:32:45.704 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-17 22:32:45.733 | INFO     | core.routing:logout:129 - HTTP会话已清除 (用户: admin)。
2025-07-17 22:32:45.734 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 e517d41a-7dfe-4f62-ae64-41723b61758e 用户 admin 断开连接
2025-07-17 22:32:45.734 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-17 22:32:45.735 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/e517d41a-7dfe-4f62-ae64-41723b61758e.json
2025-07-17 22:32:53.926 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 3586325 - 服务器关闭中...
2025-07-17 22:32:53.926 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-17 22:32:53.926 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-18 07:51:41.287 | INFO     | __main__:<module>:44 - Session Secret Key: ********504b
2025-07-18 07:51:41.288 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-18 07:51:41.288 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-18 07:51:41.288 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-18 07:51:41.291 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-18 07:51:41.307 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 4080500 - 服务器启动中...
2025-07-18 07:51:41.340 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-18 07:51:41.340 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-18 07:51:41.346 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-18 07:51:41.346 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-18 07:51:41.347 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-18 07:51:41.347 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 07:51:41.347 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-18 07:51:41.347 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-18 07:51:41)
2025-07-18 07:51:41.354 | INFO     | database.filebase:scan_existing:317 - 处理 1161 个文件...
2025-07-18 07:51:45.824 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-18 07:51:45, 总耗时: 4.48 秒)
2025-07-18 07:51:45.833 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 07:51:45.833 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-18 07:51:45.834 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-18 07:51:45.834 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-18 07:51:45.835 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-18 07:51:45.836 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-18 07:51:45.836 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-18 07:51:45.836 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-18 07:51:45.836 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-18 07:51:45.860 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-18 07:51:45.861 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-18 07:51:45.861 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-18 07:51:45.863 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-18 07:51:45.864 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-18 07:51:45.864 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-18 07:51:45.864 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-18 07:51:45.864 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-18 07:52:32.177 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 49ea3577-eb1c-49b0-91a0-76dadd284d70, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-18 07:52:32.177 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 49ea3577-eb1c-49b0-91a0-76dadd284d70) 登录成功。
2025-07-18 07:52:32.379 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 49ea3577-eb1c-49b0-91a0-76dadd284d70) 的 WebSocket 已连接并关联。
2025-07-18 07:52:32.451 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 07:52:42.413 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 07:52:42.413 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 49ea3577-eb1c-49b0-91a0-76dadd284d70, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: 打开丹华的项目文件
2025-07-18 07:52:51.083 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 07:52:51.083 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 49ea3577-eb1c-49b0-91a0-76dadd284d70, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: admin
2025-07-18 07:52:57.076 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 07:52:57.077 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 49ea3577-eb1c-49b0-91a0-76dadd284d70, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: 默认
2025-07-18 07:52:58.946 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"丹华","year":"2024"}'}}]
2025-07-18 07:52:58.946 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"丹华","year":"2024"}
2025-07-18 07:52:58.990 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='丹华', 年份='2024'
2025-07-18 07:52:58.991 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '丹华', 年份: 2024
2025-07-18 07:52:58.992 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 0 个项目: []
2025-07-18 07:52:58.992 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:832 - 模糊匹配未找到，使用全局向量检索。
2025-07-18 07:52:58.992 | DEBUG    | my_mcp_tools.mcp_tools:_get_embeddings:136 - 正在调用嵌入模型: base_url='http://127.0.0.1:8001/v1', model='/home/zhouxiang/models/BAAI_bge-m3'
2025-07-18 07:52:59.139 | DEBUG    | my_mcp_tools.mcp_tools:_find_similar_items_with_scores:166 - 向量检索 Top-3 结果: [('盐城滨海润电200兆瓦渔林光互补光伏发电项目110千伏送出工程', 0.29341091712818057), ('示例项目', 0.24679097141562215), ('白衣河输变电工程初设收口版', 0.24251025502251283)]
2025-07-18 07:53:43.431 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 07:53:43.431 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 49ea3577-eb1c-49b0-91a0-76dadd284d70, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: 再找下2025年的
2025-07-18 07:53:45.563 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '2', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"丹华","year":"2025"}'}}]
2025-07-18 07:53:45.564 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"丹华","year":"2025"}
2025-07-18 07:53:45.607 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='丹华', 年份='2025'
2025-07-18 07:53:45.607 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '丹华', 年份: 2025
2025-07-18 07:53:45.609 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['丹华初设']
2025-07-18 07:53:45.609 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '丹华初设'
2025-07-18 07:53:45.611 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '丹华初设'，包含 153 个文件。
2025-07-18 07:53:45.613 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 07:53:50.757 | INFO     | core.session:set_edited_file:197 - 成功为文件2025/丹华初设/收口/(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx进行编辑注册,key:7b8f33f08aae478695cd0be21def8a3a_1752796430
2025-07-18 07:53:51.515 | INFO     | core.routing:onlyoffice_callback:611 - 接收到回调：status=1, key=7b8f33f08aae478695cd0be21def8a3a_1752796430, url=None
2025-07-18 07:53:51.515 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key7b8f33f08aae478695cd0be21def8a3a_1752796430的文件路径2025/丹华初设/收口/(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx
2025-07-18 07:53:51.515 | INFO     | core.routing:onlyoffice_callback:636 - 状态码为 1，无需保存
2025-07-18 07:53:51.528 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '7b8f33f08aae478695cd0be21def8a3a', URL中的文件名: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx'
2025-07-18 07:53:51.528 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '7b8f33f08aae478695cd0be21def8a3a' (文件: (01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 07:53:51.528 | DEBUG    | core.routing:download_file_via_token:287 - Token '7b8f33f08aae478695cd0be21def8a3a' 验证成功。准备下载文件: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx', URL文件名: '(01)(01)会议纪要_江苏泰州丹华110千伏输变电工程（汇总）.docx')
2025-07-18 07:57:51.562 | INFO     | core.session:set_edited_file:197 - 成功为文件2025/丹华初设/收口/(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx进行编辑注册,key:c4b4653107664d88af2f9bcffa58a44e_1752796671
2025-07-18 07:57:52.157 | INFO     | core.routing:onlyoffice_callback:611 - 接收到回调：status=1, key=c4b4653107664d88af2f9bcffa58a44e_1752796671, url=None
2025-07-18 07:57:52.158 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑keyc4b4653107664d88af2f9bcffa58a44e_1752796671的文件路径2025/丹华初设/收口/(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx
2025-07-18 07:57:52.158 | INFO     | core.routing:onlyoffice_callback:636 - 状态码为 1，无需保存
2025-07-18 07:57:52.171 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'c4b4653107664d88af2f9bcffa58a44e', URL中的文件名: '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx'
2025-07-18 07:57:52.171 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'c4b4653107664d88af2f9bcffa58a44e' (文件: (01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 07:57:52.171 | DEBUG    | core.routing:download_file_via_token:287 - Token 'c4b4653107664d88af2f9bcffa58a44e' 验证成功。准备下载文件: '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx', URL文件名: '(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx')
2025-07-18 07:57:57.495 | INFO     | core.routing:onlyoffice_callback:611 - 接收到回调：status=2, key=7b8f33f08aae478695cd0be21def8a3a_1752796430, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/7b8f33f08aae478695cd0be21def8a3a_1752796430_2126/output.docx/output.docx?md5=g9YXG7peLHZKyO7Ru1HjWA&expires=1752797578&shardkey=7b8f33f08aae478695cd0be21def8a3a_1752796430&filename=output.docx
2025-07-18 07:57:57.495 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:7b8f33f08aae478695cd0be21def8a3a_1752796430
2025-07-18 07:57:57.551 | SUCCESS  | core.routing:onlyoffice_callback:628 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 07:58:18.108 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:644 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/ac7f318da2cf44fc9fd4ebd834d14347/夏仕变甬金间隔设备更换必要性说明.jpg
2025-07-18 07:58:30.252 | INFO     | core.routing:onlyoffice_callback:611 - 接收到回调：status=4, key=c4b4653107664d88af2f9bcffa58a44e_1752796671, url=None
2025-07-18 07:58:30.252 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑keyc4b4653107664d88af2f9bcffa58a44e_1752796671的文件路径2025/丹华初设/收口/(01)(01)工程评审意见_江苏泰州丹华110kV输变电工程（汇总）.docx
2025-07-18 07:58:30.252 | INFO     | core.routing:onlyoffice_callback:636 - 状态码为 4，无需保存
2025-07-18 07:58:30.272 | INFO     | core.session:set_edited_file:197 - 成功为文件2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/夏仕220千伏变电站110千伏间隔改造工程收口版/夏仕概算书/泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx进行编辑注册,key:2a79f11c8530444fa4d87c8da40c9c74_1752796710
2025-07-18 07:58:30.856 | INFO     | core.routing:onlyoffice_callback:611 - 接收到回调：status=1, key=2a79f11c8530444fa4d87c8da40c9c74_1752796710, url=None
2025-07-18 07:58:30.856 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key2a79f11c8530444fa4d87c8da40c9c74_1752796710的文件路径2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/夏仕220千伏变电站110千伏间隔改造工程收口版/夏仕概算书/泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx
2025-07-18 07:58:30.856 | INFO     | core.routing:onlyoffice_callback:636 - 状态码为 1，无需保存
2025-07-18 07:58:30.869 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '2a79f11c8530444fa4d87c8da40c9c74', URL中的文件名: '泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx'
2025-07-18 07:58:30.869 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '2a79f11c8530444fa4d87c8da40c9c74' (文件: 泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 07:58:30.870 | DEBUG    | core.routing:download_file_via_token:287 - Token '2a79f11c8530444fa4d87c8da40c9c74' 验证成功。准备下载文件: '泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/夏仕220千伏变电站110千伏间隔改造工程收口版/夏仕概算书/泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx', URL文件名: '泰州夏仕220千伏变电站110千伏间隔改造工程（丹华间隔）初设收口.xlsx')
2025-07-18 07:58:49.107 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:644 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/aea18c94bbdf4e45bc26185be13275d6/[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf
2025-07-18 07:58:49.300 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'aea18c94bbdf4e45bc26185be13275d6', URL中的文件名: '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）_3ca7e345.pdf'
2025-07-18 07:58:49.300 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'aea18c94bbdf4e45bc26185be13275d6' (文件: [2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 07:58:49.300 | WARNING  | core.routing:download_file_via_token:281 - 下载请求中URL文件名 '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）_3ca7e345.pdf' 与Token关联文件名 '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf' 不匹配。将使用Token关联文件名。
2025-07-18 07:58:49.301 | DEBUG    | core.routing:download_file_via_token:287 - Token 'aea18c94bbdf4e45bc26185be13275d6' 验证成功。准备下载文件: '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/六助220千伏变电站110千伏间隔改造工程收口版/[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf', URL文件名: '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）_3ca7e345.pdf')
2025-07-18 07:58:49.304 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'aea18c94bbdf4e45bc26185be13275d6', URL中的文件名: '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）_3ca7e345.pdf'
2025-07-18 07:58:49.304 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'aea18c94bbdf4e45bc26185be13275d6' (文件: [2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 07:58:49.305 | WARNING  | core.routing:download_file_via_token:281 - 下载请求中URL文件名 '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）_3ca7e345.pdf' 与Token关联文件名 '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf' 不匹配。将使用Token关联文件名。
2025-07-18 07:58:49.305 | DEBUG    | core.routing:download_file_via_token:287 - Token 'aea18c94bbdf4e45bc26185be13275d6' 验证成功。准备下载文件: '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2025/丹华初设/收口/(01)泰州丹华110千伏输变电工程初步设计收口版/泰州丹华110千伏输变电工程初步设计收口版/六助220千伏变电站110千伏间隔改造工程收口版/[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）.pdf', URL文件名: '[2023033-B3328C-A-07]电气二次设备室平面布置图（改造后）_3ca7e345.pdf')
2025-07-18 08:22:50.940 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 49ea3577-eb1c-49b0-91a0-76dadd284d70 用户 admin 断开连接
2025-07-18 08:22:50.940 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 08:22:50.941 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/49ea3577-eb1c-49b0-91a0-76dadd284d70.json
2025-07-18 08:22:50.941 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-18 08:22:51.041 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 4080500 - 服务器关闭中...
2025-07-18 08:22:51.041 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-18 08:22:51.041 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-18 08:22:54.954 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-18 08:22:54.954 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 08:22:54.954 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 08:22:54.954 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-18 08:22:54.955 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-18 08:22:54.955 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-18 08:22:54.955 | INFO     | __main__:<module>:44 - Session Secret Key: ********acd1
2025-07-18 08:22:54.955 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-18 08:22:54.955 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-18 08:22:54.956 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-18 08:22:54.958 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-18 08:22:54.974 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 4108126 - 服务器启动中...
2025-07-18 08:22:55.006 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-18 08:22:55.006 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-18 08:22:55.013 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-18 08:22:55.013 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-18 08:22:55.013 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-18 08:22:55.013 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 08:22:55.014 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-18 08:22:55.014 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-18 08:22:55)
2025-07-18 08:22:55.021 | INFO     | database.filebase:scan_existing:317 - 处理 1162 个文件...
2025-07-18 08:22:59.505 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-18 08:22:59, 总耗时: 4.49 秒)
2025-07-18 08:22:59.515 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 08:22:59.515 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-18 08:22:59.515 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-18 08:22:59.515 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-18 08:22:59.517 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-18 08:22:59.517 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-18 08:22:59.517 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-18 08:22:59.517 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-18 08:22:59.518 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-18 08:22:59.545 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-18 08:22:59.547 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-18 08:22:59.547 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-18 08:22:59.549 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-18 08:22:59.550 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-18 08:22:59.550 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-18 08:22:59.550 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-18 08:22:59.550 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-18 08:23:01.745 | INFO     | core.routing:onlyoffice_callback:638 - 接收到回调：status=4, key=2a79f11c8530444fa4d87c8da40c9c74_1752796710, url=None
2025-07-18 08:23:01.746 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:2a79f11c8530444fa4d87c8da40c9c74_1752796710
2025-07-18 08:23:01.746 | INFO     | core.routing:onlyoffice_callback:663 - 状态码为 4，无需保存
2025-07-18 08:23:02.902 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 3efb1807-53a9-450c-bed0-f098301d56c1, IP: 240e:3a1:7d1:2440::e7) 登录/状态更新成功。
2025-07-18 08:23:02.902 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 240e:3a1:7d1:2440::e7, Session: 3efb1807-53a9-450c-bed0-f098301d56c1) 登录成功。
2025-07-18 08:23:03.133 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 3efb1807-53a9-450c-bed0-f098301d56c1) 的 WebSocket 已连接并关联。
2025-07-18 08:23:03.204 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 08:23:13.418 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 08:23:13.418 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 3efb1807-53a9-450c-bed0-f098301d56c1, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: 帮我打开船闸的项目文件
2025-07-18 08:23:20.791 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 08:23:20.791 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 3efb1807-53a9-450c-bed0-f098301d56c1, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: admin
2025-07-18 08:23:27.448 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 08:23:27.448 | INFO     | sse_proxy.sse2websocket1:run:268 - 启动OpenAI转发：用户 admin, 会话 3efb1807-53a9-450c-bed0-f098301d56c1, 对话ID: 7dd12cb1-10f5-4ba1-a0e5-9496599db9cb, 查询: 列表
2025-07-18 08:23:29.498 | INFO     | sse_proxy.sse2websocket1:_handle_stream:139 - 触发工具调用: [{'id': '1', 'type': 'function', 'function': {'name': 'query_project_files', 'arguments': '{"user":"admin","project_name":"船闸"}'}}]
2025-07-18 08:23:29.498 | INFO     | sse_proxy.sse2websocket1:_execute_tool_calls:175 - 执行工具调用: query_project_files with args: {"user":"admin","project_name":"船闸"}
2025-07-18 08:23:29.542 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 08:23:29.542 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 08:23:29.543 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 08:23:29.544 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 08:23:29.545 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 08:23:29.546 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 08:23:32.995 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:8ef60b97fa514372815bdb43879e7c37_1752798212,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 08:23:32.995 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:8ef60b97fa514372815bdb43879e7c37_1752798212
2025-07-18 08:23:33.711 | INFO     | core.routing:onlyoffice_callback:638 - 接收到回调：status=1, key=8ef60b97fa514372815bdb43879e7c37_1752798212, url=None
2025-07-18 08:23:33.712 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key8ef60b97fa514372815bdb43879e7c37_1752798212的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 08:23:33.712 | INFO     | core.routing:onlyoffice_callback:663 - 状态码为 1，无需保存
2025-07-18 08:23:33.724 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '8ef60b97fa514372815bdb43879e7c37', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 08:23:33.724 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '8ef60b97fa514372815bdb43879e7c37' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 08:23:33.724 | DEBUG    | core.routing:download_file_via_token:287 - Token '8ef60b97fa514372815bdb43879e7c37' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 08:23:41.400 | INFO     | core.routing:onlyoffice_callback:638 - 接收到回调：status=4, key=8ef60b97fa514372815bdb43879e7c37_1752798212, url=None
2025-07-18 08:23:41.401 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key8ef60b97fa514372815bdb43879e7c37_1752798212的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 08:23:41.401 | INFO     | core.routing:onlyoffice_callback:663 - 状态码为 4，无需保存
2025-07-18 08:23:41.413 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:cell, key:f0a984dbf14d43e5baa0c6c50d7cc080_1752798221,title:胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx.
2025-07-18 08:23:41.413 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx进行编辑注册,key:f0a984dbf14d43e5baa0c6c50d7cc080_1752798221
2025-07-18 08:23:42.562 | INFO     | core.routing:onlyoffice_callback:638 - 接收到回调：status=1, key=f0a984dbf14d43e5baa0c6c50d7cc080_1752798221, url=None
2025-07-18 08:23:42.562 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑keyf0a984dbf14d43e5baa0c6c50d7cc080_1752798221的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx
2025-07-18 08:23:42.562 | INFO     | core.routing:onlyoffice_callback:663 - 状态码为 1，无需保存
2025-07-18 08:23:42.576 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'f0a984dbf14d43e5baa0c6c50d7cc080', URL中的文件名: '胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx'
2025-07-18 08:23:42.576 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'f0a984dbf14d43e5baa0c6c50d7cc080' (文件: 胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 08:23:42.576 | DEBUG    | core.routing:download_file_via_token:287 - Token 'f0a984dbf14d43e5baa0c6c50d7cc080' 验证成功。准备下载文件: '胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx', URL文件名: '胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx')
2025-07-18 08:24:22.724 | INFO     | core.routing:onlyoffice_callback:638 - 接收到回调：status=4, key=f0a984dbf14d43e5baa0c6c50d7cc080_1752798221, url=None
2025-07-18 08:24:22.725 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑keyf0a984dbf14d43e5baa0c6c50d7cc080_1752798221的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx
2025-07-18 08:24:22.725 | INFO     | core.routing:onlyoffice_callback:663 - 状态码为 4，无需保存
2025-07-18 08:24:22.738 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:8ef60b97fa514372815bdb43879e7c37_1752798262,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 08:24:22.738 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:8ef60b97fa514372815bdb43879e7c37_1752798262
2025-07-18 08:24:23.340 | INFO     | core.routing:onlyoffice_callback:638 - 接收到回调：status=1, key=8ef60b97fa514372815bdb43879e7c37_1752798262, url=None
2025-07-18 08:24:23.341 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key8ef60b97fa514372815bdb43879e7c37_1752798262的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 08:24:23.341 | INFO     | core.routing:onlyoffice_callback:663 - 状态码为 1，无需保存
2025-07-18 08:24:23.354 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '8ef60b97fa514372815bdb43879e7c37', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 08:24:23.354 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '8ef60b97fa514372815bdb43879e7c37' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 08:24:23.354 | DEBUG    | core.routing:download_file_via_token:287 - Token '8ef60b97fa514372815bdb43879e7c37' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 08:30:04.816 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 3efb1807-53a9-450c-bed0-f098301d56c1 用户 admin 断开连接
2025-07-18 08:30:04.816 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 08:30:04.817 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/3efb1807-53a9-450c-bed0-f098301d56c1.json
2025-07-18 08:30:04.817 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-18 08:30:04.917 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 4108126 - 服务器关闭中...
2025-07-18 08:30:04.918 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-18 08:30:04.918 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-18 11:07:47.911 | INFO     | __main__:<module>:44 - Session Secret Key: ********b890
2025-07-18 11:07:47.912 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-18 11:07:47.912 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-18 11:07:47.913 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-18 11:07:47.916 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-18 11:07:47.932 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 61316 - 服务器启动中...
2025-07-18 11:07:47.973 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-18 11:07:47.973 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-18 11:07:47.980 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-18 11:07:47.981 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-18 11:07:47.981 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-18 11:07:47.981 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 11:07:47.981 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-18 11:07:47.982 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-18 11:07:47)
2025-07-18 11:07:47.991 | INFO     | database.filebase:scan_existing:317 - 处理 1162 个文件...
2025-07-18 11:07:52.716 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-18 11:07:52, 总耗时: 4.73 秒)
2025-07-18 11:07:52.729 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:07:52.729 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-18 11:07:52.730 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-18 11:07:52.730 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-18 11:07:52.732 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-18 11:07:52.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-18 11:07:52.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-18 11:07:52.733 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-18 11:07:52.733 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-18 11:07:52.762 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-18 11:07:52.764 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-18 11:07:52.764 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-18 11:07:52.766 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-18 11:07:52.767 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-18 11:07:52.767 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-18 11:07:52.768 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-18 11:07:52.768 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-18 11:08:30.713 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 01982ca9-a3dd-4282-b6d2-c4aeeffd4b05, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-18 11:08:30.713 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 127.0.0.1, Session: 01982ca9-a3dd-4282-b6d2-c4aeeffd4b05) 登录成功。
2025-07-18 11:08:30.765 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 01982ca9-a3dd-4282-b6d2-c4aeeffd4b05) 的 WebSocket 已连接并关联。
2025-07-18 11:08:30.841 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 11:08:32.689 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 11:08:32.689 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 11:08:32.691 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 11:08:32.691 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 11:08:32.693 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 11:08:32.694 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 11:08:32.696 | DEBUG    | core.routing:test_button_clicked:654 - test_button_clicked 调用结果:meta=None content=[TextContent(type='text', text='{"project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计", "project_files": ["2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/Top Gun • Danger Zone • Kenny Loggins.mkv", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/WANGFEI.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/口是心非-张雨生 国语MV.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王傑 Dave Wang - 是否我真的一無所有 Is It True That I Have Nothing Of My Own (官方完整版MV).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王菲 -《執迷不悔 (1993版，國語)》(Official Music Video).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/辛晓琪这首《俩俩相忘》经典好听，相濡以沫，不如相忘于江湖.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/關淑怡-難得有情人(粵語版).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-03 苏州市2025年市区电网接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-04 电缆土建一览图-船闸20240605 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-05 电缆引下接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-06 船闸变110kV屋内配电装置平面布置图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-07 电缆金属护层接地方式图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-10 接头井内电缆布置示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-11 电缆沟接地图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-12 电缆防火示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-14 设备材料清册1-2.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/.~lock.胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx#", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-02 主要设备材料清册.doc", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-02~05 电气总平面及各层平面布置图、断面图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D2-01~03.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-ML 目录.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-01.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-02.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj"], "hint": "文件较多，若用户无要求，无需罗列"}', annotations=None)] isError=False
2025-07-18 11:08:35.868 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:040c494b0b744e148654d48463d00426_1752808115,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 11:08:35.868 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:040c494b0b744e148654d48463d00426_1752808115
2025-07-18 11:08:36.449 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key040c494b0b744e148654d48463d00426_1752808115的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:08:36.450 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=1, key=040c494b0b744e148654d48463d00426_1752808115, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:08:36.450 | INFO     | core.routing:onlyoffice_callback:697 - 状态码为 1，无需保存
2025-07-18 11:08:36.467 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '040c494b0b744e148654d48463d00426', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 11:08:36.467 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '040c494b0b744e148654d48463d00426' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 11:08:36.468 | DEBUG    | core.routing:download_file_via_token:287 - Token '040c494b0b744e148654d48463d00426' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 11:10:22.221 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:8561fe00bb0f4e349c87f0c037920a92_1752808222,title:苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx.
2025-07-18 11:10:22.221 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx进行编辑注册,key:8561fe00bb0f4e349c87f0c037920a92_1752808222
2025-07-18 11:10:22.798 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key8561fe00bb0f4e349c87f0c037920a92_1752808222的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx
2025-07-18 11:10:22.798 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=1, key=8561fe00bb0f4e349c87f0c037920a92_1752808222, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx
2025-07-18 11:10:22.798 | INFO     | core.routing:onlyoffice_callback:697 - 状态码为 1，无需保存
2025-07-18 11:10:22.813 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '8561fe00bb0f4e349c87f0c037920a92', URL中的文件名: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx'
2025-07-18 11:10:22.814 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '8561fe00bb0f4e349c87f0c037920a92' (文件: 苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 11:10:22.814 | DEBUG    | core.routing:download_file_via_token:287 - Token '8561fe00bb0f4e349c87f0c037920a92' 验证成功。准备下载文件: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx', URL文件名: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx')
2025-07-18 11:10:28.014 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:040c494b0b744e148654d48463d00426_1752808115
2025-07-18 11:10:28.014 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=2, key=040c494b0b744e148654d48463d00426_1752808115, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/040c494b0b744e148654d48463d00426_1752808115_709/output.docx/output.docx?md5=KJibHVeBALXCQaBqsCw35A&expires=1752809129&shardkey=040c494b0b744e148654d48463d00426_1752808115&filename=output.docx, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:10:28.053 | SUCCESS  | core.routing:onlyoffice_callback:689 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:27:04.188 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 11:27:04.188 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 11:27:04.189 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 11:27:04.189 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 11:27:04.192 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 11:27:04.193 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 11:27:04.195 | DEBUG    | core.routing:test_button_clicked:654 - test_button_clicked 调用结果:meta=None content=[TextContent(type='text', text='{"project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计", "project_files": ["2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/Top Gun • Danger Zone • Kenny Loggins.mkv", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/WANGFEI.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/口是心非-张雨生 国语MV.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王傑 Dave Wang - 是否我真的一無所有 Is It True That I Have Nothing Of My Own (官方完整版MV).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王菲 -《執迷不悔 (1993版，國語)》(Official Music Video).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/辛晓琪这首《俩俩相忘》经典好听，相濡以沫，不如相忘于江湖.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/關淑怡-難得有情人(粵語版).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-03 苏州市2025年市区电网接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-04 电缆土建一览图-船闸20240605 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-05 电缆引下接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-06 船闸变110kV屋内配电装置平面布置图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-07 电缆金属护层接地方式图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-10 接头井内电缆布置示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-11 电缆沟接地图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-12 电缆防火示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-14 设备材料清册1-2.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/.~lock.胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx#", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-02 主要设备材料清册.doc", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-02~05 电气总平面及各层平面布置图、断面图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D2-01~03.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-ML 目录.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-01.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-02.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj"], "hint": "文件较多，若用户无要求，无需罗列"}', annotations=None)] isError=False
2025-07-18 11:27:38.759 | DEBUG    | core.routing:kkfileview_preview_encoder_proxy:705 - 用户 'admin' 请求预览文件，原始 kkFileView 目标 URL (来自前端): http://host.docker.internal:8888/download/9890318318a948b58bff95705b56aace/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:27:38.768 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '9890318318a948b58bff95705b56aace', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_525657c5.docx'
2025-07-18 11:27:38.768 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '9890318318a948b58bff95705b56aace' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 11:27:38.768 | WARNING  | core.routing:download_file_via_token:281 - 下载请求中URL文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_525657c5.docx' 与Token关联文件名 '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' 不匹配。将使用Token关联文件名。
2025-07-18 11:27:38.768 | DEBUG    | core.routing:download_file_via_token:287 - Token '9890318318a948b58bff95705b56aace' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23_525657c5.docx')
2025-07-18 11:27:43.479 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:9890318318a948b58bff95705b56aace_1752809263,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 11:27:43.479 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:9890318318a948b58bff95705b56aace_1752809263
2025-07-18 11:27:44.039 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key9890318318a948b58bff95705b56aace_1752809263的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:27:44.039 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=1, key=9890318318a948b58bff95705b56aace_1752809263, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:27:44.039 | INFO     | core.routing:onlyoffice_callback:697 - 状态码为 1，无需保存
2025-07-18 11:27:44.056 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '9890318318a948b58bff95705b56aace', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 11:27:44.056 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '9890318318a948b58bff95705b56aace' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 11:27:44.056 | DEBUG    | core.routing:download_file_via_token:287 - Token '9890318318a948b58bff95705b56aace' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 11:27:49.561 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:8561fe00bb0f4e349c87f0c037920a92_1752808222
2025-07-18 11:27:49.561 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=2, key=8561fe00bb0f4e349c87f0c037920a92_1752808222, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/8561fe00bb0f4e349c87f0c037920a92_1752808222_9182/output.docx/output.docx?md5=KvPFGk_ak4vhgC3wkyqycQ&expires=1752810170&shardkey=8561fe00bb0f4e349c87f0c037920a92_1752808222&filename=output.docx, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:27:49.602 | SUCCESS  | core.routing:onlyoffice_callback:689 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:28:49.554 | INFO     | core.session:logout_user:151 - 用户 'admin' (会话: 01982ca9-a3dd-4282-b6d2-c4aeeffd4b05) 已从状态管理器登出。
2025-07-18 11:28:49.554 | INFO     | core.session:logout_user:153 - 用户 'admin' 登出时，其WebSocket连接处于活动状态，将尝试关闭。
2025-07-18 11:28:49.555 | INFO     | core.routing:logout:129 - HTTP会话已清除 (用户: admin)。
2025-07-18 11:28:49.555 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 01982ca9-a3dd-4282-b6d2-c4aeeffd4b05 用户 admin 断开连接
2025-07-18 11:28:49.555 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 11:28:49.556 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/01982ca9-a3dd-4282-b6d2-c4aeeffd4b05.json
2025-07-18 11:28:53.187 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: d2d750cb-da03-4bb3-b463-00685d01cd8a, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-18 11:28:53.187 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 127.0.0.1, Session: d2d750cb-da03-4bb3-b463-00685d01cd8a) 登录成功。
2025-07-18 11:28:53.239 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: d2d750cb-da03-4bb3-b463-00685d01cd8a) 的 WebSocket 已连接并关联。
2025-07-18 11:28:53.334 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 11:28:57.548 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:9890318318a948b58bff95705b56aace_1752809263
2025-07-18 11:28:57.548 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=2, key=9890318318a948b58bff95705b56aace_1752809263, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/9890318318a948b58bff95705b56aace_1752809263_5464/output.docx/output.docx?md5=XwZF7gNSdBEVvDR9oQMRdA&expires=1752810238&shardkey=9890318318a948b58bff95705b56aace_1752809263&filename=output.docx, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:28:57.600 | SUCCESS  | core.routing:onlyoffice_callback:689 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:28:58.103 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 11:28:58.104 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 11:28:58.105 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 11:28:58.105 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 11:28:58.107 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 11:28:58.108 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 11:28:58.110 | DEBUG    | core.routing:test_button_clicked:654 - test_button_clicked 调用结果:meta=None content=[TextContent(type='text', text='{"project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计", "project_files": ["2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/Top Gun • Danger Zone • Kenny Loggins.mkv", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/WANGFEI.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/口是心非-张雨生 国语MV.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王傑 Dave Wang - 是否我真的一無所有 Is It True That I Have Nothing Of My Own (官方完整版MV).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王菲 -《執迷不悔 (1993版，國語)》(Official Music Video).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/辛晓琪这首《俩俩相忘》经典好听，相濡以沫，不如相忘于江湖.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/關淑怡-難得有情人(粵語版).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-03 苏州市2025年市区电网接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-04 电缆土建一览图-船闸20240605 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-05 电缆引下接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-06 船闸变110kV屋内配电装置平面布置图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-07 电缆金属护层接地方式图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-10 接头井内电缆布置示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-11 电缆沟接地图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-12 电缆防火示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-14 设备材料清册1-2.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/.~lock.胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx#", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-02 主要设备材料清册.doc", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-02~05 电气总平面及各层平面布置图、断面图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D2-01~03.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-ML 目录.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-01.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-02.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj"], "hint": "文件较多，若用户无要求，无需罗列"}', annotations=None)] isError=False
2025-07-18 11:29:07.005 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:d98753bd058b45e0b8298d73190a6001_1752809347,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 11:29:07.005 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:d98753bd058b45e0b8298d73190a6001_1752809347
2025-07-18 11:29:07.391 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑keyd98753bd058b45e0b8298d73190a6001_1752809347的文件路径2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:29:07.391 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=1, key=d98753bd058b45e0b8298d73190a6001_1752809347, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:29:07.391 | INFO     | core.routing:onlyoffice_callback:697 - 状态码为 1，无需保存
2025-07-18 11:29:07.409 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'd98753bd058b45e0b8298d73190a6001', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 11:29:07.410 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'd98753bd058b45e0b8298d73190a6001' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 11:29:07.410 | DEBUG    | core.routing:download_file_via_token:287 - Token 'd98753bd058b45e0b8298d73190a6001' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 11:36:47.014 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:None
2025-07-18 11:36:47.014 | INFO     | core.routing:onlyoffice_callback:675 - 接收到回调：status=1, key=None, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:36:47.014 | INFO     | core.routing:onlyoffice_callback:697 - 状态码为 1，无需保存
2025-07-18 11:48:03.032 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 d2d750cb-da03-4bb3-b463-00685d01cd8a 用户 admin 断开连接
2025-07-18 11:48:03.032 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 11:48:03.033 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/d2d750cb-da03-4bb3-b463-00685d01cd8a.json
2025-07-18 11:48:03.033 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-18 11:48:03.132 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 61316 - 服务器关闭中...
2025-07-18 11:48:03.132 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-18 11:48:03.132 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:44 - Session Secret Key: ********110c
2025-07-18 11:48:08.317 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-18 11:48:08.318 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-18 11:48:08.318 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-18 11:48:08.321 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-18 11:48:08.337 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 98239 - 服务器启动中...
2025-07-18 11:48:08.370 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-18 11:48:08.370 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-18 11:48:08.376 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-18 11:48:08.377 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-18 11:48:08.377 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-18 11:48:08.377 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 11:48:08.377 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-18 11:48:08.377 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-18 11:48:08)
2025-07-18 11:48:08.385 | INFO     | database.filebase:scan_existing:317 - 处理 1165 个文件...
2025-07-18 11:48:13.008 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-18 11:48:13, 总耗时: 4.63 秒)
2025-07-18 11:48:13.018 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:48:13.019 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-18 11:48:13.019 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-18 11:48:13.019 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-18 11:48:13.021 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-18 11:48:13.021 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-18 11:48:13.021 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-18 11:48:13.021 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-18 11:48:13.021 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-18 11:48:13.048 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-18 11:48:13.049 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-18 11:48:13.049 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-18 11:48:13.052 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-18 11:48:13.052 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-18 11:48:13.053 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-18 11:48:13.053 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-18 11:48:13.053 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-18 11:48:19.160 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 66fbf3d3-f548-4b30-b2b4-f22d94bd3e99, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-18 11:48:19.160 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 127.0.0.1, Session: 66fbf3d3-f548-4b30-b2b4-f22d94bd3e99) 登录成功。
2025-07-18 11:48:19.216 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 66fbf3d3-f548-4b30-b2b4-f22d94bd3e99) 的 WebSocket 已连接并关联。
2025-07-18 11:48:19.296 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 11:48:20.460 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 11:48:20.460 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 11:48:20.461 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 11:48:20.461 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 11:48:20.463 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 11:48:20.464 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 11:48:20.466 | DEBUG    | core.routing:test_button_clicked:654 - test_button_clicked 调用结果:meta=None content=[TextContent(type='text', text='{"project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计", "project_files": ["2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/Top Gun • Danger Zone • Kenny Loggins.mkv", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/WANGFEI.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/口是心非-张雨生 国语MV.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王傑 Dave Wang - 是否我真的一無所有 Is It True That I Have Nothing Of My Own (官方完整版MV).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王菲 -《執迷不悔 (1993版，國語)》(Official Music Video).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/辛晓琪这首《俩俩相忘》经典好听，相濡以沫，不如相忘于江湖.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/關淑怡-難得有情人(粵語版).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-03 苏州市2025年市区电网接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-04 电缆土建一览图-船闸20240605 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-05 电缆引下接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-06 船闸变110kV屋内配电装置平面布置图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-07 电缆金属护层接地方式图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-10 接头井内电缆布置示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-11 电缆沟接地图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-12 电缆防火示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-14 设备材料清册1-2.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/.~lock.胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx#", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-02 主要设备材料清册.doc", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-02~05 电气总平面及各层平面布置图、断面图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D2-01~03.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-ML 目录.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-01.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-02.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj"], "hint": "文件较多，若用户无要求，无需罗列"}', annotations=None)] isError=False
2025-07-18 11:48:23.225 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:7d2d9ae1796b45de85126935e2ed8cf4_1752810503,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 11:48:23.226 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:7d2d9ae1796b45de85126935e2ed8cf4_1752810503
2025-07-18 11:48:23.808 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 11:48:23.809 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key:7d2d9ae1796b45de85126935e2ed8cf4_1752810503,文件路径:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:48:23.809 | INFO     | core.routing:onlyoffice_callback:676 - 接收到回调：status=1, key=7d2d9ae1796b45de85126935e2ed8cf4_1752810503, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 11:48:23.809 | INFO     | core.routing:onlyoffice_callback:698 - 状态码为 1，无需保存
2025-07-18 11:48:24.097 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 11:48:24.097 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:d98753bd058b45e0b8298d73190a6001_1752809347
2025-07-18 11:48:24.098 | INFO     | core.routing:onlyoffice_callback:676 - 接收到回调：status=2, key=d98753bd058b45e0b8298d73190a6001_1752809347, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/d98753bd058b45e0b8298d73190a6001_1752809347_8271/output.docx/output.docx?md5=1JQgL5NBWDOljrJZPJHaFA&expires=1752811405&shardkey=d98753bd058b45e0b8298d73190a6001_1752809347&filename=output.docx, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 11:48:24.134 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: '7d2d9ae1796b45de85126935e2ed8cf4', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 11:48:24.134 | INFO     | core.session:get_downloadable_file_info:351 - 下载token '7d2d9ae1796b45de85126935e2ed8cf4' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 11:48:24.134 | DEBUG    | core.routing:download_file_via_token:287 - Token '7d2d9ae1796b45de85126935e2ed8cf4' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 11:48:24.141 | SUCCESS  | core.routing:onlyoffice_callback:690 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:46:48.680 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:f505b58c6d4744f89596ae1c5b09fb6a_1752814008,title:苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx.
2025-07-18 12:46:48.680 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx进行编辑注册,key:f505b58c6d4744f89596ae1c5b09fb6a_1752814008
2025-07-18 12:46:49.273 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 12:46:49.273 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key:f505b58c6d4744f89596ae1c5b09fb6a_1752814008,文件路径:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx
2025-07-18 12:46:49.273 | INFO     | core.routing:onlyoffice_callback:676 - 接收到回调：status=1, key=f505b58c6d4744f89596ae1c5b09fb6a_1752814008, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx
2025-07-18 12:46:49.273 | INFO     | core.routing:onlyoffice_callback:698 - 状态码为 1，无需保存
2025-07-18 12:46:49.288 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'f505b58c6d4744f89596ae1c5b09fb6a', URL中的文件名: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx'
2025-07-18 12:46:49.288 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'f505b58c6d4744f89596ae1c5b09fb6a' (文件: 苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 12:46:49.289 | DEBUG    | core.routing:download_file_via_token:287 - Token 'f505b58c6d4744f89596ae1c5b09fb6a' 验证成功。准备下载文件: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx', URL文件名: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx')
2025-07-18 12:46:54.410 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 12:46:54.410 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:7d2d9ae1796b45de85126935e2ed8cf4_1752810503
2025-07-18 12:46:54.411 | INFO     | core.routing:onlyoffice_callback:676 - 接收到回调：status=2, key=7d2d9ae1796b45de85126935e2ed8cf4_1752810503, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/7d2d9ae1796b45de85126935e2ed8cf4_1752810503_8073/output.docx/output.docx?md5=Keivucg_kE3AVhkVJVuQ9w&expires=1752814915&shardkey=7d2d9ae1796b45de85126935e2ed8cf4_1752810503&filename=output.docx, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:46:54.452 | SUCCESS  | core.routing:onlyoffice_callback:690 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:56:38.949 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:cell, key:a3dbad8081804c9cabfbc7fec8d537b7_1752814598,title:船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx.
2025-07-18 12:56:38.950 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx进行编辑注册,key:a3dbad8081804c9cabfbc7fec8d537b7_1752814598
2025-07-18 12:56:39.601 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 12:56:39.601 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key:a3dbad8081804c9cabfbc7fec8d537b7_1752814598,文件路径:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-18 12:56:39.601 | INFO     | core.routing:onlyoffice_callback:676 - 接收到回调：status=1, key=a3dbad8081804c9cabfbc7fec8d537b7_1752814598, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx
2025-07-18 12:56:39.601 | INFO     | core.routing:onlyoffice_callback:698 - 状态码为 1，无需保存
2025-07-18 12:56:39.627 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'a3dbad8081804c9cabfbc7fec8d537b7', URL中的文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx'
2025-07-18 12:56:39.627 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'a3dbad8081804c9cabfbc7fec8d537b7' (文件: 船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 12:56:39.627 | DEBUG    | core.routing:download_file_via_token:287 - Token 'a3dbad8081804c9cabfbc7fec8d537b7' 验证成功。准备下载文件: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx', URL文件名: '船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx')
2025-07-18 12:56:44.788 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 12:56:44.788 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:f505b58c6d4744f89596ae1c5b09fb6a_1752814008
2025-07-18 12:56:44.788 | INFO     | core.routing:onlyoffice_callback:676 - 接收到回调：status=2, key=f505b58c6d4744f89596ae1c5b09fb6a_1752814008, url=http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8080/cache/files/data/f505b58c6d4744f89596ae1c5b09fb6a_1752814008_1724/output.docx/output.docx?md5=xpHZoPyZxnYKK65-mLwEtw&expires=1752815505&shardkey=f505b58c6d4744f89596ae1c5b09fb6a_1752814008&filename=output.docx, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:56:44.824 | SUCCESS  | core.routing:onlyoffice_callback:690 - 文档保存成功: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:57:50.609 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 66fbf3d3-f548-4b30-b2b4-f22d94bd3e99 用户 admin 断开连接
2025-07-18 12:57:50.609 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 12:57:50.610 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/66fbf3d3-f548-4b30-b2b4-f22d94bd3e99.json
2025-07-18 12:57:50.610 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-18 12:57:50.710 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 98239 - 服务器关闭中...
2025-07-18 12:57:50.710 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-18 12:57:50.710 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-18 12:58:05.845 | INFO     | __main__:<module>:44 - Session Secret Key: ********70b8
2025-07-18 12:58:05.846 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-18 12:58:05.846 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-18 12:58:05.846 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-18 12:58:05.849 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-18 12:58:05.866 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 160167 - 服务器启动中...
2025-07-18 12:58:05.899 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-18 12:58:05.899 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-18 12:58:05.906 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-18 12:58:05.906 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-18 12:58:05.906 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-18 12:58:05.907 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 12:58:05.907 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-18 12:58:05.907 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-18 12:58:05)
2025-07-18 12:58:05.915 | INFO     | database.filebase:scan_existing:317 - 处理 1168 个文件...
2025-07-18 12:58:10.656 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-18 12:58:10, 总耗时: 4.75 秒)
2025-07-18 12:58:10.671 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 12:58:10.674 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-18 12:58:10.675 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-18 12:58:10.675 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-18 12:58:10.678 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-18 12:58:10.678 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-18 12:58:10.678 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-18 12:58:10.678 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-18 12:58:10.678 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-18 12:58:10.710 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.04 秒。
2025-07-18 12:58:10.712 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-18 12:58:10.712 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-18 12:58:10.714 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-18 12:58:10.714 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-18 12:58:10.714 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-18 12:58:10.715 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-18 12:58:10.715 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-18 12:58:12.448 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 1765742f-2485-41a0-84f1-0cbd4571df93, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-18 12:58:12.448 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 127.0.0.1, Session: 1765742f-2485-41a0-84f1-0cbd4571df93) 登录成功。
2025-07-18 12:58:12.512 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 1765742f-2485-41a0-84f1-0cbd4571df93) 的 WebSocket 已连接并关联。
2025-07-18 12:58:12.588 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 12:58:14.715 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 12:58:14.715 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 12:58:14.716 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 12:58:14.717 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 12:58:14.718 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 12:58:14.719 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 12:58:14.721 | DEBUG    | core.routing:test_button_clicked:654 - test_button_clicked 调用结果:meta=None content=[TextContent(type='text', text='{"project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计", "project_files": ["2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/Top Gun • Danger Zone • Kenny Loggins.mkv", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/WANGFEI.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/口是心非-张雨生 国语MV.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王傑 Dave Wang - 是否我真的一無所有 Is It True That I Have Nothing Of My Own (官方完整版MV).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王菲 -《執迷不悔 (1993版，國語)》(Official Music Video).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/辛晓琪这首《俩俩相忘》经典好听，相濡以沫，不如相忘于江湖.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/關淑怡-難得有情人(粵語版).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-03 苏州市2025年市区电网接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-04 电缆土建一览图-船闸20240605 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-05 电缆引下接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-06 船闸变110kV屋内配电装置平面布置图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-07 电缆金属护层接地方式图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-10 接头井内电缆布置示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-11 电缆沟接地图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-12 电缆防火示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-14 设备材料清册1-2.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/.~lock.胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx#", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-02 主要设备材料清册.doc", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-02~05 电气总平面及各层平面布置图、断面图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D2-01~03.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-ML 目录.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-01.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-02.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj"], "hint": "文件较多，若用户无要求，无需罗列"}', annotations=None)] isError=False
2025-07-18 12:58:17.001 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:d862114239214f14982064c57f288db2_1752814697,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 12:58:17.001 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:d862114239214f14982064c57f288db2_1752814697
2025-07-18 12:58:17.554 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 12:58:17.554 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key:d862114239214f14982064c57f288db2_1752814697,文件路径:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 12:58:17.555 | INFO     | core.routing:onlyoffice_callback:678 - 接收到回调：status=1, key=d862114239214f14982064c57f288db2_1752814697, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 12:58:17.555 | INFO     | core.routing:onlyoffice_callback:700 - 状态码为 1，无需保存
2025-07-18 12:58:17.570 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'd862114239214f14982064c57f288db2', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 12:58:17.570 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'd862114239214f14982064c57f288db2' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 12:58:17.570 | DEBUG    | core.routing:download_file_via_token:287 - Token 'd862114239214f14982064c57f288db2' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 13:00:25.627 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 1765742f-2485-41a0-84f1-0cbd4571df93 用户 admin 断开连接
2025-07-18 13:00:25.627 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 13:00:25.628 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/1765742f-2485-41a0-84f1-0cbd4571df93.json
2025-07-18 13:00:25.628 | INFO     | core.session:disconnect_websocket:107 - 用户 'admin' 的 WebSocket 已断开。
2025-07-18 13:00:25.728 | INFO     | __main__:combined_lifespan:139 - COMBINED LIFESPAN END - PID: 160167 - 服务器关闭中...
2025-07-18 13:00:25.728 | INFO     | __main__:combined_lifespan:153 - APScheduler 调度器已关闭。
2025-07-18 13:00:25.728 | INFO     | __main__:combined_lifespan:154 - Custom application resources cleaned up.
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:36 - Loguru 日志系统已初始化。
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:37 - 项目根目录配置为: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:38 - 数据库路径配置为: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:39 - 表格列读取配置已加载: {'变电站安装工程概算表': (2, 6), '变电站建筑工程概算表': (2, 6), '电缆输电线路安装工程概算表': (2, 6), '电缆输电线路建筑工程概算表': (2, 6)}
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:40 - kkFileView 服务地址配置为: http://127.0.0.1:8012/kkfileview
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:43 - Dify Agent API Key: ********kGHe
2025-07-18 13:02:20.619 | INFO     | __main__:<module>:44 - Session Secret Key: ********8e11
2025-07-18 13:02:20.620 | INFO     | __main__:<module>:45 - 服务器ipv6地址为: http://[240e:479:668:3c1c:921f:754c:5966:e9fc]:8888
2025-07-18 13:02:20.620 | INFO     | __main__:<module>:165 - FastAPI 应用已实例化并注册到 app_state。
2025-07-18 13:02:20.620 | INFO     | __main__:<module>:168 - CORS中间件已添加，允许所有来源。
2025-07-18 13:02:20.624 | INFO     | __main__:<module>:184 - MCP 服务器 '项目文件检索服务器' 已挂载到 FastAPI 应用的 '/mcp/' 路径。
2025-07-18 13:02:20.641 | INFO     | __main__:combined_lifespan:65 - COMBINED LIFESPAN START - PID: 164352 - 服务器启动中...
2025-07-18 13:02:20.676 | INFO     | __main__:combined_lifespan:70 - HTTPX 客户端已创建并注册到 app_state。
2025-07-18 13:02:20.677 | INFO     | utils.utils:check_embedding_service_health:23 - 正在检查嵌入模型服务，目标URL: http://127.0.0.1:8001/v1/models
2025-07-18 13:02:20.683 | INFO     | utils.utils:check_embedding_service_health:32 - 嵌入模型服务可用，模型列表: ['/home/zhouxiang/models/BAAI_bge-m3']
2025-07-18 13:02:20.683 | INFO     | core.session:__init__:78 - SessionStateManager已初始化。整体HTTP不活动超时: 3600秒
2025-07-18 13:02:20.683 | INFO     | __main__:combined_lifespan:78 - SessionStateManager 已实例化并注册到 app_state。
2025-07-18 13:02:20.684 | INFO     | database.filebase:_init_db:71 - 正在初始化数据库: /home/zhouxiang/mcp_file_server/data/project_files.db
2025-07-18 13:02:20.684 | INFO     | database.filebase:_init_db:87 - 数据库 /home/zhouxiang/mcp_file_server/data/project_files.db 初始化完成，已确保 indexed_files 表存在。
2025-07-18 13:02:20.684 | INFO     | database.filebase:scan_existing:312 - 开始执行初始全量扫描... (开始时间: 2025-07-18 13:02:20)
2025-07-18 13:02:20.695 | INFO     | database.filebase:scan_existing:317 - 处理 1168 个文件...
2025-07-18 13:02:25.394 | INFO     | database.filebase:scan_existing:343 - 初始全量扫描完成。 (结束时间: 2025-07-18 13:02:25, 总耗时: 4.71 秒)
2025-07-18 13:02:25.405 | INFO     | database.filebase:start_watchdog:303 - 文件系统监视器已启动，正在监视: /media/zhouxiang/FC7C74827C743A0A/Projects1
2025-07-18 13:02:25.406 | INFO     | database.specbase:_init_db:104 - 正在初始化规程规范数据库: /home/zhouxiang/mcp_file_server/data/spec_files.db
2025-07-18 13:02:25.406 | INFO     | database.specbase:_init_db:119 - 数据库 /home/zhouxiang/mcp_file_server/data/spec_files.db 初始化完成，已确保 spec_files 表存在。
2025-07-18 13:02:25.406 | INFO     | database.specbase:scan_specs:188 - 开始执行规程规范全量扫描...
2025-07-18 13:02:25.409 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/线路
2025-07-18 13:02:25.409 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/土建
2025-07-18 13:02:25.410 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/技经
2025-07-18 13:02:25.410 | WARNING  | database.specbase:scan_specs:194 - 专业目录不存在，跳过: /media/zhouxiang/FC7C74827C743A0A/规程规范/公用
2025-07-18 13:02:25.410 | INFO     | database.specbase:scan_specs:206 - 在 7 个专业目录中找到 7 个符合条件的文件需要处理。
2025-07-18 13:02:25.437 | INFO     | database.specbase:scan_specs:215 - 规程规范全量扫描完成，总耗时: 0.03 秒。
2025-07-18 13:02:25.438 | INFO     | __main__:combined_lifespan:101 - AsyncIOScheduler 已实例化并注册到 app_state。
2025-07-18 13:02:25.438 | INFO     | __main__:combined_lifespan:105 - FastMCP lifespan context entered.
2025-07-18 13:02:25.441 | INFO     | __main__:combined_lifespan:123 - 规程规范定时扫描任务已添加到APScheduler (每天 2:30)。
2025-07-18 13:02:25.441 | INFO     | __main__:combined_lifespan:126 - 处理不活动用户会话任务已添加到APScheduler (每 60s)。
2025-07-18 13:02:25.441 | INFO     | __main__:combined_lifespan:129 - 清理用户会话中已打开文件token任务已添加到APScheduler (每 120s)。
2025-07-18 13:02:25.442 | INFO     | __main__:combined_lifespan:132 - APScheduler 调度器已启动。
2025-07-18 13:02:25.442 | INFO     | __main__:combined_lifespan:133 - 所有初始化完成... yield
2025-07-18 13:02:26.869 | INFO     | core.session:attempt_login:141 - 用户 'admin' (会话: 50c54cc0-f2eb-40aa-8abd-337727f7ed62, IP: 127.0.0.1) 登录/状态更新成功。
2025-07-18 13:02:26.869 | INFO     | core.routing:login:118 - 用户 'admin' (IP: 127.0.0.1, Session: 50c54cc0-f2eb-40aa-8abd-337727f7ed62) 登录成功。
2025-07-18 13:02:26.935 | INFO     | core.session:connect_websocket:92 - 用户 'admin' (会话: 50c54cc0-f2eb-40aa-8abd-337727f7ed62) 的 WebSocket 已连接并关联。
2025-07-18 13:02:27.015 | DEBUG    | sse_proxy.sse2websocket1:run:226 - 获取到的工具列表: ['query_specification_knowledge_base', 'diff_project_file', 'read_project_file', 'query_project_files', 'open_specification_files']
2025-07-18 13:02:28.014 | INFO     | my_mcp_tools.mcp_tools:query_project_files:774 - 工具调用: query_project_files, 项目关键字='船闸', 年份='None'
2025-07-18 13:02:28.014 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:798 - 第一步: 开始模糊匹配，关键字: '船闸', 年份: None
2025-07-18 13:02:28.015 | DEBUG    | my_mcp_tools.mcp_tools:query_project_files:808 - 模糊匹配查询到 1 个项目: ['江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计']
2025-07-18 13:02:28.015 | INFO     | my_mcp_tools.mcp_tools:query_project_files:812 - 模糊匹配到唯一项目: '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'
2025-07-18 13:02:28.016 | INFO     | core.session:update_opened_dir:292 - 用户 'admin' 的工作目录已更新为 '江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计'，包含 67 个文件。
2025-07-18 13:02:28.017 | INFO     | core.session:update_opened_dir:316 - 已向用户 'admin' 发送工作目录更新通知。
2025-07-18 13:02:28.019 | DEBUG    | core.routing:test_button_clicked:654 - test_button_clicked 调用结果:meta=None content=[TextContent(type='text', text='{"project_name": "江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计", "project_files": ["2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/Top Gun • Danger Zone • Kenny Loggins.mkv", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/WANGFEI.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/口是心非-张雨生 国语MV.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王傑 Dave Wang - 是否我真的一無所有 Is It True That I Have Nothing Of My Own (官方完整版MV).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/王菲 -《執迷不悔 (1993版，國語)》(Official Music Video).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/辛晓琪这首《俩俩相忘》经典好听，相濡以沫，不如相忘于江湖.mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/测试/關淑怡-難得有情人(粵語版).mp3", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-01 胥口~石湖T接船闸变电站110千伏线路工程（电缆）初步设计说明书20240715.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-02 电缆线路路径图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-03 苏州市2025年市区电网接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-04 电缆土建一览图-船闸20240605 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-05 电缆引下接线示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-06 船闸变110kV屋内配电装置平面布置图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-07 电缆金属护层接地方式图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-08 电缆支架示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-09 电缆敷设断面图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-10 接头井内电缆布置示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-11 电缆沟接地图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-12 电缆防火示意图 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-13 电缆夹具 Model (1).pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/图纸/382-S230168C-A-14 设备材料清册1-2.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/.~lock.胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx#", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/胥口~石湖T接船闸变电站110千伏线路工程（电缆）收口版7.23/概算书/胥口～石湖T接船闸变110千伏线路工程-概算7.23.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/★初步设计（20240723--经研院审查后收口版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/船闸110千伏变电站2号3号主变扩建工程/船闸变电概算/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-01 初步设计说明书.docx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-A-02 主要设备材料清册.doc", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-01 电气主接线图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D1-02~05 电气总平面及各层平面布置图、断面图.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-D2-01~03.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-ML 目录.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-01.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/382-B230168C-X1-02.dwg", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/test.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-01 初步设计说明书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-A-02 主要设备材料清册.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-01 电气主接线图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-02 电气总平面及一层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-03 二层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-04 三层平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D1-05 电气总断面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-01 二次设备室平面布置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-02 继电保护配置图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-D2-03 计算机监控系统示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-ML 目录.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-01 2022年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/382-B230168C-X1-02 2025年苏州市区35千伏及以上电网地理接线示意图.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/★初步设计（20240531--内审后修改版）PDF/船闸110千伏变电站2号3号主变扩建工程-概算书.pdf", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/江苏苏州船闸110千伏变电站2号3号主变扩建工程-初设汇报.pptx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.xlsx", "2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/送审/★初步设计（20240531--内审后修改版）/船闸110千伏变电站2号3号主变扩建工程-概算书.zwzj"], "hint": "文件较多，若用户无要求，无需罗列"}', annotations=None)] isError=False
2025-07-18 13:02:29.590 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:e287344a7c0c485181279b876d2df842_1752814949,title:会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx.
2025-07-18 13:02:29.590 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx进行编辑注册,key:e287344a7c0c485181279b876d2df842_1752814949
2025-07-18 13:02:30.210 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 13:02:30.211 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key:e287344a7c0c485181279b876d2df842_1752814949,文件路径:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 13:02:30.211 | INFO     | core.routing:onlyoffice_callback:678 - 接收到回调：status=1, key=e287344a7c0c485181279b876d2df842_1752814949, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx
2025-07-18 13:02:30.211 | INFO     | core.routing:onlyoffice_callback:700 - 状态码为 1，无需保存
2025-07-18 13:02:30.228 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'e287344a7c0c485181279b876d2df842', URL中的文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx'
2025-07-18 13:02:30.229 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'e287344a7c0c485181279b876d2df842' (文件: 会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 13:02:30.229 | DEBUG    | core.routing:download_file_via_token:287 - Token 'e287344a7c0c485181279b876d2df842' 验证成功。准备下载文件: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx', URL文件名: '会议纪要_江苏苏州船闸110千伏变电站2号3号主变扩建工程2024.7.23.docx')
2025-07-18 13:06:02.944 | INFO     | core.routing:open_document:577 - onlyoffice confg: filie_type:word, key:fcd08f11b40a455db03c833c63879ef6_1752815162,title:苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx.
2025-07-18 13:06:02.944 | INFO     | core.session:set_edited_file:197 - 成功为文件2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx进行编辑注册,key:fcd08f11b40a455db03c833c63879ef6_1752815162
2025-07-18 13:06:03.527 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 13:06:03.528 | INFO     | core.session:get_edited_file:206 - 成功获取文件编辑key:fcd08f11b40a455db03c833c63879ef6_1752815162,文件路径:2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx
2025-07-18 13:06:03.528 | INFO     | core.routing:onlyoffice_callback:678 - 接收到回调：status=1, key=fcd08f11b40a455db03c833c63879ef6_1752815162, url=None, TARGET_SAVE_PATH：/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx
2025-07-18 13:06:03.528 | INFO     | core.routing:onlyoffice_callback:700 - 状态码为 1，无需保存
2025-07-18 13:06:03.543 | DEBUG    | core.routing:download_file_via_token:264 - 接收到下载请求，Token: 'fcd08f11b40a455db03c833c63879ef6', URL中的文件名: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx'
2025-07-18 13:06:03.543 | INFO     | core.session:get_downloadable_file_info:351 - 下载token 'fcd08f11b40a455db03c833c63879ef6' (文件: 苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx, 用户: admin) 在 working_directory 中验证成功。
2025-07-18 13:06:03.543 | DEBUG    | core.routing:download_file_via_token:287 - Token 'fcd08f11b40a455db03c833c63879ef6' 验证成功。准备下载文件: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx' (路径: '/media/zhouxiang/FC7C74827C743A0A/Projects1/2024/江苏苏州船闸110千伏变电站2号3号主变扩建工程初步设计/收口/苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx', URL文件名: '苏州船闸110kV变电站2号3号主变扩建工程初步设计评审意见2024.7.23.docx')
2025-07-18 13:06:08.713 | DEBUG    | core.routing:onlyoffice_callback:667 - in.../onlyoffice/callback
2025-07-18 13:06:08.714 | ERROR    | core.session:get_edited_file:210 - 错误：未在任何用户会话数据中找到key:e287344a7c0c485181279b876d2df842_1752814949
2025-07-18 13:06:08.714 | ERROR    | core.routing:onlyoffice_callback:703 - 返回路径为空,文件保存失败
NoneType: None
2025-07-18 14:06:25.442 | INFO     | core.session:process_inactive_sessions:399 - 检测到 1 个不活动会话，将执行登出: admin
2025-07-18 14:06:25.442 | INFO     | core.session:process_inactive_sessions:405 - APScheduler: 用户 'admin' (会话 50c54cc0-f2eb-40aa-8abd-337727f7ed62) 因不活动被自动登出。
2025-07-18 14:06:25.442 | INFO     | core.session:process_inactive_sessions:407 - APScheduler: 尝试关闭用户 'admin' 的不活动WebSocket连接。
2025-07-18 14:06:25.443 | INFO     | sse_proxy.sse2websocket1:run:273 - WebSocket 会话 50c54cc0-f2eb-40aa-8abd-337727f7ed62 用户 admin 断开连接
2025-07-18 14:06:25.443 | DEBUG    | sse_proxy.sse2websocket1:_stop:89 - OpenAIWebSocketProxy._stop stop_event.set()
2025-07-18 14:06:25.444 | INFO     | sse_proxy.sse2websocket1:_save_history_to_file:207 - 会话历史已保存到: chat_history/admin/50c54cc0-f2eb-40aa-8abd-337727f7ed62.json
