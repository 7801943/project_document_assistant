<div id="upload-spec-modal" class="login-modal">
    <div class="login-modal-content">
        <span class="close-modal-button" id="close-upload-modal-button">&times;</span>
        <h1 id="upload-modal-title">上传规程文件或目录</h1>
        <form id="upload-form">
            <!-- 上传目标切换器 -->
            <div class="form-group">
                <label>上传目标:</label>
                <div style="display: flex; gap: 20px; margin-top: 8px;">
                    <label style="font-weight: normal; display: flex; align-items: center;">
                        <input type="radio" name="upload_target" value="spec" checked>
                        <span style="margin-left: 5px;">规程上传</span>
                    </label>
                    <label style="font-weight: normal; display: flex; align-items: center;">
                        <input type="radio" name="upload_target" value="project">
                        <span style="margin-left: 5px;">项目上传</span>
                    </label>
                </div>
            </div>

            <!-- 规程上传字段 (默认显示) -->
            <fieldset id="spec-fields" style="border: none; padding: 0; margin: 0;">
                <div class="form-group">
                    <label for="upload-category">专业 (Category):</label>
                    <select id="upload-category" name="category" required class="login-modal-content input[type='text']" style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 6px; box-sizing: border-box; background-color: var(--bg-color); color: var(--text-primary); font-size: 1em;">
                        <option value="" disabled selected>请选择一个专业...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="upload-spec-name">规程名称 (Spec Name):</label>
                    <input type="text" id="upload-spec-name" name="spec_name" required class="login-modal-content input[type='text']" style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 6px; box-sizing: border-box; background-color: var(--bg-color); color: var(--text-primary); font-size: 1em;" placeholder="请输入规程名称">
                </div>
            </fieldset>

            <!-- 项目上传字段 (默认隐藏) -->
            <fieldset id="project-fields" style="border: none; padding: 0; margin: 0; display: none;">
                <div class="form-group">
                    <label for="upload-year">年份 (Year):</label>
                    <input type="number" id="upload-year" name="year" required class="login-modal-content input[type='text']" style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 6px; box-sizing: border-box; background-color: var(--bg-color); color: var(--text-primary); font-size: 1em;" placeholder="请输入四位年份，例如 2024">
                </div>
                <div class="form-group">
                    <label for="upload-project-name">项目名称 (Project Name):</label>
                    <input type="text" id="upload-project-name" name="project_name" required class="login-modal-content input[type='text']" style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 6px; box-sizing: border-box; background-color: var(--bg-color); color: var(--text-primary); font-size: 1em;" placeholder="请输入项目名称">
                </div>
                <div class="form-group">
                    <label>项目类型:</label>
                    <div style="display: flex; gap: 20px; margin-top: 8px;">
                        <label style="font-weight: normal; display: flex; align-items: center;">
                            <input type="radio" name="project_type" value="送审" checked>
                            <span style="margin-left: 5px;">送审</span>
                        </label>
                        <label style="font-weight: normal; display: flex; align-items: center;">
                            <input type="radio" name="project_type" value="收口">
                            <span style="margin-left: 5px;">收口</span>
                        </label>
                    </div>
                </div>
            </fieldset>

            <!-- 通用字段 -->
            <div class="form-group">
                <label>上传类型:</label>
                <div style="display: flex; gap: 20px; margin-top: 8px;">
                    <label for="upload-type-file" style="font-weight: normal; display: flex; align-items: center;">
                        <input type="radio" id="upload-type-file" name="upload_type" value="file" checked>
                        <span style="margin-left: 5px;">文件上传</span>
                    </label>
                    <label for="upload-type-dir" style="font-weight: normal; display: flex; align-items: center;">
                        <input type="radio" id="upload-type-dir" name="upload_type" value="directory">
                        <span style="margin-left: 5px;">目录上传</span>
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label for="upload-files">选择文件或目录:</label>
                <input type="file" id="upload-files" name="files" multiple required>
            </div>
            <div class="remember-group">
                <input type="checkbox" id="upload-overwrite" name="overwrite" value="true">
                <label for="upload-overwrite" style="margin-left: 8px; margin-bottom: 0;">如果已存在，则覆盖</label>
            </div>
            <button type="submit">开始上传</button>
            <div class="error-message" id="upload-error-box"></div>
            <div class="progress-area" style="display: none;">
                <div class="progress-bar-container">
                    <div id="upload-progress-bar" class="progress-bar"></div>
                </div>
                <div id="upload-progress-text" class="progress-text"></div>
            </div>
        </form>
    </div>
</div>
